/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
*/(function(C,w){var ve,P,I=typeof w,E=C.document,S=C.location,s=C.jQuery,u=C.$,p={},v=[],h="1.9.1",y=v.concat,b=v.push,A=v.slice,B=v.indexOf,j=p.toString,O=p.hasOwnProperty,M=h.trim,o=function(i,l){return new o.fn.init(i,l,P)},k=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=/\S+/g,V=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Q=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,W=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^[\],:{}\s]*$/,be=/(?:^|:|,)(?:\s*\[)+/g,$e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ee=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,He=/^-ms-/,Re=/-([\da-z])/gi,Je=function(i,l){return l.toUpperCase()},Ue=function(i){(E.addEventListener||i.type==="load"||E.readyState==="complete")&&(ht(),o.ready())},ht=function(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",Ue,!1),C.removeEventListener("load",Ue,!1)):(E.detachEvent("onreadystatechange",Ue),C.detachEvent("onload",Ue))};o.fn=o.prototype={jquery:h,constructor:o,init:function(i,l,d){var f,m;if(!i)return this;if(typeof i=="string"){if(f=i.charAt(0)==="<"&&i.charAt(i.length-1)===">"&&i.length>=3?[null,i,null]:Q.exec(i),!f||!f[1]&&l)return!l||l.jquery?(l||d).find(i):this.constructor(l).find(i);if(f[1]){if(l=l instanceof o?l[0]:l,o.merge(this,o.parseHTML(f[1],l&&l.nodeType?l.ownerDocument||l:E,!0)),W.test(f[1])&&o.isPlainObject(l))for(f in l)o.isFunction(this[f])?this[f](l[f]):this.attr(f,l[f]);return this}if(m=E.getElementById(f[2]),m&&m.parentNode){if(m.id!==f[2])return d.find(i);this.length=1,this[0]=m}return this.context=E,this.selector=i,this}return i.nodeType?(this.context=this[0]=i,this.length=1,this):o.isFunction(i)?d.ready(i):(i.selector!==w&&(this.selector=i.selector,this.context=i.context),o.makeArray(i,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return A.call(this)},get:function(i){return i==null?this.toArray():0>i?this[this.length+i]:this[i]},pushStack:function(i){var l=o.merge(this.constructor(),i);return l.prevObject=this,l.context=this.context,l},each:function(i,l){return o.each(this,i,l)},ready:function(i){return o.ready.promise().done(i),this},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var l=this.length,d=+i+(0>i?l:0);return this.pushStack(d>=0&&l>d?[this[d]]:[])},map:function(i){return this.pushStack(o.map(this,function(l,d){return i.call(l,d,l)}))},end:function(){return this.prevObject||this.constructor(null)},push:b,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var i,l,d,f,m,x,L=arguments[0]||{},R=1,F=arguments.length,X=!1;for(typeof L=="boolean"&&(X=L,L=arguments[1]||{},R=2),typeof L=="object"||o.isFunction(L)||(L={}),F===R&&(L=this,--R);F>R;R++)if((m=arguments[R])!=null)for(f in m)i=L[f],d=m[f],L!==d&&(X&&d&&(o.isPlainObject(d)||(l=o.isArray(d)))?(l?(l=!1,x=i&&o.isArray(i)?i:[]):x=i&&o.isPlainObject(i)?i:{},L[f]=o.extend(X,x,d)):d!==w&&(L[f]=d));return L},o.extend({noConflict:function(i){return C.$===o&&(C.$=u),i&&C.jQuery===o&&(C.jQuery=s),o},isReady:!1,readyWait:1,holdReady:function(i){i?o.readyWait++:o.ready(!0)},ready:function(i){if(i===!0?!--o.readyWait:!o.isReady){if(!E.body)return setTimeout(o.ready);o.isReady=!0,i!==!0&&--o.readyWait>0||(ve.resolveWith(E,[o]),o.fn.trigger&&o(E).trigger("ready").off("ready"))}},isFunction:function(i){return o.type(i)==="function"},isArray:Array.isArray||function(i){return o.type(i)==="array"},isWindow:function(i){return i!=null&&i==i.window},isNumeric:function(i){return!isNaN(parseFloat(i))&&isFinite(i)},type:function(i){return i==null?i+"":typeof i=="object"||typeof i=="function"?p[j.call(i)]||"object":typeof i},isPlainObject:function(i){if(!i||o.type(i)!=="object"||i.nodeType||o.isWindow(i))return!1;try{if(i.constructor&&!O.call(i,"constructor")&&!O.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}var l;for(l in i);return l===w||O.call(i,l)},isEmptyObject:function(i){var l;for(l in i)return!1;return!0},error:function(i){throw Error(i)},parseHTML:function(i,l,d){if(!i||typeof i!="string")return null;typeof l=="boolean"&&(d=l,l=!1),l=l||E;var f=W.exec(i),m=!d&&[];return f?[l.createElement(f[1])]:(f=o.buildFragment([i],l,m),m&&o(m).remove(),o.merge([],f.childNodes))},parseJSON:function(i){return C.JSON&&C.JSON.parse?C.JSON.parse(i):i===null?i:typeof i=="string"&&(i=o.trim(i),i&&le.test(i.replace($e,"@").replace(Ee,"]").replace(be,"")))?Function("return "+i)():(o.error("Invalid JSON: "+i),w)},parseXML:function(i){var l,d;if(!i||typeof i!="string")return null;try{C.DOMParser?(d=new DOMParser,l=d.parseFromString(i,"text/xml")):(l=new ActiveXObject("Microsoft.XMLDOM"),l.async="false",l.loadXML(i))}catch{l=w}return l&&l.documentElement&&!l.getElementsByTagName("parsererror").length||o.error("Invalid XML: "+i),l},noop:function(){},globalEval:function(i){i&&o.trim(i)&&(C.execScript||function(l){C.eval.call(C,l)})(i)},camelCase:function(i){return i.replace(He,"ms-").replace(Re,Je)},nodeName:function(i,l){return i.nodeName&&i.nodeName.toLowerCase()===l.toLowerCase()},each:function(i,l,d){var f,m=0,x=i.length,L=ft(i);if(d){if(L)for(;x>m&&(f=l.apply(i[m],d),f!==!1);m++);else for(m in i)if(f=l.apply(i[m],d),f===!1)break}else if(L)for(;x>m&&(f=l.call(i[m],m,i[m]),f!==!1);m++);else for(m in i)if(f=l.call(i[m],m,i[m]),f===!1)break;return i},trim:M&&!M.call("\uFEFF\xA0")?function(i){return i==null?"":M.call(i)}:function(i){return i==null?"":(i+"").replace(V,"")},makeArray:function(i,l){var d=l||[];return i!=null&&(ft(Object(i))?o.merge(d,typeof i=="string"?[i]:i):b.call(d,i)),d},inArray:function(i,l,d){var f;if(l){if(B)return B.call(l,i,d);for(f=l.length,d=d?0>d?Math.max(0,f+d):d:0;f>d;d++)if(d in l&&l[d]===i)return d}return-1},merge:function(i,l){var d=l.length,f=i.length,m=0;if(typeof d=="number")for(;d>m;m++)i[f++]=l[m];else for(;l[m]!==w;)i[f++]=l[m++];return i.length=f,i},grep:function(i,l,d){var f,m=[],x=0,L=i.length;for(d=!!d;L>x;x++)f=!!l(i[x],x),d!==f&&m.push(i[x]);return m},map:function(i,l,d){var f,m=0,x=i.length,L=ft(i),R=[];if(L)for(;x>m;m++)f=l(i[m],m,d),f!=null&&(R[R.length]=f);else for(m in i)f=l(i[m],m,d),f!=null&&(R[R.length]=f);return y.apply([],R)},guid:1,proxy:function(i,l){var d,f,m;return typeof l=="string"&&(m=i[l],l=i,i=m),o.isFunction(i)?(d=A.call(arguments,2),f=function(){return i.apply(l||this,d.concat(A.call(arguments)))},f.guid=i.guid=i.guid||o.guid++,f):w},access:function(i,l,d,f,m,x,L){var R=0,F=i.length,X=d==null;if(o.type(d)==="object"){m=!0;for(R in d)o.access(i,l,R,d[R],!0,x,L)}else if(f!==w&&(m=!0,o.isFunction(f)||(L=!0),X&&(L?(l.call(i,f),l=null):(X=l,l=function(U,ie,ne){return X.call(o(U),ne)})),l))for(;F>R;R++)l(i[R],d,L?f:f.call(i[R],R,l(i[R],d)));return m?i:X?l.call(i):F?l(i[0],d):x},now:function(){return new Date().getTime()}}),o.ready.promise=function(i){if(!ve)if(ve=o.Deferred(),E.readyState==="complete")setTimeout(o.ready);else if(E.addEventListener)E.addEventListener("DOMContentLoaded",Ue,!1),C.addEventListener("load",Ue,!1);else{E.attachEvent("onreadystatechange",Ue),C.attachEvent("onload",Ue);var l=!1;try{l=C.frameElement==null&&E.documentElement}catch{}l&&l.doScroll&&function d(){if(!o.isReady){try{l.doScroll("left")}catch{return setTimeout(d,50)}ht(),o.ready()}}()}return ve.promise(i)},o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,l){p["[object "+l+"]"]=l.toLowerCase()});function ft(i){var l=i.length,d=o.type(i);return o.isWindow(i)?!1:i.nodeType===1&&l?!0:d==="array"||d!=="function"&&(l===0||typeof l=="number"&&l>0&&l-1 in i)}P=o(E);var rt={};function K(i){var l=rt[i]={};return o.each(i.match(J)||[],function(d,f){l[f]=!0}),l}o.Callbacks=function(i){i=typeof i=="string"?rt[i]||K(i):o.extend({},i);var l,d,f,m,x,L,R=[],F=!i.once&&[],X=function(ie){for(d=i.memory&&ie,f=!0,x=L||0,L=0,m=R.length,l=!0;R&&m>x;x++)if(R[x].apply(ie[0],ie[1])===!1&&i.stopOnFalse){d=!1;break}l=!1,R&&(F?F.length&&X(F.shift()):d?R=[]:U.disable())},U={add:function(){if(R){var ie=R.length;(function ne(se){o.each(se,function(Ie,Be){var Xe=o.type(Be);Xe==="function"?i.unique&&U.has(Be)||R.push(Be):Be&&Be.length&&Xe!=="string"&&ne(Be)})})(arguments),l?m=R.length:d&&(L=ie,X(d))}return this},remove:function(){return R&&o.each(arguments,function(ie,ne){for(var se;(se=o.inArray(ne,R,se))>-1;)R.splice(se,1),l&&(m>=se&&m--,x>=se&&x--)}),this},has:function(ie){return ie?o.inArray(ie,R)>-1:!(!R||!R.length)},empty:function(){return R=[],this},disable:function(){return R=F=d=w,this},disabled:function(){return!R},lock:function(){return F=w,d||U.disable(),this},locked:function(){return!F},fireWith:function(ie,ne){return ne=ne||[],ne=[ie,ne.slice?ne.slice():ne],!R||f&&!F||(l?F.push(ne):X(ne)),this},fire:function(){return U.fireWith(this,arguments),this},fired:function(){return!!f}};return U},o.extend({Deferred:function(i){var l=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],d="pending",f={state:function(){return d},always:function(){return m.done(arguments).fail(arguments),this},then:function(){var x=arguments;return o.Deferred(function(L){o.each(l,function(R,F){var X=F[0],U=o.isFunction(x[R])&&x[R];m[F[1]](function(){var ie=U&&U.apply(this,arguments);ie&&o.isFunction(ie.promise)?ie.promise().done(L.resolve).fail(L.reject).progress(L.notify):L[X+"With"](this===f?L.promise():this,U?[ie]:arguments)})}),x=null}).promise()},promise:function(x){return x!=null?o.extend(x,f):f}},m={};return f.pipe=f.then,o.each(l,function(x,L){var R=L[2],F=L[3];f[L[1]]=R.add,F&&R.add(function(){d=F},l[1^x][2].disable,l[2][2].lock),m[L[0]]=function(){return m[L[0]+"With"](this===m?f:this,arguments),this},m[L[0]+"With"]=R.fireWith}),f.promise(m),i&&i.call(m,m),m},when:function(i){var l=0,d=A.call(arguments),f=d.length,m=f!==1||i&&o.isFunction(i.promise)?f:0,x=m===1?i:o.Deferred(),L=function(U,ie,ne){return function(se){ie[U]=this,ne[U]=arguments.length>1?A.call(arguments):se,ne===R?x.notifyWith(ie,ne):--m||x.resolveWith(ie,ne)}},R,F,X;if(f>1)for(R=Array(f),F=Array(f),X=Array(f);f>l;l++)d[l]&&o.isFunction(d[l].promise)?d[l].promise().done(L(l,X,d)).fail(x.reject).progress(L(l,F,R)):--m;return m||x.resolveWith(X,d),x.promise()}}),o.support=function(){var i,l,d,f,m,x,L,R,F,X,U=E.createElement("div");if(U.setAttribute("className","t"),U.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l=U.getElementsByTagName("*"),d=U.getElementsByTagName("a")[0],!l||!d||!l.length)return{};m=E.createElement("select"),L=m.appendChild(E.createElement("option")),f=U.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",i={getSetAttribute:U.className!=="t",leadingWhitespace:U.firstChild.nodeType===3,tbody:!U.getElementsByTagName("tbody").length,htmlSerialize:!!U.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:!!f.value,optSelected:L.selected,enctype:!!E.createElement("form").enctype,html5Clone:E.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:E.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},f.checked=!0,i.noCloneChecked=f.cloneNode(!0).checked,m.disabled=!0,i.optDisabled=!L.disabled;try{delete U.test}catch{i.deleteExpando=!1}f=E.createElement("input"),f.setAttribute("value",""),i.input=f.getAttribute("value")==="",f.value="t",f.setAttribute("type","radio"),i.radioValue=f.value==="t",f.setAttribute("checked","t"),f.setAttribute("name","t"),x=E.createDocumentFragment(),x.appendChild(f),i.appendChecked=f.checked,i.checkClone=x.cloneNode(!0).cloneNode(!0).lastChild.checked,U.attachEvent&&(U.attachEvent("onclick",function(){i.noCloneEvent=!1}),U.cloneNode(!0).click());for(X in{submit:!0,change:!0,focusin:!0})U.setAttribute(R="on"+X,"t"),i[X+"Bubbles"]=R in C||U.attributes[R].expando===!1;return U.style.backgroundClip="content-box",U.cloneNode(!0).style.backgroundClip="",i.clearCloneStyle=U.style.backgroundClip==="content-box",o(function(){var ie,ne,se,Ie="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",Be=E.getElementsByTagName("body")[0];Be&&(ie=E.createElement("div"),ie.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",Be.appendChild(ie).appendChild(U),U.innerHTML="<table><tr><td></td><td>t</td></tr></table>",se=U.getElementsByTagName("td"),se[0].style.cssText="padding:0;margin:0;border:0;display:none",F=se[0].offsetHeight===0,se[0].style.display="",se[1].style.display="none",i.reliableHiddenOffsets=F&&se[0].offsetHeight===0,U.innerHTML="",U.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.boxSizing=U.offsetWidth===4,i.doesNotIncludeMarginInBodyOffset=Be.offsetTop!==1,C.getComputedStyle&&(i.pixelPosition=(C.getComputedStyle(U,null)||{}).top!=="1%",i.boxSizingReliable=(C.getComputedStyle(U,null)||{width:"4px"}).width==="4px",ne=U.appendChild(E.createElement("div")),ne.style.cssText=U.style.cssText=Ie,ne.style.marginRight=ne.style.width="0",U.style.width="1px",i.reliableMarginRight=!parseFloat((C.getComputedStyle(ne,null)||{}).marginRight)),typeof U.style.zoom!==I&&(U.innerHTML="",U.style.cssText=Ie+"width:1px;padding:1px;display:inline;zoom:1",i.inlineBlockNeedsLayout=U.offsetWidth===3,U.style.display="block",U.innerHTML="<div></div>",U.firstChild.style.width="5px",i.shrinkWrapBlocks=U.offsetWidth!==3,i.inlineBlockNeedsLayout&&(Be.style.zoom=1)),Be.removeChild(ie),ie=U=se=ne=null)}),l=m=x=L=d=f=null,i}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,At=/([A-Z])/g;function ye(i,l,d,f){if(o.acceptData(i)){var m,x,L=o.expando,R=typeof l=="string",F=i.nodeType,X=F?o.cache:i,U=F?i[L]:i[L]&&L;if(U&&X[U]&&(f||X[U].data)||!R||d!==w)return U||(F?i[L]=U=v.pop()||o.guid++:U=L),X[U]||(X[U]={},F||(X[U].toJSON=o.noop)),(typeof l=="object"||typeof l=="function")&&(f?X[U]=o.extend(X[U],l):X[U].data=o.extend(X[U].data,l)),m=X[U],f||(m.data||(m.data={}),m=m.data),d!==w&&(m[o.camelCase(l)]=d),R?(x=m[l],x==null&&(x=m[o.camelCase(l)])):x=m,x}}function Qe(i,l,d){if(o.acceptData(i)){var f,m,x,L=i.nodeType,R=L?o.cache:i,F=L?i[o.expando]:o.expando;if(R[F]){if(l&&(x=d?R[F]:R[F].data)){for(o.isArray(l)?l=l.concat(o.map(l,o.camelCase)):(l in x)?l=[l]:(l=o.camelCase(l),l=l in x?[l]:l.split(" ")),f=0,m=l.length;m>f;f++)delete x[l[f]];if(!(d?ce:o.isEmptyObject)(x))return}(d||(delete R[F].data,ce(R[F])))&&(L?o.cleanData([i],!0):o.support.deleteExpando||R!=R.window?delete R[F]:R[F]=null)}}}o.extend({cache:{},expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(i){return i=i.nodeType?o.cache[i[o.expando]]:i[o.expando],!!i&&!ce(i)},data:function(i,l,d){return ye(i,l,d)},removeData:function(i,l){return Qe(i,l)},_data:function(i,l,d){return ye(i,l,d,!0)},_removeData:function(i,l){return Qe(i,l,!0)},acceptData:function(i){if(i.nodeType&&i.nodeType!==1&&i.nodeType!==9)return!1;var l=i.nodeName&&o.noData[i.nodeName.toLowerCase()];return!l||l!==!0&&i.getAttribute("classid")===l}}),o.fn.extend({data:function(i,l){var d,f,m=this[0],x=0,L=null;if(i===w){if(this.length&&(L=o.data(m),m.nodeType===1&&!o._data(m,"parsedAttrs"))){for(d=m.attributes;d.length>x;x++)f=d[x].name,f.indexOf("data-")||(f=o.camelCase(f.slice(5)),fe(m,f,L[f]));o._data(m,"parsedAttrs",!0)}return L}return typeof i=="object"?this.each(function(){o.data(this,i)}):o.access(this,function(R){return R===w?m?fe(m,i,o.data(m,i)):null:(this.each(function(){o.data(this,i,R)}),w)},null,l,arguments.length>1,null,!0)},removeData:function(i){return this.each(function(){o.removeData(this,i)})}});function fe(i,l,d){if(d===w&&i.nodeType===1){var f="data-"+l.replace(At,"-$1").toLowerCase();if(d=i.getAttribute(f),typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:Ct.test(d)?o.parseJSON(d):d}catch{}o.data(i,l,d)}else d=w}return d}function ce(i){var l;for(l in i)if((l!=="data"||!o.isEmptyObject(i[l]))&&l!=="toJSON")return!1;return!0}o.extend({queue:function(i,l,d){var f;return i?(l=(l||"fx")+"queue",f=o._data(i,l),d&&(!f||o.isArray(d)?f=o._data(i,l,o.makeArray(d)):f.push(d)),f||[]):w},dequeue:function(i,l){l=l||"fx";var d=o.queue(i,l),f=d.length,m=d.shift(),x=o._queueHooks(i,l),L=function(){o.dequeue(i,l)};m==="inprogress"&&(m=d.shift(),f--),x.cur=m,m&&(l==="fx"&&d.unshift("inprogress"),delete x.stop,m.call(i,L,x)),!f&&x&&x.empty.fire()},_queueHooks:function(i,l){var d=l+"queueHooks";return o._data(i,d)||o._data(i,d,{empty:o.Callbacks("once memory").add(function(){o._removeData(i,l+"queue"),o._removeData(i,d)})})}}),o.fn.extend({queue:function(i,l){var d=2;return typeof i!="string"&&(l=i,i="fx",d--),d>arguments.length?o.queue(this[0],i):l===w?this:this.each(function(){var f=o.queue(this,i,l);o._queueHooks(this,i),i==="fx"&&f[0]!=="inprogress"&&o.dequeue(this,i)})},dequeue:function(i){return this.each(function(){o.dequeue(this,i)})},delay:function(i,l){return i=o.fx&&o.fx.speeds[i]||i,l=l||"fx",this.queue(l,function(d,f){var m=setTimeout(d,i);f.stop=function(){clearTimeout(m)}})},clearQueue:function(i){return this.queue(i||"fx",[])},promise:function(i,l){var d,f=1,m=o.Deferred(),x=this,L=this.length,R=function(){--f||m.resolveWith(x,[x])};for(typeof i!="string"&&(l=i,i=w),i=i||"fx";L--;)d=o._data(x[L],i+"queueHooks"),d&&d.empty&&(f++,d.empty.add(R));return R(),m.promise(l)}});var De,Ve,Ke=/[\t\r\n]/g,ot=/\r/g,ct=/^(?:input|select|textarea|button|object)$/i,Ge=/^(?:a|area)$/i,Te=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,gt=/^(?:checked|selected)$/i,St=o.support.getSetAttribute,yn=o.support.input;o.fn.extend({attr:function(i,l){return o.access(this,o.attr,i,l,arguments.length>1)},removeAttr:function(i){return this.each(function(){o.removeAttr(this,i)})},prop:function(i,l){return o.access(this,o.prop,i,l,arguments.length>1)},removeProp:function(i){return i=o.propFix[i]||i,this.each(function(){try{this[i]=w,delete this[i]}catch{}})},addClass:function(i){var l,d,f,m,x,L=0,R=this.length,F=typeof i=="string"&&i;if(o.isFunction(i))return this.each(function(X){o(this).addClass(i.call(this,X,this.className))});if(F){for(l=(i||"").match(J)||[];R>L;L++)if(d=this[L],f=d.nodeType===1&&(d.className?(" "+d.className+" ").replace(Ke," "):" ")){for(x=0;m=l[x++];)0>f.indexOf(" "+m+" ")&&(f+=m+" ");d.className=o.trim(f)}}return this},removeClass:function(i){var l,d,f,m,x,L=0,R=this.length,F=arguments.length===0||typeof i=="string"&&i;if(o.isFunction(i))return this.each(function(X){o(this).removeClass(i.call(this,X,this.className))});if(F){for(l=(i||"").match(J)||[];R>L;L++)if(d=this[L],f=d.nodeType===1&&(d.className?(" "+d.className+" ").replace(Ke," "):"")){for(x=0;m=l[x++];)for(;f.indexOf(" "+m+" ")>=0;)f=f.replace(" "+m+" "," ");d.className=i?o.trim(f):""}}return this},toggleClass:function(i,l){var d=typeof i,f=typeof l=="boolean";return o.isFunction(i)?this.each(function(m){o(this).toggleClass(i.call(this,m,this.className,l),l)}):this.each(function(){if(d==="string")for(var m,x=0,L=o(this),R=l,F=i.match(J)||[];m=F[x++];)R=f?R:!L.hasClass(m),L[R?"addClass":"removeClass"](m);else(d===I||d==="boolean")&&(this.className&&o._data(this,"__className__",this.className),this.className=this.className||i===!1?"":o._data(this,"__className__")||"")})},hasClass:function(i){for(var l=" "+i+" ",d=0,f=this.length;f>d;d++)if(this[d].nodeType===1&&(" "+this[d].className+" ").replace(Ke," ").indexOf(l)>=0)return!0;return!1},val:function(i){var l,d,f,m=this[0];{if(arguments.length)return f=o.isFunction(i),this.each(function(x){var L,R=o(this);this.nodeType===1&&(L=f?i.call(this,x,R.val()):i,L==null?L="":typeof L=="number"?L+="":o.isArray(L)&&(L=o.map(L,function(F){return F==null?"":F+""})),d=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,L,"value")!==w||(this.value=L))});if(m)return d=o.valHooks[m.type]||o.valHooks[m.nodeName.toLowerCase()],d&&"get"in d&&(l=d.get(m,"value"))!==w?l:(l=m.value,typeof l=="string"?l.replace(ot,""):l??"")}}}),o.extend({valHooks:{option:{get:function(i){var l=i.attributes.value;return!l||l.specified?i.value:i.text}},select:{get:function(i){for(var l,d,f=i.options,m=i.selectedIndex,x=i.type==="select-one"||0>m,L=x?null:[],R=x?m+1:f.length,F=0>m?R:x?m:0;R>F;F++)if(d=f[F],!(!d.selected&&F!==m||(o.support.optDisabled?d.disabled:d.getAttribute("disabled")!==null)||d.parentNode.disabled&&o.nodeName(d.parentNode,"optgroup"))){if(l=o(d).val(),x)return l;L.push(l)}return L},set:function(i,l){var d=o.makeArray(l);return o(i).find("option").each(function(){this.selected=o.inArray(o(this).val(),d)>=0}),d.length||(i.selectedIndex=-1),d}}},attr:function(i,l,d){var f,m,x,L=i.nodeType;if(i&&L!==3&&L!==8&&L!==2)return typeof i.getAttribute===I?o.prop(i,l,d):(m=L!==1||!o.isXMLDoc(i),m&&(l=l.toLowerCase(),f=o.attrHooks[l]||(Te.test(l)?Ve:De)),d===w?f&&m&&"get"in f&&(x=f.get(i,l))!==null?x:(typeof i.getAttribute!==I&&(x=i.getAttribute(l)),x??w):d!==null?f&&m&&"set"in f&&(x=f.set(i,d,l))!==w?x:(i.setAttribute(l,d+""),d):(o.removeAttr(i,l),w))},removeAttr:function(i,l){var d,f,m=0,x=l&&l.match(J);if(x&&i.nodeType===1)for(;d=x[m++];)f=o.propFix[d]||d,Te.test(d)?!St&&gt.test(d)?i[o.camelCase("default-"+d)]=i[f]=!1:i[f]=!1:o.attr(i,d,""),i.removeAttribute(St?d:f)},attrHooks:{type:{set:function(i,l){if(!o.support.radioValue&&l==="radio"&&o.nodeName(i,"input")){var d=i.value;return i.setAttribute("type",l),d&&(i.value=d),l}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(i,l,d){var f,m,x,L=i.nodeType;if(i&&L!==3&&L!==8&&L!==2)return x=L!==1||!o.isXMLDoc(i),x&&(l=o.propFix[l]||l,m=o.propHooks[l]),d!==w?m&&"set"in m&&(f=m.set(i,d,l))!==w?f:i[l]=d:m&&"get"in m&&(f=m.get(i,l))!==null?f:i[l]},propHooks:{tabIndex:{get:function(i){var l=i.getAttributeNode("tabindex");return l&&l.specified?parseInt(l.value,10):ct.test(i.nodeName)||Ge.test(i.nodeName)&&i.href?0:w}}}}),Ve={get:function(i,l){var d=o.prop(i,l),f=typeof d=="boolean"&&i.getAttribute(l),m=typeof d=="boolean"?yn&&St?f!=null:gt.test(l)?i[o.camelCase("default-"+l)]:!!f:i.getAttributeNode(l);return m&&m.value!==!1?l.toLowerCase():w},set:function(i,l,d){return l===!1?o.removeAttr(i,d):yn&&St||!gt.test(d)?i.setAttribute(!St&&o.propFix[d]||d,d):i[o.camelCase("default-"+d)]=i[d]=!0,d}},yn&&St||(o.attrHooks.value={get:function(i,l){var d=i.getAttributeNode(l);return o.nodeName(i,"input")?i.defaultValue:d&&d.specified?d.value:w},set:function(i,l,d){return o.nodeName(i,"input")?(i.defaultValue=l,w):De&&De.set(i,l,d)}}),St||(De=o.valHooks.button={get:function(i,l){var d=i.getAttributeNode(l);return d&&(l==="id"||l==="name"||l==="coords"?d.value!=="":d.specified)?d.value:w},set:function(i,l,d){var f=i.getAttributeNode(d);return f||i.setAttributeNode(f=i.ownerDocument.createAttribute(d)),f.value=l+="",d==="value"||l===i.getAttribute(d)?l:w}},o.attrHooks.contenteditable={get:De.get,set:function(i,l,d){De.set(i,l===""?!1:l,d)}},o.each(["width","height"],function(i,l){o.attrHooks[l]=o.extend(o.attrHooks[l],{set:function(d,f){return f===""?(d.setAttribute(l,"auto"),f):w}})})),o.support.hrefNormalized||(o.each(["href","src","width","height"],function(i,l){o.attrHooks[l]=o.extend(o.attrHooks[l],{get:function(d){var f=d.getAttribute(l,2);return f??w}})}),o.each(["href","src"],function(i,l){o.propHooks[l]={get:function(d){return d.getAttribute(l,4)}}})),o.support.style||(o.attrHooks.style={get:function(i){return i.style.cssText||w},set:function(i,l){return i.style.cssText=l+""}}),o.support.optSelected||(o.propHooks.selected=o.extend(o.propHooks.selected,{get:function(i){var l=i.parentNode;return l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex),null}})),o.support.enctype||(o.propFix.enctype="encoding"),o.support.checkOn||o.each(["radio","checkbox"],function(){o.valHooks[this]={get:function(i){return i.getAttribute("value")===null?"on":i.value}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]=o.extend(o.valHooks[this],{set:function(i,l){return o.isArray(l)?i.checked=o.inArray(o(i).val(),l)>=0:w}})});var qn=/^(?:input|select|textarea)$/i,cn=/^key/,et=/^(?:mouse|contextmenu)|click/,Bn=/^(?:focusinfocus|focusoutblur)$/,$n=/^([^.]*)(?:\.(.+)|)$/;function Qt(){return!0}function Dt(){return!1}o.event={global:{},add:function(i,l,d,f,m){var x,L,R,F,X,U,ie,ne,se,Ie,Be,Xe=o._data(i);if(Xe){for(d.handler&&(F=d,d=F.handler,m=F.selector),d.guid||(d.guid=o.guid++),(L=Xe.events)||(L=Xe.events={}),(U=Xe.handle)||(U=Xe.handle=function(yt){return typeof o===I||yt&&o.event.triggered===yt.type?w:o.event.dispatch.apply(U.elem,arguments)},U.elem=i),l=(l||"").match(J)||[""],R=l.length;R--;)x=$n.exec(l[R])||[],se=Be=x[1],Ie=(x[2]||"").split(".").sort(),X=o.event.special[se]||{},se=(m?X.delegateType:X.bindType)||se,X=o.event.special[se]||{},ie=o.extend({type:se,origType:Be,data:f,handler:d,guid:d.guid,selector:m,needsContext:m&&o.expr.match.needsContext.test(m),namespace:Ie.join(".")},F),(ne=L[se])||(ne=L[se]=[],ne.delegateCount=0,X.setup&&X.setup.call(i,f,Ie,U)!==!1||(i.addEventListener?i.addEventListener(se,U,!1):i.attachEvent&&i.attachEvent("on"+se,U))),X.add&&(X.add.call(i,ie),ie.handler.guid||(ie.handler.guid=d.guid)),m?ne.splice(ne.delegateCount++,0,ie):ne.push(ie),o.event.global[se]=!0;i=null}},remove:function(i,l,d,f,m){var x,L,R,F,X,U,ie,ne,se,Ie,Be,Xe=o.hasData(i)&&o._data(i);if(Xe&&(U=Xe.events)){for(l=(l||"").match(J)||[""],X=l.length;X--;)if(R=$n.exec(l[X])||[],se=Be=R[1],Ie=(R[2]||"").split(".").sort(),se){for(ie=o.event.special[se]||{},se=(f?ie.delegateType:ie.bindType)||se,ne=U[se]||[],R=R[2]&&RegExp("(^|\\.)"+Ie.join("\\.(?:.*\\.|)")+"(\\.|$)"),F=x=ne.length;x--;)L=ne[x],!m&&Be!==L.origType||d&&d.guid!==L.guid||R&&!R.test(L.namespace)||f&&f!==L.selector&&(f!=="**"||!L.selector)||(ne.splice(x,1),L.selector&&ne.delegateCount--,ie.remove&&ie.remove.call(i,L));F&&!ne.length&&(ie.teardown&&ie.teardown.call(i,Ie,Xe.handle)!==!1||o.removeEvent(i,se,Xe.handle),delete U[se])}else for(se in U)o.event.remove(i,se+l[X],d,f,!0);o.isEmptyObject(U)&&(delete Xe.handle,o._removeData(i,"events"))}},trigger:function(i,l,d,f){var m,x,L,R,F,X,U,ie=[d||E],ne=O.call(i,"type")?i.type:i,se=O.call(i,"namespace")?i.namespace.split("."):[];if(L=X=d=d||E,d.nodeType!==3&&d.nodeType!==8&&!Bn.test(ne+o.event.triggered)&&(ne.indexOf(".")>=0&&(se=ne.split("."),ne=se.shift(),se.sort()),x=0>ne.indexOf(":")&&"on"+ne,i=i[o.expando]?i:new o.Event(ne,typeof i=="object"&&i),i.isTrigger=!0,i.namespace=se.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+se.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=w,i.target||(i.target=d),l=l==null?[i]:o.makeArray(l,[i]),F=o.event.special[ne]||{},f||!F.trigger||F.trigger.apply(d,l)!==!1)){if(!f&&!F.noBubble&&!o.isWindow(d)){for(R=F.delegateType||ne,Bn.test(R+ne)||(L=L.parentNode);L;L=L.parentNode)ie.push(L),X=L;X===(d.ownerDocument||E)&&ie.push(X.defaultView||X.parentWindow||C)}for(U=0;(L=ie[U++])&&!i.isPropagationStopped();)i.type=U>1?R:F.bindType||ne,m=(o._data(L,"events")||{})[i.type]&&o._data(L,"handle"),m&&m.apply(L,l),m=x&&L[x],m&&o.acceptData(L)&&m.apply&&m.apply(L,l)===!1&&i.preventDefault();if(i.type=ne,!(f||i.isDefaultPrevented()||F._default&&F._default.apply(d.ownerDocument,l)!==!1||ne==="click"&&o.nodeName(d,"a")||!o.acceptData(d)||!x||!d[ne]||o.isWindow(d))){X=d[x],X&&(d[x]=null),o.event.triggered=ne;try{d[ne]()}catch{}o.event.triggered=w,X&&(d[x]=X)}return i.result}},dispatch:function(i){i=o.event.fix(i);var l,d,f,m,x,L=[],R=A.call(arguments),F=(o._data(this,"events")||{})[i.type]||[],X=o.event.special[i.type]||{};if(R[0]=i,i.delegateTarget=this,!X.preDispatch||X.preDispatch.call(this,i)!==!1){for(L=o.event.handlers.call(this,i,F),l=0;(m=L[l++])&&!i.isPropagationStopped();)for(i.currentTarget=m.elem,x=0;(f=m.handlers[x++])&&!i.isImmediatePropagationStopped();)(!i.namespace_re||i.namespace_re.test(f.namespace))&&(i.handleObj=f,i.data=f.data,d=((o.event.special[f.origType]||{}).handle||f.handler).apply(m.elem,R),d!==w&&(i.result=d)===!1&&(i.preventDefault(),i.stopPropagation()));return X.postDispatch&&X.postDispatch.call(this,i),i.result}},handlers:function(i,l){var d,f,m,x,L=[],R=l.delegateCount,F=i.target;if(R&&F.nodeType&&(!i.button||i.type!=="click")){for(;F!=this;F=F.parentNode||this)if(F.nodeType===1&&(F.disabled!==!0||i.type!=="click")){for(m=[],x=0;R>x;x++)f=l[x],d=f.selector+" ",m[d]===w&&(m[d]=f.needsContext?o(d,this).index(F)>=0:o.find(d,this,null,[F]).length),m[d]&&m.push(f);m.length&&L.push({elem:F,handlers:m})}}return l.length>R&&L.push({elem:this,handlers:l.slice(R)}),L},fix:function(i){if(i[o.expando])return i;var l,d,f,m=i.type,x=i,L=this.fixHooks[m];for(L||(this.fixHooks[m]=L=et.test(m)?this.mouseHooks:cn.test(m)?this.keyHooks:{}),f=L.props?this.props.concat(L.props):this.props,i=new o.Event(x),l=f.length;l--;)d=f[l],i[d]=x[d];return i.target||(i.target=x.srcElement||E),i.target.nodeType===3&&(i.target=i.target.parentNode),i.metaKey=!!i.metaKey,L.filter?L.filter(i,x):i},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(i,l){return i.which==null&&(i.which=l.charCode!=null?l.charCode:l.keyCode),i}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(i,l){var d,f,m,x=l.button,L=l.fromElement;return i.pageX==null&&l.clientX!=null&&(f=i.target.ownerDocument||E,m=f.documentElement,d=f.body,i.pageX=l.clientX+(m&&m.scrollLeft||d&&d.scrollLeft||0)-(m&&m.clientLeft||d&&d.clientLeft||0),i.pageY=l.clientY+(m&&m.scrollTop||d&&d.scrollTop||0)-(m&&m.clientTop||d&&d.clientTop||0)),!i.relatedTarget&&L&&(i.relatedTarget=L===i.target?l.toElement:L),i.which||x===w||(i.which=1&x?1:2&x?3:4&x?2:0),i}},special:{load:{noBubble:!0},click:{trigger:function(){return o.nodeName(this,"input")&&this.type==="checkbox"&&this.click?(this.click(),!1):w}},focus:{trigger:function(){if(this!==E.activeElement&&this.focus)try{return this.focus(),!1}catch{}},delegateType:"focusin"},blur:{trigger:function(){return this===E.activeElement&&this.blur?(this.blur(),!1):w},delegateType:"focusout"},beforeunload:{postDispatch:function(i){i.result!==w&&(i.originalEvent.returnValue=i.result)}}},simulate:function(i,l,d,f){var m=o.extend(new o.Event,d,{type:i,isSimulated:!0,originalEvent:{}});f?o.event.trigger(m,null,l):o.event.dispatch.call(l,m),m.isDefaultPrevented()&&d.preventDefault()}},o.removeEvent=E.removeEventListener?function(i,l,d){i.removeEventListener&&i.removeEventListener(l,d,!1)}:function(i,l,d){var f="on"+l;i.detachEvent&&(typeof i[f]===I&&(i[f]=null),i.detachEvent(f,d))},o.Event=function(i,l){return this instanceof o.Event?(i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented||i.returnValue===!1||i.getPreventDefault&&i.getPreventDefault()?Qt:Dt):this.type=i,l&&o.extend(this,l),this.timeStamp=i&&i.timeStamp||o.now(),this[o.expando]=!0,w):new o.Event(i,l)},o.Event.prototype={isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=Qt,i&&(i.preventDefault?i.preventDefault():i.returnValue=!1)},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=Qt,i&&(i.stopPropagation&&i.stopPropagation(),i.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Qt,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(i,l){o.event.special[i]={delegateType:l,bindType:l,handle:function(d){var f,m=this,x=d.relatedTarget,L=d.handleObj;return(!x||x!==m&&!o.contains(m,x))&&(d.type=L.origType,f=L.handler.apply(this,arguments),d.type=l),f}}}),o.support.submitBubbles||(o.event.special.submit={setup:function(){return o.nodeName(this,"form")?!1:(o.event.add(this,"click._submit keypress._submit",function(i){var l=i.target,d=o.nodeName(l,"input")||o.nodeName(l,"button")?l.form:w;d&&!o._data(d,"submitBubbles")&&(o.event.add(d,"submit._submit",function(f){f._submit_bubble=!0}),o._data(d,"submitBubbles",!0))}),w)},postDispatch:function(i){i._submit_bubble&&(delete i._submit_bubble,this.parentNode&&!i.isTrigger&&o.event.simulate("submit",this.parentNode,i,!0))},teardown:function(){return o.nodeName(this,"form")?!1:(o.event.remove(this,"._submit"),w)}}),o.support.changeBubbles||(o.event.special.change={setup:function(){return qn.test(this.nodeName)?((this.type==="checkbox"||this.type==="radio")&&(o.event.add(this,"propertychange._change",function(i){i.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),o.event.add(this,"click._change",function(i){this._just_changed&&!i.isTrigger&&(this._just_changed=!1),o.event.simulate("change",this,i,!0)})),!1):(o.event.add(this,"beforeactivate._change",function(i){var l=i.target;qn.test(l.nodeName)&&!o._data(l,"changeBubbles")&&(o.event.add(l,"change._change",function(d){!this.parentNode||d.isSimulated||d.isTrigger||o.event.simulate("change",this.parentNode,d,!0)}),o._data(l,"changeBubbles",!0))}),w)},handle:function(i){var l=i.target;return this!==l||i.isSimulated||i.isTrigger||l.type!=="radio"&&l.type!=="checkbox"?i.handleObj.handler.apply(this,arguments):w},teardown:function(){return o.event.remove(this,"._change"),!qn.test(this.nodeName)}}),o.support.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(i,l){var d=0,f=function(m){o.event.simulate(l,m.target,o.event.fix(m),!0)};o.event.special[l]={setup:function(){d++===0&&E.addEventListener(i,f,!0)},teardown:function(){--d===0&&E.removeEventListener(i,f,!0)}}}),o.fn.extend({on:function(i,l,d,f,m){var x,L;if(typeof i=="object"){typeof l!="string"&&(d=d||l,l=w);for(x in i)this.on(x,l,d,i[x],m);return this}if(d==null&&f==null?(f=l,d=l=w):f==null&&(typeof l=="string"?(f=d,d=w):(f=d,d=l,l=w)),f===!1)f=Dt;else if(!f)return this;return m===1&&(L=f,f=function(R){return o().off(R),L.apply(this,arguments)},f.guid=L.guid||(L.guid=o.guid++)),this.each(function(){o.event.add(this,i,f,d,l)})},one:function(i,l,d,f){return this.on(i,l,d,f,1)},off:function(i,l,d){var f,m;if(i&&i.preventDefault&&i.handleObj)return f=i.handleObj,o(i.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof i=="object"){for(m in i)this.off(m,l,i[m]);return this}return(l===!1||typeof l=="function")&&(d=l,l=w),d===!1&&(d=Dt),this.each(function(){o.event.remove(this,i,d,l)})},bind:function(i,l,d){return this.on(i,null,l,d)},unbind:function(i,l){return this.off(i,null,l)},delegate:function(i,l,d,f){return this.on(l,i,d,f)},undelegate:function(i,l,d){return arguments.length===1?this.off(i,"**"):this.off(l,i||"**",d)},trigger:function(i,l){return this.each(function(){o.event.trigger(i,l,this)})},triggerHandler:function(i,l){var d=this[0];return d?o.event.trigger(i,l,d,!0):w}}),function(i,l){var d,f,m,x,L,R,F,X,U,ie,ne,se,Ie,Be,Xe,yt,bt,tt="sizzle"+-new Date,qe=i.document,nt={},Fe=0,ut=0,Bt=N(),On=N(),Lt=N(),Mt=typeof l,$t=1<<31,Zt=[],Ut=Zt.pop,mt=Zt.push,sn=Zt.slice,di=Zt.indexOf||function(D){for(var $=0,q=this.length;q>$;$++)if(this[$]===D)return $;return-1},pt="[\\x20\\t\\r\\n\\f]",Jt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Mi=Jt.replace("w","w#"),Vi="([*^$|!~]?=)",Ai="\\["+pt+"*("+Jt+")"+pt+"*(?:"+Vi+pt+`*(?:(['"])((?:\\\\.|[^\\\\])*?)\\3|(`+Mi+")|)|)"+pt+"*\\]",ui=":("+Jt+`)(?:\\(((['"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|`+Ai.replace(3,8)+")*)|.*)\\)|)",jn=RegExp("^"+pt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+pt+"+$","g"),Wi=RegExp("^"+pt+"*,"+pt+"*"),zi=RegExp("^"+pt+"*([\\x20\\t\\r\\n\\f>+~])"+pt+"*"),Ki=RegExp(ui),Gi=RegExp("^"+Mi+"$"),In={ID:RegExp("^#("+Jt+")"),CLASS:RegExp("^\\.("+Jt+")"),NAME:RegExp(`^\\[name=['"]?(`+Jt+`)['"]?\\]`),TAG:RegExp("^("+Jt.replace("w","w*")+")"),ATTR:RegExp("^"+Ai),PSEUDO:RegExp("^"+ui),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+pt+"*(even|odd|(([+-]|)(\\d*)n|)"+pt+"*(?:([+-]|)"+pt+"*(\\d+)|))"+pt+"*\\)|)","i"),needsContext:RegExp("^"+pt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+pt+"*((?:-\\d)?\\d*)"+pt+"*\\)|)(?=[^-]|$)","i")},pi=/[\x20\t\r\n\f]*[+~]/,e=/^[^{]+\{\s*\[native code/,t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,n=/^(?:input|select|textarea|button)$/i,a=/^h\d$/i,r=/'|\\/g,c=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,g=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,T=function(D,$){var q="0x"+$-65536;return q!==q?$:0>q?String.fromCharCode(q+65536):String.fromCharCode(55296|q>>10,56320|1023&q)};try{sn.call(qe.documentElement.childNodes,0)[0].nodeType}catch{sn=function($){for(var q,G=[];q=this[$++];)G.push(q);return G}}function H(D){return e.test(D+"")}function N(){var D,$=[];return D=function(q,G){return $.push(q+=" ")>m.cacheLength&&delete D[$.shift()],D[q]=G}}function _(D){return D[tt]=!0,D}function Z(D){var $=ie.createElement("div");try{return D($)}catch{return!1}finally{$=null}}function ee(D,$,q,G){var Y,oe,me,we,Ce,je,Ne,Le,Ze,ze;if(($?$.ownerDocument||$:qe)!==ie&&U($),$=$||ie,q=q||[],!D||typeof D!="string")return q;if((we=$.nodeType)!==1&&we!==9)return[];if(!se&&!G){if(Y=t.exec(D))if(me=Y[1]){if(we===9){if(oe=$.getElementById(me),!oe||!oe.parentNode)return q;if(oe.id===me)return q.push(oe),q}else if($.ownerDocument&&(oe=$.ownerDocument.getElementById(me))&&yt($,oe)&&oe.id===me)return q.push(oe),q}else{if(Y[2])return mt.apply(q,sn.call($.getElementsByTagName(D),0)),q;if((me=Y[3])&&nt.getByClassName&&$.getElementsByClassName)return mt.apply(q,sn.call($.getElementsByClassName(me),0)),q}if(nt.qsa&&!Ie.test(D)){if(Ne=!0,Le=tt,Ze=$,ze=we===9&&D,we===1&&$.nodeName.toLowerCase()!=="object"){for(je=re(D),(Ne=$.getAttribute("id"))?Le=Ne.replace(r,"\\$&"):$.setAttribute("id",Le),Le="[id='"+Le+"'] ",Ce=je.length;Ce--;)je[Ce]=Le+ue(je[Ce]);Ze=pi.test(D)&&$.parentNode||$,ze=je.join(",")}if(ze)try{return mt.apply(q,sn.call(Ze.querySelectorAll(ze),0)),q}catch{}finally{Ne||$.removeAttribute("id")}}}return xe(D.replace(jn,"$1"),$,q,G)}L=ee.isXML=function(D){var $=D&&(D.ownerDocument||D).documentElement;return $?$.nodeName!=="HTML":!1},U=ee.setDocument=function(D){var $=D?D.ownerDocument||D:qe;return $!==ie&&$.nodeType===9&&$.documentElement&&(ie=$,ne=$.documentElement,se=L($),nt.tagNameNoComments=Z(function(q){return q.appendChild($.createComment("")),!q.getElementsByTagName("*").length}),nt.attributes=Z(function(q){q.innerHTML="<select></select>";var G=typeof q.lastChild.getAttribute("multiple");return G!=="boolean"&&G!=="string"}),nt.getByClassName=Z(function(q){return q.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",q.getElementsByClassName&&q.getElementsByClassName("e").length?(q.lastChild.className="e",q.getElementsByClassName("e").length===2):!1}),nt.getByName=Z(function(q){q.id=tt+0,q.innerHTML="<a name='"+tt+"'></a><div name='"+tt+"'></div>",ne.insertBefore(q,ne.firstChild);var G=$.getElementsByName&&$.getElementsByName(tt).length===2+$.getElementsByName(tt+0).length;return nt.getIdNotName=!$.getElementById(tt),ne.removeChild(q),G}),m.attrHandle=Z(function(q){return q.innerHTML="<a href='#'></a>",q.firstChild&&typeof q.firstChild.getAttribute!==Mt&&q.firstChild.getAttribute("href")==="#"})?{}:{href:function(q){return q.getAttribute("href",2)},type:function(q){return q.getAttribute("type")}},nt.getIdNotName?(m.find.ID=function(q,G){if(typeof G.getElementById!==Mt&&!se){var Y=G.getElementById(q);return Y&&Y.parentNode?[Y]:[]}},m.filter.ID=function(q){var G=q.replace(g,T);return function(Y){return Y.getAttribute("id")===G}}):(m.find.ID=function(q,G){if(typeof G.getElementById!==Mt&&!se){var Y=G.getElementById(q);return Y?Y.id===q||typeof Y.getAttributeNode!==Mt&&Y.getAttributeNode("id").value===q?[Y]:l:[]}},m.filter.ID=function(q){var G=q.replace(g,T);return function(Y){var oe=typeof Y.getAttributeNode!==Mt&&Y.getAttributeNode("id");return oe&&oe.value===G}}),m.find.TAG=nt.tagNameNoComments?function(q,G){return typeof G.getElementsByTagName!==Mt?G.getElementsByTagName(q):l}:function(q,G){var Y,oe=[],me=0,we=G.getElementsByTagName(q);if(q==="*"){for(;Y=we[me++];)Y.nodeType===1&&oe.push(Y);return oe}return we},m.find.NAME=nt.getByName&&function(q,G){return typeof G.getElementsByName!==Mt?G.getElementsByName(name):l},m.find.CLASS=nt.getByClassName&&function(q,G){return typeof G.getElementsByClassName===Mt||se?l:G.getElementsByClassName(q)},Be=[],Ie=[":focus"],(nt.qsa=H($.querySelectorAll))&&(Z(function(q){q.innerHTML="<select><option selected=''></option></select>",q.querySelectorAll("[selected]").length||Ie.push("\\["+pt+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),q.querySelectorAll(":checked").length||Ie.push(":checked")}),Z(function(q){q.innerHTML="<input type='hidden' i=''/>",q.querySelectorAll("[i^='']").length&&Ie.push("[*^$]="+pt+`*(?:""|'')`),q.querySelectorAll(":enabled").length||Ie.push(":enabled",":disabled"),q.querySelectorAll("*,:x"),Ie.push(",.*:")})),(nt.matchesSelector=H(Xe=ne.matchesSelector||ne.mozMatchesSelector||ne.webkitMatchesSelector||ne.oMatchesSelector||ne.msMatchesSelector))&&Z(function(q){nt.disconnectedMatch=Xe.call(q,"div"),Xe.call(q,"[s!='']:x"),Be.push("!=",ui)}),Ie=RegExp(Ie.join("|")),Be=RegExp(Be.join("|")),yt=H(ne.contains)||ne.compareDocumentPosition?function(q,G){var Y=q.nodeType===9?q.documentElement:q,oe=G&&G.parentNode;return q===oe||!(!oe||oe.nodeType!==1||!(Y.contains?Y.contains(oe):q.compareDocumentPosition&&16&q.compareDocumentPosition(oe)))}:function(q,G){if(G){for(;G=G.parentNode;)if(G===q)return!0}return!1},bt=ne.compareDocumentPosition?function(q,G){var Y;return q===G?(F=!0,0):(Y=G.compareDocumentPosition&&q.compareDocumentPosition&&q.compareDocumentPosition(G))?1&Y||q.parentNode&&q.parentNode.nodeType===11?q===$||yt(qe,q)?-1:G===$||yt(qe,G)?1:0:4&Y?-1:1:q.compareDocumentPosition?-1:1}:function(q,G){var Y,oe=0,me=q.parentNode,we=G.parentNode,Ce=[q],je=[G];if(q===G)return F=!0,0;if(!me||!we)return q===$?-1:G===$?1:me?-1:we?1:0;if(me===we)return ge(q,G);for(Y=q;Y=Y.parentNode;)Ce.unshift(Y);for(Y=G;Y=Y.parentNode;)je.unshift(Y);for(;Ce[oe]===je[oe];)oe++;return oe?ge(Ce[oe],je[oe]):Ce[oe]===qe?-1:je[oe]===qe?1:0},F=!1,[0,0].sort(bt),nt.detectDuplicates=F),ie},ee.matches=function(D,$){return ee(D,null,null,$)},ee.matchesSelector=function(D,$){if((D.ownerDocument||D)!==ie&&U(D),$=$.replace(c,"='$1']"),!(!nt.matchesSelector||se||Be&&Be.test($)||Ie.test($)))try{var q=Xe.call(D,$);if(q||nt.disconnectedMatch||D.document&&D.document.nodeType!==11)return q}catch{}return ee($,ie,null,[D]).length>0},ee.contains=function(D,$){return(D.ownerDocument||D)!==ie&&U(D),yt(D,$)},ee.attr=function(D,$){var q;return(D.ownerDocument||D)!==ie&&U(D),se||($=$.toLowerCase()),(q=m.attrHandle[$])?q(D):se||nt.attributes?D.getAttribute($):((q=D.getAttributeNode($))||D.getAttribute($))&&D[$]===!0?$:q&&q.specified?q.value:null},ee.error=function(D){throw Error("Syntax error, unrecognized expression: "+D)},ee.uniqueSort=function(D){var $,q=[],G=1,Y=0;if(F=!nt.detectDuplicates,D.sort(bt),F){for(;$=D[G];G++)$===D[G-1]&&(Y=q.push(G));for(;Y--;)D.splice(q[Y],1)}return D};function ge(D,$){var q=$&&D,G=q&&(~$.sourceIndex||$t)-(~D.sourceIndex||$t);if(G)return G;if(q){for(;q=q.nextSibling;)if(q===$)return-1}return D?1:-1}function z(D){return function($){var q=$.nodeName.toLowerCase();return q==="input"&&$.type===D}}function he(D){return function($){var q=$.nodeName.toLowerCase();return(q==="input"||q==="button")&&$.type===D}}function de(D){return _(function($){return $=+$,_(function(q,G){for(var Y,oe=D([],q.length,$),me=oe.length;me--;)q[Y=oe[me]]&&(q[Y]=!(G[Y]=q[Y]))})})}x=ee.getText=function(D){var $,q="",G=0,Y=D.nodeType;if(Y){if(Y===1||Y===9||Y===11){if(typeof D.textContent=="string")return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)q+=x(D)}else if(Y===3||Y===4)return D.nodeValue}else for(;$=D[G];G++)q+=x($);return q},m=ee.selectors={cacheLength:50,createPseudo:_,match:In,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(g,T),D[3]=(D[4]||D[5]||"").replace(g,T),D[2]==="~="&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),D[1].slice(0,3)==="nth"?(D[3]||ee.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*(D[3]==="even"||D[3]==="odd")),D[5]=+(D[7]+D[8]||D[3]==="odd")):D[3]&&ee.error(D[0]),D},PSEUDO:function(D){var $,q=!D[5]&&D[2];return In.CHILD.test(D[0])?null:(D[4]?D[2]=D[4]:q&&Ki.test(q)&&($=re(q,!0))&&($=q.indexOf(")",q.length-$)-q.length)&&(D[0]=D[0].slice(0,$),D[2]=q.slice(0,$)),D.slice(0,3))}},filter:{TAG:function(D){return D==="*"?function(){return!0}:(D=D.replace(g,T).toLowerCase(),function($){return $.nodeName&&$.nodeName.toLowerCase()===D})},CLASS:function(D){var $=Bt[D+" "];return $||($=RegExp("(^|"+pt+")"+D+"("+pt+"|$)"))&&Bt(D,function(q){return $.test(q.className||typeof q.getAttribute!==Mt&&q.getAttribute("class")||"")})},ATTR:function(D,$,q){return function(G){var Y=ee.attr(G,D);return Y==null?$==="!=":$?(Y+="",$==="="?Y===q:$==="!="?Y!==q:$==="^="?q&&Y.indexOf(q)===0:$==="*="?q&&Y.indexOf(q)>-1:$==="$="?q&&Y.slice(-q.length)===q:$==="~="?(" "+Y+" ").indexOf(q)>-1:$==="|="?Y===q||Y.slice(0,q.length+1)===q+"-":!1):!0}},CHILD:function(D,$,q,G,Y){var oe=D.slice(0,3)!=="nth",me=D.slice(-4)!=="last",we=$==="of-type";return G===1&&Y===0?function(Ce){return!!Ce.parentNode}:function(Ce,je,Ne){var Le,Ze,ze,ae,Pe,it,lt=oe!==me?"nextSibling":"previousSibling",Ye=Ce.parentNode,Et=we&&Ce.nodeName.toLowerCase(),ln=!Ne&&!we;if(Ye){if(oe){for(;lt;){for(ze=Ce;ze=ze[lt];)if(we?ze.nodeName.toLowerCase()===Et:ze.nodeType===1)return!1;it=lt=D==="only"&&!it&&"nextSibling"}return!0}if(it=[me?Ye.firstChild:Ye.lastChild],me&&ln){for(Ze=Ye[tt]||(Ye[tt]={}),Le=Ze[D]||[],Pe=Le[0]===Fe&&Le[1],ae=Le[0]===Fe&&Le[2],ze=Pe&&Ye.childNodes[Pe];ze=++Pe&&ze&&ze[lt]||(ae=Pe=0)||it.pop();)if(ze.nodeType===1&&++ae&&ze===Ce){Ze[D]=[Fe,Pe,ae];break}}else if(ln&&(Le=(Ce[tt]||(Ce[tt]={}))[D])&&Le[0]===Fe)ae=Le[1];else for(;(ze=++Pe&&ze&&ze[lt]||(ae=Pe=0)||it.pop())&&!((we?ze.nodeName.toLowerCase()===Et:ze.nodeType===1)&&++ae&&(ln&&((ze[tt]||(ze[tt]={}))[D]=[Fe,ae]),ze===Ce)););return ae-=Y,ae===G||ae%G===0&&ae/G>=0}}},PSEUDO:function(D,$){var q,G=m.pseudos[D]||m.setFilters[D.toLowerCase()]||ee.error("unsupported pseudo: "+D);return G[tt]?G($):G.length>1?(q=[D,D,"",$],m.setFilters.hasOwnProperty(D.toLowerCase())?_(function(Y,oe){for(var me,we=G(Y,$),Ce=we.length;Ce--;)me=di.call(Y,we[Ce]),Y[me]=!(oe[me]=we[Ce])}):function(Y){return G(Y,0,q)}):G}},pseudos:{not:_(function(D){var $=[],q=[],G=R(D.replace(jn,"$1"));return G[tt]?_(function(Y,oe,me,we){for(var Ce,je=G(Y,null,we,[]),Ne=Y.length;Ne--;)(Ce=je[Ne])&&(Y[Ne]=!(oe[Ne]=Ce))}):function(Y,oe,me){return $[0]=Y,G($,null,me,q),!q.pop()}}),has:_(function(D){return function($){return ee(D,$).length>0}}),contains:_(function(D){return function($){return($.textContent||$.innerText||x($)).indexOf(D)>-1}}),lang:_(function(D){return Gi.test(D||"")||ee.error("unsupported lang: "+D),D=D.replace(g,T).toLowerCase(),function($){var q;do if(q=se?$.getAttribute("xml:lang")||$.getAttribute("lang"):$.lang)return q=q.toLowerCase(),q===D||q.indexOf(D+"-")===0;while(($=$.parentNode)&&$.nodeType===1);return!1}}),target:function(D){var $=i.location&&i.location.hash;return $&&$.slice(1)===D.id},root:function(D){return D===ne},focus:function(D){return D===ie.activeElement&&(!ie.hasFocus||ie.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:function(D){return D.disabled===!1},disabled:function(D){return D.disabled===!0},checked:function(D){var $=D.nodeName.toLowerCase();return $==="input"&&!!D.checked||$==="option"&&!!D.selected},selected:function(D){return D.parentNode&&D.parentNode.selectedIndex,D.selected===!0},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeName>"@"||D.nodeType===3||D.nodeType===4)return!1;return!0},parent:function(D){return!m.pseudos.empty(D)},header:function(D){return a.test(D.nodeName)},input:function(D){return n.test(D.nodeName)},button:function(D){var $=D.nodeName.toLowerCase();return $==="input"&&D.type==="button"||$==="button"},text:function(D){var $;return D.nodeName.toLowerCase()==="input"&&D.type==="text"&&(($=D.getAttribute("type"))==null||$.toLowerCase()===D.type)},first:de(function(){return[0]}),last:de(function(D,$){return[$-1]}),eq:de(function(D,$,q){return[0>q?q+$:q]}),even:de(function(D,$){for(var q=0;$>q;q+=2)D.push(q);return D}),odd:de(function(D,$){for(var q=1;$>q;q+=2)D.push(q);return D}),lt:de(function(D,$,q){for(var G=0>q?q+$:q;--G>=0;)D.push(G);return D}),gt:de(function(D,$,q){for(var G=0>q?q+$:q;$>++G;)D.push(G);return D})}};for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})m.pseudos[d]=z(d);for(d in{submit:!0,reset:!0})m.pseudos[d]=he(d);function re(D,$){var q,G,Y,oe,me,we,Ce,je=On[D+" "];if(je)return $?0:je.slice(0);for(me=D,we=[],Ce=m.preFilter;me;){(!q||(G=Wi.exec(me)))&&(G&&(me=me.slice(G[0].length)||me),we.push(Y=[])),q=!1,(G=zi.exec(me))&&(q=G.shift(),Y.push({value:q,type:G[0].replace(jn," ")}),me=me.slice(q.length));for(oe in m.filter)!(G=In[oe].exec(me))||Ce[oe]&&!(G=Ce[oe](G))||(q=G.shift(),Y.push({value:q,type:oe,matches:G}),me=me.slice(q.length));if(!q)break}return $?me.length:me?ee.error(D):On(D,we).slice(0)}function ue(D){for(var $=0,q=D.length,G="";q>$;$++)G+=D[$].value;return G}function pe(D,$,q){var G=$.dir,Y=q&&G==="parentNode",oe=ut++;return $.first?function(me,we,Ce){for(;me=me[G];)if(me.nodeType===1||Y)return D(me,we,Ce)}:function(me,we,Ce){var je,Ne,Le,Ze=Fe+" "+oe;if(Ce){for(;me=me[G];)if((me.nodeType===1||Y)&&D(me,we,Ce))return!0}else for(;me=me[G];)if(me.nodeType===1||Y){if(Le=me[tt]||(me[tt]={}),(Ne=Le[G])&&Ne[0]===Ze){if((je=Ne[1])===!0||je===f)return je===!0}else if(Ne=Le[G]=[Ze],Ne[1]=D(me,we,Ce)||f,Ne[1]===!0)return!0}}}function te(D){return D.length>1?function($,q,G){for(var Y=D.length;Y--;)if(!D[Y]($,q,G))return!1;return!0}:D[0]}function ke(D,$,q,G,Y){for(var oe,me=[],we=0,Ce=D.length,je=$!=null;Ce>we;we++)(oe=D[we])&&(!q||q(oe,G,Y))&&(me.push(oe),je&&$.push(we));return me}function Me(D,$,q,G,Y,oe){return G&&!G[tt]&&(G=Me(G)),Y&&!Y[tt]&&(Y=Me(Y,oe)),_(function(me,we,Ce,je){var Ne,Le,Ze,ze=[],ae=[],Pe=we.length,it=me||Ae($||"*",Ce.nodeType?[Ce]:Ce,[]),lt=!D||!me&&$?it:ke(it,ze,D,Ce,je),Ye=q?Y||(me?D:Pe||G)?[]:we:lt;if(q&&q(lt,Ye,Ce,je),G)for(Ne=ke(Ye,ae),G(Ne,[],Ce,je),Le=Ne.length;Le--;)(Ze=Ne[Le])&&(Ye[ae[Le]]=!(lt[ae[Le]]=Ze));if(me){if(Y||D){if(Y){for(Ne=[],Le=Ye.length;Le--;)(Ze=Ye[Le])&&Ne.push(lt[Le]=Ze);Y(null,Ye=[],Ne,je)}for(Le=Ye.length;Le--;)(Ze=Ye[Le])&&(Ne=Y?di.call(me,Ze):ze[Le])>-1&&(me[Ne]=!(we[Ne]=Ze))}}else Ye=ke(Ye===we?Ye.splice(Pe,Ye.length):Ye),Y?Y(null,we,Ye,je):mt.apply(we,Ye)})}function Se(D){for(var $,q,G,Y=D.length,oe=m.relative[D[0].type],me=oe||m.relative[" "],we=oe?1:0,Ce=pe(function(Le){return Le===$},me,!0),je=pe(function(Le){return di.call($,Le)>-1},me,!0),Ne=[function(Le,Ze,ze){return!oe&&(ze||Ze!==X)||(($=Ze).nodeType?Ce(Le,Ze,ze):je(Le,Ze,ze))}];Y>we;we++)if(q=m.relative[D[we].type])Ne=[pe(te(Ne),q)];else{if(q=m.filter[D[we].type].apply(null,D[we].matches),q[tt]){for(G=++we;Y>G&&!m.relative[D[G].type];G++);return Me(we>1&&te(Ne),we>1&&ue(D.slice(0,we-1)).replace(jn,"$1"),q,G>we&&Se(D.slice(we,G)),Y>G&&Se(D=D.slice(G)),Y>G&&ue(D))}Ne.push(q)}return te(Ne)}function _e(D,$){var q=0,G=$.length>0,Y=D.length>0,oe=function(me,we,Ce,je,Ne){var Le,Ze,ze,ae=[],Pe=0,it="0",lt=me&&[],Ye=Ne!=null,Et=X,ln=me||Y&&m.find.TAG("*",Ne&&we.parentNode||we),Pn=Fe+=Et==null?1:Math.random()||.1;for(Ye&&(X=we!==ie&&we,f=q);(Le=ln[it])!=null;it++){if(Y&&Le){for(Ze=0;ze=D[Ze++];)if(ze(Le,we,Ce)){je.push(Le);break}Ye&&(Fe=Pn,f=++q)}G&&((Le=!ze&&Le)&&Pe--,me&&lt.push(Le))}if(Pe+=it,G&&it!==Pe){for(Ze=0;ze=$[Ze++];)ze(lt,ae,we,Ce);if(me){if(Pe>0)for(;it--;)lt[it]||ae[it]||(ae[it]=Ut.call(je));ae=ke(ae)}mt.apply(je,ae),Ye&&!me&&ae.length>0&&Pe+$.length>1&&ee.uniqueSort(je)}return Ye&&(Fe=Pn,X=Et),lt};return G?_(oe):oe}R=ee.compile=function(D,$){var q,G=[],Y=[],oe=Lt[D+" "];if(!oe){for($||($=re(D)),q=$.length;q--;)oe=Se($[q]),oe[tt]?G.push(oe):Y.push(oe);oe=Lt(D,_e(Y,G))}return oe};function Ae(D,$,q){for(var G=0,Y=$.length;Y>G;G++)ee(D,$[G],q);return q}function xe(D,$,q,G){var Y,oe,me,we,Ce,je=re(D);if(!G&&je.length===1){if(oe=je[0]=je[0].slice(0),oe.length>2&&(me=oe[0]).type==="ID"&&$.nodeType===9&&!se&&m.relative[oe[1].type]){if($=m.find.ID(me.matches[0].replace(g,T),$)[0],!$)return q;D=D.slice(oe.shift().value.length)}for(Y=In.needsContext.test(D)?0:oe.length;Y--&&(me=oe[Y],!m.relative[we=me.type]);)if((Ce=m.find[we])&&(G=Ce(me.matches[0].replace(g,T),pi.test(oe[0].type)&&$.parentNode||$))){if(oe.splice(Y,1),D=G.length&&ue(oe),!D)return mt.apply(q,sn.call(G,0)),q;break}}return R(D,je)(G,$,se,q,pi.test(D)),q}m.pseudos.nth=m.pseudos.eq;function Oe(){}m.filters=Oe.prototype=m.pseudos,m.setFilters=new Oe,U(),ee.attr=o.attr,o.find=ee,o.expr=ee.selectors,o.expr[":"]=o.expr.pseudos,o.unique=ee.uniqueSort,o.text=ee.getText,o.isXMLDoc=ee.isXML,o.contains=ee.contains}(C);var Un=/Until$/,dn=/^(?:parents|prev(?:Until|All))/,wt=/^.[^:#\[\.,]*$/,Pt=o.expr.match.needsContext,_t={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({find:function(i){var l,d,f,m=this.length;if(typeof i!="string")return f=this,this.pushStack(o(i).filter(function(){for(l=0;m>l;l++)if(o.contains(f[l],this))return!0}));for(d=[],l=0;m>l;l++)o.find(i,this[l],d);return d=this.pushStack(m>1?o.unique(d):d),d.selector=(this.selector?this.selector+" ":"")+i,d},has:function(i){var l,d=o(i,this),f=d.length;return this.filter(function(){for(l=0;f>l;l++)if(o.contains(this,d[l]))return!0})},not:function(i){return this.pushStack(Ft(this,i,!1))},filter:function(i){return this.pushStack(Ft(this,i,!0))},is:function(i){return!!i&&(typeof i=="string"?Pt.test(i)?o(i,this.context).index(this[0])>=0:o.filter(i,this).length>0:this.filter(i).length>0)},closest:function(i,l){for(var d,f=0,m=this.length,x=[],L=Pt.test(i)||typeof i!="string"?o(i,l||this.context):0;m>f;f++)for(d=this[f];d&&d.ownerDocument&&d!==l&&d.nodeType!==11;){if(L?L.index(d)>-1:o.find.matchesSelector(d,i)){x.push(d);break}d=d.parentNode}return this.pushStack(x.length>1?o.unique(x):x)},index:function(i){return i?typeof i=="string"?o.inArray(this[0],o(i)):o.inArray(i.jquery?i[0]:i,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(i,l){var d=typeof i=="string"?o(i,l):o.makeArray(i&&i.nodeType?[i]:i),f=o.merge(this.get(),d);return this.pushStack(o.unique(f))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}}),o.fn.andSelf=o.fn.addBack;function Fn(i,l){do i=i[l];while(i&&i.nodeType!==1);return i}o.each({parent:function(i){var l=i.parentNode;return l&&l.nodeType!==11?l:null},parents:function(i){return o.dir(i,"parentNode")},parentsUntil:function(i,l,d){return o.dir(i,"parentNode",d)},next:function(i){return Fn(i,"nextSibling")},prev:function(i){return Fn(i,"previousSibling")},nextAll:function(i){return o.dir(i,"nextSibling")},prevAll:function(i){return o.dir(i,"previousSibling")},nextUntil:function(i,l,d){return o.dir(i,"nextSibling",d)},prevUntil:function(i,l,d){return o.dir(i,"previousSibling",d)},siblings:function(i){return o.sibling((i.parentNode||{}).firstChild,i)},children:function(i){return o.sibling(i.firstChild)},contents:function(i){return o.nodeName(i,"iframe")?i.contentDocument||i.contentWindow.document:o.merge([],i.childNodes)}},function(i,l){o.fn[i]=function(d,f){var m=o.map(this,l,d);return Un.test(i)||(f=d),f&&typeof f=="string"&&(m=o.filter(f,m)),m=this.length>1&&!_t[i]?o.unique(m):m,this.length>1&&dn.test(i)&&(m=m.reverse()),this.pushStack(m)}}),o.extend({filter:function(i,l,d){return d&&(i=":not("+i+")"),l.length===1?o.find.matchesSelector(l[0],i)?[l[0]]:[]:o.find.matches(i,l)},dir:function(i,l,d){for(var f=[],m=i[l];m&&m.nodeType!==9&&(d===w||m.nodeType!==1||!o(m).is(d));)m.nodeType===1&&f.push(m),m=m[l];return f},sibling:function(i,l){for(var d=[];i;i=i.nextSibling)i.nodeType===1&&i!==l&&d.push(i);return d}});function Ft(i,l,d){if(l=l||0,o.isFunction(l))return o.grep(i,function(m,x){var L=!!l.call(m,x,m);return L===d});if(l.nodeType)return o.grep(i,function(m){return m===l===d});if(typeof l=="string"){var f=o.grep(i,function(m){return m.nodeType===1});if(wt.test(l))return o.filter(l,f,!d);l=o.filter(l,f)}return o.grep(i,function(m){return o.inArray(m,l)>=0===d})}function Vt(i){var l=Tt.split("|"),d=i.createDocumentFragment();if(d.createElement)for(;l.length;)d.createElement(l.pop());return d}var Tt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",un=/ jQuery\d+="(?:null|\d+)"/g,bn=RegExp("<(?:"+Tt+")[\\s/>]","i"),Ht=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vn=/<([\w:]+)/,fi=/<tbody/i,at=/<|&#?\w+;/,_i=/<(?:script|style|link)/i,Ot=/^(?:checkbox|radio)$/i,Hi=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,Wn=/^true\/(.*)/,hi=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:o.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},zn=Vt(E),pn=zn.appendChild(E.createElement("div"));kt.optgroup=kt.option,kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,o.fn.extend({text:function(i){return o.access(this,function(l){return l===w?o.text(this):this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(l))},null,i,arguments.length)},wrapAll:function(i){if(o.isFunction(i))return this.each(function(d){o(this).wrapAll(i.call(this,d))});if(this[0]){var l=o(i,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(i){return o.isFunction(i)?this.each(function(l){o(this).wrapInner(i.call(this,l))}):this.each(function(){var l=o(this),d=l.contents();d.length?d.wrapAll(i):l.append(i)})},wrap:function(i){var l=o.isFunction(i);return this.each(function(d){o(this).wrapAll(l?i.call(this,d):i)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(i){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(i)})},prepend:function(){return this.domManip(arguments,!0,function(i){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(i,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(i){this.parentNode&&this.parentNode.insertBefore(i,this)})},after:function(){return this.domManip(arguments,!1,function(i){this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling)})},remove:function(i,l){for(var d,f=0;(d=this[f])!=null;f++)(!i||o.filter(i,[d]).length>0)&&(l||d.nodeType!==1||o.cleanData(vt(d)),d.parentNode&&(l&&o.contains(d.ownerDocument,d)&&fn(vt(d,"script")),d.parentNode.removeChild(d)));return this},empty:function(){for(var i,l=0;(i=this[l])!=null;l++){for(i.nodeType===1&&o.cleanData(vt(i,!1));i.firstChild;)i.removeChild(i.firstChild);i.options&&o.nodeName(i,"select")&&(i.options.length=0)}return this},clone:function(i,l){return i=i??!1,l=l??i,this.map(function(){return o.clone(this,i,l)})},html:function(i){return o.access(this,function(l){var d=this[0]||{},f=0,m=this.length;if(l===w)return d.nodeType===1?d.innerHTML.replace(un,""):w;if(!(typeof l!="string"||_i.test(l)||!o.support.htmlSerialize&&bn.test(l)||!o.support.leadingWhitespace&&Ht.test(l)||kt[(Vn.exec(l)||["",""])[1].toLowerCase()])){l=l.replace(Wt,"<$1></$2>");try{for(;m>f;f++)d=this[f]||{},d.nodeType===1&&(o.cleanData(vt(d,!1)),d.innerHTML=l);d=0}catch{}}d&&this.empty().append(l)},null,i,arguments.length)},replaceWith:function(i){var l=o.isFunction(i);return l||typeof i=="string"||(i=o(i).not(this).detach()),this.domManip([i],!0,function(d){var f=this.nextSibling,m=this.parentNode;m&&(o(this).remove(),m.insertBefore(d,f))})},detach:function(i){return this.remove(i,!0)},domManip:function(i,l,d){i=y.apply([],i);var f,m,x,L,R,F,X=0,U=this.length,ie=this,ne=U-1,se=i[0],Ie=o.isFunction(se);if(Ie||!(1>=U||typeof se!="string"||o.support.checkClone)&&Hi.test(se))return this.each(function(Be){var Xe=ie.eq(Be);Ie&&(i[0]=se.call(this,Be,l?Xe.html():w)),Xe.domManip(i,l,d)});if(U&&(F=o.buildFragment(i,this[0].ownerDocument,!1,this),f=F.firstChild,F.childNodes.length===1&&(F=f),f)){for(l=l&&o.nodeName(f,"tr"),L=o.map(vt(F,"script"),dt),x=L.length;U>X;X++)m=F,X!==ne&&(m=o.clone(m,!0,!0),x&&o.merge(L,vt(m,"script"))),d.call(l&&o.nodeName(this[X],"table")?Kn(this[X],"tbody"):this[X],m,X);if(x)for(R=L[L.length-1].ownerDocument,o.map(L,wn),X=0;x>X;X++)m=L[X],Yt.test(m.type||"")&&!o._data(m,"globalEval")&&o.contains(R,m)&&(m.src?o.ajax({url:m.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):o.globalEval((m.text||m.textContent||m.innerHTML||"").replace(hi,"")));F=f=null}return this}});function Kn(i,l){return i.getElementsByTagName(l)[0]||i.appendChild(i.ownerDocument.createElement(l))}function dt(i){var l=i.getAttributeNode("type");return i.type=(l&&l.specified)+"/"+i.type,i}function wn(i){var l=Wn.exec(i.type);return l?i.type=l[1]:i.removeAttribute("type"),i}function fn(i,l){for(var d,f=0;(d=i[f])!=null;f++)o._data(d,"globalEval",!l||o._data(l[f],"globalEval"))}function kn(i,l){if(l.nodeType===1&&o.hasData(i)){var d,f,m,x=o._data(i),L=o._data(l,x),R=x.events;if(R){delete L.handle,L.events={};for(d in R)for(f=0,m=R[d].length;m>f;f++)o.event.add(l,d,R[d][f])}L.data&&(L.data=o.extend({},L.data))}}function xn(i,l){var d,f,m;if(l.nodeType===1){if(d=l.nodeName.toLowerCase(),!o.support.noCloneEvent&&l[o.expando]){m=o._data(l);for(f in m.events)o.removeEvent(l,f,m.handle);l.removeAttribute(o.expando)}d==="script"&&l.text!==i.text?(dt(l).text=i.text,wn(l)):d==="object"?(l.parentNode&&(l.outerHTML=i.outerHTML),o.support.html5Clone&&i.innerHTML&&!o.trim(l.innerHTML)&&(l.innerHTML=i.innerHTML)):d==="input"&&Ot.test(i.type)?(l.defaultChecked=l.checked=i.checked,l.value!==i.value&&(l.value=i.value)):d==="option"?l.defaultSelected=l.selected=i.defaultSelected:(d==="input"||d==="textarea")&&(l.defaultValue=i.defaultValue)}}o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,l){o.fn[i]=function(d){for(var f,m=0,x=[],L=o(d),R=L.length-1;R>=m;m++)f=m===R?this:this.clone(!0),o(L[m])[l](f),b.apply(x,f.get());return this.pushStack(x)}});function vt(i,l){var d,f,m=0,x=typeof i.getElementsByTagName!==I?i.getElementsByTagName(l||"*"):typeof i.querySelectorAll!==I?i.querySelectorAll(l||"*"):w;if(!x)for(x=[],d=i.childNodes||i;(f=d[m])!=null;m++)!l||o.nodeName(f,l)?x.push(f):o.merge(x,vt(f,l));return l===w||l&&o.nodeName(i,l)?o.merge([i],x):x}function Ni(i){Ot.test(i.type)&&(i.defaultChecked=i.checked)}o.extend({clone:function(i,l,d){var f,m,x,L,R,F=o.contains(i.ownerDocument,i);if(o.support.html5Clone||o.isXMLDoc(i)||!bn.test("<"+i.nodeName+">")?x=i.cloneNode(!0):(pn.innerHTML=i.outerHTML,pn.removeChild(x=pn.firstChild)),!(o.support.noCloneEvent&&o.support.noCloneChecked||i.nodeType!==1&&i.nodeType!==11||o.isXMLDoc(i)))for(f=vt(x),R=vt(i),L=0;(m=R[L])!=null;++L)f[L]&&xn(m,f[L]);if(l)if(d)for(R=R||vt(i),f=f||vt(x),L=0;(m=R[L])!=null;L++)kn(m,f[L]);else kn(i,x);return f=vt(x,"script"),f.length>0&&fn(f,!F&&vt(i,"script")),f=R=m=null,x},buildFragment:function(i,l,d,f){for(var m,x,L,R,F,X,U,ie=i.length,ne=Vt(l),se=[],Ie=0;ie>Ie;Ie++)if(x=i[Ie],x||x===0)if(o.type(x)==="object")o.merge(se,x.nodeType?[x]:x);else if(at.test(x)){for(R=R||ne.appendChild(l.createElement("div")),F=(Vn.exec(x)||["",""])[1].toLowerCase(),U=kt[F]||kt._default,R.innerHTML=U[1]+x.replace(Wt,"<$1></$2>")+U[2],m=U[0];m--;)R=R.lastChild;if(!o.support.leadingWhitespace&&Ht.test(x)&&se.push(l.createTextNode(Ht.exec(x)[0])),!o.support.tbody)for(x=F!=="table"||fi.test(x)?U[1]!=="<table>"||fi.test(x)?0:R:R.firstChild,m=x&&x.childNodes.length;m--;)o.nodeName(X=x.childNodes[m],"tbody")&&!X.childNodes.length&&x.removeChild(X);for(o.merge(se,R.childNodes),R.textContent="";R.firstChild;)R.removeChild(R.firstChild);R=ne.lastChild}else se.push(l.createTextNode(x));for(R&&ne.removeChild(R),o.support.appendChecked||o.grep(vt(se,"input"),Ni),Ie=0;x=se[Ie++];)if((!f||o.inArray(x,f)===-1)&&(L=o.contains(x.ownerDocument,x),R=vt(ne.appendChild(x),"script"),L&&fn(R),d))for(m=0;x=R[m++];)Yt.test(x.type||"")&&d.push(x);return R=null,ne},cleanData:function(i,l){for(var d,f,m,x,L=0,R=o.expando,F=o.cache,X=o.support.deleteExpando,U=o.event.special;(d=i[L])!=null;L++)if((l||o.acceptData(d))&&(m=d[R],x=m&&F[m])){if(x.events)for(f in x.events)U[f]?o.event.remove(d,f):o.removeEvent(d,f,x.handle);F[m]&&(delete F[m],X?delete d[R]:typeof d.removeAttribute!==I?d.removeAttribute(R):d[R]=null,v.push(m))}}});var st,Rt,zt,En=/alpha\([^)]*\)/i,mi=/opacity\s*=\s*([^)]*)/,Di=/^(top|right|bottom|left)$/,Oi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,Gn=RegExp("^("+k+")(.*)$","i"),Kt=RegExp("^("+k+")(?!px)[a-z%]+$","i"),ji=RegExp("^([+-])=("+k+")","i"),vi={BODY:"block"},Ii={position:"absolute",visibility:"hidden",display:"block"},Xn={letterSpacing:0,fontWeight:400},qt=["Top","Right","Bottom","Left"],Zn=["Webkit","O","Moz","ms"];function en(i,l){if(l in i)return l;for(var d=l.charAt(0).toUpperCase()+l.slice(1),f=l,m=Zn.length;m--;)if(l=Zn[m]+d,l in i)return l;return f}function hn(i,l){return i=l||i,o.css(i,"display")==="none"||!o.contains(i.ownerDocument,i)}function yi(i,l){for(var d,f,m,x=[],L=0,R=i.length;R>L;L++)f=i[L],f.style&&(x[L]=o._data(f,"olddisplay"),d=f.style.display,l?(x[L]||d!=="none"||(f.style.display=""),f.style.display===""&&hn(f)&&(x[L]=o._data(f,"olddisplay",mn(f.nodeName)))):x[L]||(m=hn(f),(d&&d!=="none"||!m)&&o._data(f,"olddisplay",m?d:o.css(f,"display"))));for(L=0;R>L;L++)f=i[L],f.style&&(l&&f.style.display!=="none"&&f.style.display!==""||(f.style.display=l?x[L]||"":"none"));return i}o.fn.extend({css:function(i,l){return o.access(this,function(d,f,m){var x,L,R={},F=0;if(o.isArray(f)){for(L=Rt(d),x=f.length;x>F;F++)R[f[F]]=o.css(d,f[F],!1,L);return R}return m!==w?o.style(d,f,m):o.css(d,f)},i,l,arguments.length>1)},show:function(){return yi(this,!0)},hide:function(){return yi(this)},toggle:function(i){var l=typeof i=="boolean";return this.each(function(){(l?i:hn(this))?o(this).show():o(this).hide()})}}),o.extend({cssHooks:{opacity:{get:function(i,l){if(l){var d=zt(i,"opacity");return d===""?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:o.support.cssFloat?"cssFloat":"styleFloat"},style:function(i,l,d,f){if(i&&i.nodeType!==3&&i.nodeType!==8&&i.style){var m,x,L,R=o.camelCase(l),F=i.style;if(l=o.cssProps[R]||(o.cssProps[R]=en(F,R)),L=o.cssHooks[l]||o.cssHooks[R],d===w)return L&&"get"in L&&(m=L.get(i,!1,f))!==w?m:F[l];if(x=typeof d,x==="string"&&(m=ji.exec(d))&&(d=(m[1]+1)*m[2]+parseFloat(o.css(i,l)),x="number"),!(d==null||x==="number"&&isNaN(d)||(x!=="number"||o.cssNumber[R]||(d+="px"),o.support.clearCloneStyle||d!==""||l.indexOf("background")!==0||(F[l]="inherit"),L&&"set"in L&&(d=L.set(i,d,f))===w)))try{F[l]=d}catch{}}},css:function(i,l,d,f){var m,x,L,R=o.camelCase(l);return l=o.cssProps[R]||(o.cssProps[R]=en(i.style,R)),L=o.cssHooks[l]||o.cssHooks[R],L&&"get"in L&&(x=L.get(i,!0,d)),x===w&&(x=zt(i,l,f)),x==="normal"&&l in Xn&&(x=Xn[l]),d===""||d?(m=parseFloat(x),d===!0||o.isNumeric(m)?m||0:x):x},swap:function(i,l,d,f){var m,x,L={};for(x in l)L[x]=i.style[x],i.style[x]=l[x];m=d.apply(i,f||[]);for(x in l)i.style[x]=L[x];return m}}),C.getComputedStyle?(Rt=function(i){return C.getComputedStyle(i,null)},zt=function(i,l,d){var f,m,x,L=d||Rt(i),R=L?L.getPropertyValue(l)||L[l]:w,F=i.style;return L&&(R!==""||o.contains(i.ownerDocument,i)||(R=o.style(i,l)),Kt.test(R)&&gi.test(l)&&(f=F.width,m=F.minWidth,x=F.maxWidth,F.minWidth=F.maxWidth=F.width=R,R=L.width,F.width=f,F.minWidth=m,F.maxWidth=x)),R}):E.documentElement.currentStyle&&(Rt=function(i){return i.currentStyle},zt=function(i,l,d){var f,m,x,L=d||Rt(i),R=L?L[l]:w,F=i.style;return R==null&&F&&F[l]&&(R=F[l]),Kt.test(R)&&!Di.test(l)&&(f=F.left,m=i.runtimeStyle,x=m&&m.left,x&&(m.left=i.currentStyle.left),F.left=l==="fontSize"?"1em":R,R=F.pixelLeft+"px",F.left=f,x&&(m.left=x)),R===""?"auto":R});function Jn(i,l,d){var f=Gn.exec(l);return f?Math.max(0,f[1]-(d||0))+(f[2]||"px"):l}function tn(i,l,d,f,m){for(var x=d===(f?"border":"content")?4:l==="width"?1:0,L=0;4>x;x+=2)d==="margin"&&(L+=o.css(i,d+qt[x],!0,m)),f?(d==="content"&&(L-=o.css(i,"padding"+qt[x],!0,m)),d!=="margin"&&(L-=o.css(i,"border"+qt[x]+"Width",!0,m))):(L+=o.css(i,"padding"+qt[x],!0,m),d!=="padding"&&(L+=o.css(i,"border"+qt[x]+"Width",!0,m)));return L}function Gt(i,l,d){var f=!0,m=l==="width"?i.offsetWidth:i.offsetHeight,x=Rt(i),L=o.support.boxSizing&&o.css(i,"boxSizing",!1,x)==="border-box";if(0>=m||m==null){if(m=zt(i,l,x),(0>m||m==null)&&(m=i.style[l]),Kt.test(m))return m;f=L&&(o.support.boxSizingReliable||m===i.style[l]),m=parseFloat(m)||0}return m+tn(i,l,d||(L?"border":"content"),f,x)+"px"}function mn(i){var l=E,d=vi[i];return d||(d=Qn(i,l),d!=="none"&&d||(st=(st||o("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(l.documentElement),l=(st[0].contentWindow||st[0].contentDocument).document,l.write("<!doctype html><html><body>"),l.close(),d=Qn(i,l),st.detach()),vi[i]=d),d}function Qn(i,l){var d=o(l.createElement(i)).appendTo(l.body),f=o.css(d[0],"display");return d.remove(),f}o.each(["height","width"],function(i,l){o.cssHooks[l]={get:function(d,f,m){return f?d.offsetWidth===0&&Oi.test(o.css(d,"display"))?o.swap(d,Ii,function(){return Gt(d,l,m)}):Gt(d,l,m):w},set:function(d,f,m){var x=m&&Rt(d);return Jn(d,f,m?tn(d,l,m,o.support.boxSizing&&o.css(d,"boxSizing",!1,x)==="border-box",x):0)}}}),o.support.opacity||(o.cssHooks.opacity={get:function(i,l){return mi.test((l&&i.currentStyle?i.currentStyle.filter:i.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":l?"1":""},set:function(i,l){var d=i.style,f=i.currentStyle,m=o.isNumeric(l)?"alpha(opacity="+100*l+")":"",x=f&&f.filter||d.filter||"";d.zoom=1,(l>=1||l==="")&&o.trim(x.replace(En,""))===""&&d.removeAttribute&&(d.removeAttribute("filter"),l===""||f&&!f.filter)||(d.filter=En.test(x)?x.replace(En,m):x+" "+m)}}),o(function(){o.support.reliableMarginRight||(o.cssHooks.marginRight={get:function(i,l){return l?o.swap(i,{display:"inline-block"},zt,[i,"marginRight"]):w}}),!o.support.pixelPosition&&o.fn.position&&o.each(["top","left"],function(i,l){o.cssHooks[l]={get:function(d,f){return f?(f=zt(d,l),Kt.test(f)?o(d).position()[l]+"px":f):w}}})}),o.expr&&o.expr.filters&&(o.expr.filters.hidden=function(i){return 0>=i.offsetWidth&&0>=i.offsetHeight||!o.support.reliableHiddenOffsets&&(i.style&&i.style.display||o.css(i,"display"))==="none"},o.expr.filters.visible=function(i){return!o.expr.filters.hidden(i)}),o.each({margin:"",padding:"",border:"Width"},function(i,l){o.cssHooks[i+l]={expand:function(d){for(var f=0,m={},x=typeof d=="string"?d.split(" "):[d];4>f;f++)m[i+qt[f]+l]=x[f]||x[f-2]||x[0];return m}},gi.test(i)||(o.cssHooks[i+l].set=Jn)});var Yn=/%20/g,Cn=/\[\]$/,Sn=/\r?\n/g,ei=/^(?:submit|button|image|reset|file)$/i,We=/^(?:input|select|textarea|keygen)/i;o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var i=o.prop(this,"elements");return i?o.makeArray(i):this}).filter(function(){var i=this.type;return this.name&&!o(this).is(":disabled")&&We.test(this.nodeName)&&!ei.test(i)&&(this.checked||!Ot.test(i))}).map(function(i,l){var d=o(this).val();return d==null?null:o.isArray(d)?o.map(d,function(f){return{name:l.name,value:f.replace(Sn,`\r
`)}}):{name:l.name,value:d.replace(Sn,`\r
`)}}).get()}}),o.param=function(i,l){var d,f=[],m=function(x,L){L=o.isFunction(L)?L():L??"",f[f.length]=encodeURIComponent(x)+"="+encodeURIComponent(L)};if(l===w&&(l=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(i)||i.jquery&&!o.isPlainObject(i))o.each(i,function(){m(this.name,this.value)});else for(d in i)Tn(d,i[d],l,m);return f.join("&").replace(Yn,"+")};function Tn(i,l,d,f){var m;if(o.isArray(l))o.each(l,function(x,L){d||Cn.test(i)?f(i,L):Tn(i+"["+(typeof L=="object"?x:"")+"]",L,d,f)});else if(d||o.type(l)!=="object")f(i,l);else for(m in l)Tn(i+"["+m+"]",l[m],d,f)}o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,l){o.fn[l]=function(d,f){return arguments.length>0?this.on(l,null,d,f):this.trigger(l)}}),o.fn.hover=function(i,l){return this.mouseenter(i).mouseleave(l||i)};var jt,It,Ln=o.now(),Mn=/\?/,An=/#.*$/,ti=/([?&])_=[^&]*/,bi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,wi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ki=/^(?:GET|HEAD)$/,xi=/^\/\//,ni=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ii=o.fn.load,ri={},_n={},gn="*/".concat("*");try{It=S.href}catch{It=E.createElement("a"),It.href="",It=It.href}jt=ni.exec(It.toLowerCase())||[];function oi(i){return function(l,d){typeof l!="string"&&(d=l,l="*");var f,m=0,x=l.toLowerCase().match(J)||[];if(o.isFunction(d))for(;f=x[m++];)f[0]==="+"?(f=f.slice(1)||"*",(i[f]=i[f]||[]).unshift(d)):(i[f]=i[f]||[]).push(d)}}function Nt(i,l,d,f){var m={},x=i===_n;function L(R){var F;return m[R]=!0,o.each(i[R]||[],function(X,U){var ie=U(l,d,f);return typeof ie!="string"||x||m[ie]?x?!(F=ie):w:(l.dataTypes.unshift(ie),L(ie),!1)}),F}return L(l.dataTypes[0])||!m["*"]&&L("*")}function Xt(i,l){var d,f,m=o.ajaxSettings.flatOptions||{};for(f in l)l[f]!==w&&((m[f]?i:d||(d={}))[f]=l[f]);return d&&o.extend(!0,i,d),i}o.fn.load=function(i,l,d){if(typeof i!="string"&&ii)return ii.apply(this,arguments);var f,m,x,L=this,R=i.indexOf(" ");return R>=0&&(f=i.slice(R,i.length),i=i.slice(0,R)),o.isFunction(l)?(d=l,l=w):l&&typeof l=="object"&&(x="POST"),L.length>0&&o.ajax({url:i,type:x,dataType:"html",data:l}).done(function(F){m=arguments,L.html(f?o("<div>").append(o.parseHTML(F)).find(f):F)}).complete(d&&function(F,X){L.each(d,m||[F.responseText,X,F])}),this},o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,l){o.fn[l]=function(d){return this.on(l,d)}}),o.each(["get","post"],function(i,l){o[l]=function(d,f,m,x){return o.isFunction(f)&&(x=x||m,m=f,f=w),o.ajax({url:d,type:l,dataType:x,data:f,success:m})}}),o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It,type:"GET",isLocal:wi.test(jt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":C.String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(i,l){return l?Xt(Xt(i,o.ajaxSettings),l):Xt(o.ajaxSettings,i)},ajaxPrefilter:oi(ri),ajaxTransport:oi(_n),ajax:function(i,l){typeof i=="object"&&(l=i,i=w),l=l||{};var d,f,m,x,L,R,F,X,U=o.ajaxSetup({},l),ie=U.context||U,ne=U.context&&(ie.nodeType||ie.jquery)?o(ie):o.event,se=o.Deferred(),Ie=o.Callbacks("once memory"),Be=U.statusCode||{},Xe={},yt={},bt=0,tt="canceled",qe={readyState:0,getResponseHeader:function(Fe){var ut;if(bt===2){if(!X)for(X={};ut=bi.exec(x);)X[ut[1].toLowerCase()]=ut[2];ut=X[Fe.toLowerCase()]}return ut??null},getAllResponseHeaders:function(){return bt===2?x:null},setRequestHeader:function(Fe,ut){var Bt=Fe.toLowerCase();return bt||(Fe=yt[Bt]=yt[Bt]||Fe,Xe[Fe]=ut),this},overrideMimeType:function(Fe){return bt||(U.mimeType=Fe),this},statusCode:function(Fe){var ut;if(Fe)if(2>bt)for(ut in Fe)Be[ut]=[Be[ut],Fe[ut]];else qe.always(Fe[qe.status]);return this},abort:function(Fe){var ut=Fe||tt;return F&&F.abort(ut),nt(0,ut),this}};if(se.promise(qe).complete=Ie.add,qe.success=qe.done,qe.error=qe.fail,U.url=((i||U.url||It)+"").replace(An,"").replace(xi,jt[1]+"//"),U.type=l.method||l.type||U.method||U.type,U.dataTypes=o.trim(U.dataType||"*").toLowerCase().match(J)||[""],U.crossDomain==null&&(d=ni.exec(U.url.toLowerCase()),U.crossDomain=!(!d||d[1]===jt[1]&&d[2]===jt[2]&&(d[3]||(d[1]==="http:"?80:443))==(jt[3]||(jt[1]==="http:"?80:443)))),U.data&&U.processData&&typeof U.data!="string"&&(U.data=o.param(U.data,U.traditional)),Nt(ri,U,l,qe),bt===2)return qe;R=U.global,R&&o.active++===0&&o.event.trigger("ajaxStart"),U.type=U.type.toUpperCase(),U.hasContent=!ki.test(U.type),m=U.url,U.hasContent||(U.data&&(m=U.url+=(Mn.test(m)?"&":"?")+U.data,delete U.data),U.cache===!1&&(U.url=ti.test(m)?m.replace(ti,"$1_="+Ln++):m+(Mn.test(m)?"&":"?")+"_="+Ln++)),U.ifModified&&(o.lastModified[m]&&qe.setRequestHeader("If-Modified-Since",o.lastModified[m]),o.etag[m]&&qe.setRequestHeader("If-None-Match",o.etag[m])),(U.data&&U.hasContent&&U.contentType!==!1||l.contentType)&&qe.setRequestHeader("Content-Type",U.contentType),qe.setRequestHeader("Accept",U.dataTypes[0]&&U.accepts[U.dataTypes[0]]?U.accepts[U.dataTypes[0]]+(U.dataTypes[0]!=="*"?", "+gn+"; q=0.01":""):U.accepts["*"]);for(f in U.headers)qe.setRequestHeader(f,U.headers[f]);if(U.beforeSend&&(U.beforeSend.call(ie,qe,U)===!1||bt===2))return qe.abort();tt="abort";for(f in{success:1,error:1,complete:1})qe[f](U[f]);if(F=Nt(_n,U,l,qe)){qe.readyState=1,R&&ne.trigger("ajaxSend",[qe,U]),U.async&&U.timeout>0&&(L=setTimeout(function(){qe.abort("timeout")},U.timeout));try{bt=1,F.send(Xe,nt)}catch(Fe){if(!(2>bt))throw Fe;nt(-1,Fe)}}else nt(-1,"No Transport");function nt(Fe,ut,Bt,On){var Lt,Mt,$t,Zt,Ut,mt=ut;bt!==2&&(bt=2,L&&clearTimeout(L),F=w,x=On||"",qe.readyState=Fe>0?4:0,Bt&&(Zt=Hn(U,qe,Bt)),Fe>=200&&300>Fe||Fe===304?(U.ifModified&&(Ut=qe.getResponseHeader("Last-Modified"),Ut&&(o.lastModified[m]=Ut),Ut=qe.getResponseHeader("etag"),Ut&&(o.etag[m]=Ut)),Fe===204?(Lt=!0,mt="nocontent"):Fe===304?(Lt=!0,mt="notmodified"):(Lt=Pi(U,Zt),mt=Lt.state,Mt=Lt.data,$t=Lt.error,Lt=!$t)):($t=mt,(Fe||!mt)&&(mt="error",0>Fe&&(Fe=0))),qe.status=Fe,qe.statusText=(ut||mt)+"",Lt?se.resolveWith(ie,[Mt,mt,qe]):se.rejectWith(ie,[qe,mt,$t]),qe.statusCode(Be),Be=w,R&&ne.trigger(Lt?"ajaxSuccess":"ajaxError",[qe,U,Lt?Mt:$t]),Ie.fireWith(ie,[qe,mt]),R&&(ne.trigger("ajaxComplete",[qe,U]),--o.active||o.event.trigger("ajaxStop")))}return qe},getScript:function(i,l){return o.get(i,w,l,"script")},getJSON:function(i,l,d){return o.get(i,l,d,"json")}});function Hn(i,l,d){var f,m,x,L,R=i.contents,F=i.dataTypes,X=i.responseFields;for(L in X)L in d&&(l[X[L]]=d[L]);for(;F[0]==="*";)F.shift(),m===w&&(m=i.mimeType||l.getResponseHeader("Content-Type"));if(m){for(L in R)if(R[L]&&R[L].test(m)){F.unshift(L);break}}if(F[0]in d)x=F[0];else{for(L in d){if(!F[0]||i.converters[L+" "+F[0]]){x=L;break}f||(f=L)}x=x||f}return x?(x!==F[0]&&F.unshift(x),d[x]):w}function Pi(i,l){var d,f,m,x,L={},R=0,F=i.dataTypes.slice(),X=F[0];if(i.dataFilter&&(l=i.dataFilter(l,i.dataType)),F[1])for(m in i.converters)L[m.toLowerCase()]=i.converters[m];for(;f=F[++R];)if(f!=="*"){if(X!=="*"&&X!==f){if(m=L[X+" "+f]||L["* "+f],!m){for(d in L)if(x=d.split(" "),x[1]===f&&(m=L[X+" "+x[0]]||L["* "+x[0]])){m===!0?m=L[d]:L[d]!==!0&&(f=x[0],F.splice(R--,0,f));break}}if(m!==!0)if(m&&i.throws)l=m(l);else try{l=m(l)}catch(U){return{state:"parsererror",error:m?U:"No conversion from "+X+" to "+f}}}X=f}return{state:"success",data:l}}o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(i){return o.globalEval(i),i}}}),o.ajaxPrefilter("script",function(i){i.cache===w&&(i.cache=!1),i.crossDomain&&(i.type="GET",i.global=!1)}),o.ajaxTransport("script",function(i){if(i.crossDomain){var l,d=E.head||o("head")[0]||E.documentElement;return{send:function(f,m){l=E.createElement("script"),l.async=!0,i.scriptCharset&&(l.charset=i.scriptCharset),l.src=i.url,l.onload=l.onreadystatechange=function(x,L){(L||!l.readyState||/loaded|complete/.test(l.readyState))&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),l=null,L||m(200,"success"))},d.insertBefore(l,d.firstChild)},abort:function(){l&&l.onload(w,!0)}}}});var Ei=[],ai=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=Ei.pop()||o.expando+"_"+Ln++;return this[i]=!0,i}}),o.ajaxPrefilter("json jsonp",function(i,l,d){var f,m,x,L=i.jsonp!==!1&&(ai.test(i.url)?"url":typeof i.data=="string"&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&ai.test(i.data)&&"data");return L||i.dataTypes[0]==="jsonp"?(f=i.jsonpCallback=o.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,L?i[L]=i[L].replace(ai,"$1"+f):i.jsonp!==!1&&(i.url+=(Mn.test(i.url)?"&":"?")+i.jsonp+"="+f),i.converters["script json"]=function(){return x||o.error(f+" was not called"),x[0]},i.dataTypes[0]="json",m=C[f],C[f]=function(){x=arguments},d.always(function(){C[f]=m,i[f]&&(i.jsonpCallback=l.jsonpCallback,Ei.push(f)),x&&o.isFunction(m)&&m(x[0]),x=m=w}),"script"):w});var nn,rn,Ci=0,si=C.ActiveXObject&&function(){var i;for(i in nn)nn[i](w,!0)};function li(){try{return new C.XMLHttpRequest}catch{}}function Ri(){try{return new C.ActiveXObject("Microsoft.XMLHTTP")}catch{}}o.ajaxSettings.xhr=C.ActiveXObject?function(){return!this.isLocal&&li()||Ri()}:li,rn=o.ajaxSettings.xhr(),o.support.cors=!!rn&&"withCredentials"in rn,rn=o.support.ajax=!!rn,rn&&o.ajaxTransport(function(i){if(!i.crossDomain||o.support.cors){var l;return{send:function(d,f){var m,x,L=i.xhr();if(i.username?L.open(i.type,i.url,i.async,i.username,i.password):L.open(i.type,i.url,i.async),i.xhrFields)for(x in i.xhrFields)L[x]=i.xhrFields[x];i.mimeType&&L.overrideMimeType&&L.overrideMimeType(i.mimeType),i.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(x in d)L.setRequestHeader(x,d[x])}catch{}L.send(i.hasContent&&i.data||null),l=function(R,F){var X,U,ie,ne;try{if(l&&(F||L.readyState===4))if(l=w,m&&(L.onreadystatechange=o.noop,si&&delete nn[m]),F)L.readyState!==4&&L.abort();else{ne={},X=L.status,U=L.getAllResponseHeaders(),typeof L.responseText=="string"&&(ne.text=L.responseText);try{ie=L.statusText}catch{ie=""}X||!i.isLocal||i.crossDomain?X===1223&&(X=204):X=ne.text?200:404}}catch(se){F||f(-1,se)}ne&&f(X,ie,ne,U)},i.async?L.readyState===4?setTimeout(l):(m=++Ci,si&&(nn||(nn={},o(C).unload(si)),nn[m]=l),L.onreadystatechange=l):l()},abort:function(){l&&l(w,!0)}}}});var on,Nn,qi=/^(?:toggle|show|hide)$/,Bi=RegExp("^(?:([+-])=|)("+k+")([a-z%]*)$","i"),Si=/queueHooks$/,an=[Fi],vn={"*":[function(i,l){var d,f,m=this.createTween(i,l),x=Bi.exec(l),L=m.cur(),R=+L||0,F=1,X=20;if(x){if(d=+x[2],f=x[3]||(o.cssNumber[i]?"":"px"),f!=="px"&&R){R=o.css(m.elem,i,!0)||d||1;do F=F||".5",R/=F,o.style(m.elem,i,R+f);while(F!==(F=m.cur()/L)&&F!==1&&--X)}m.unit=f,m.start=R,m.end=x[1]?R+(x[1]+1)*d:d}return m}]};function Ti(){return setTimeout(function(){on=w}),on=o.now()}function $i(i,l){o.each(l,function(d,f){for(var m=(vn[d]||[]).concat(vn["*"]),x=0,L=m.length;L>x;x++)if(m[x].call(i,d,f))return})}function ci(i,l,d){var f,m,x=0,L=an.length,R=o.Deferred().always(function(){delete F.elem}),F=function(){if(m)return!1;for(var ie=on||Ti(),ne=Math.max(0,X.startTime+X.duration-ie),se=ne/X.duration||0,Ie=1-se,Be=0,Xe=X.tweens.length;Xe>Be;Be++)X.tweens[Be].run(Ie);return R.notifyWith(i,[X,Ie,ne]),1>Ie&&Xe?ne:(R.resolveWith(i,[X]),!1)},X=R.promise({elem:i,props:o.extend({},l),opts:o.extend(!0,{specialEasing:{}},d),originalProperties:l,originalOptions:d,startTime:on||Ti(),duration:d.duration,tweens:[],createTween:function(ie,ne){var se=o.Tween(i,X.opts,ie,ne,X.opts.specialEasing[ie]||X.opts.easing);return X.tweens.push(se),se},stop:function(ie){var ne=0,se=ie?X.tweens.length:0;if(m)return this;for(m=!0;se>ne;ne++)X.tweens[ne].run(1);return ie?R.resolveWith(i,[X,ie]):R.rejectWith(i,[X,ie]),this}}),U=X.props;for(Ui(U,X.opts.specialEasing);L>x;x++)if(f=an[x].call(X,i,U,X.opts))return f;return $i(X,U),o.isFunction(X.opts.start)&&X.opts.start.call(i,X),o.fx.timer(o.extend(F,{elem:i,anim:X,queue:X.opts.queue})),X.progress(X.opts.progress).done(X.opts.done,X.opts.complete).fail(X.opts.fail).always(X.opts.always)}function Ui(i,l){var d,f,m,x,L;for(m in i)if(f=o.camelCase(m),x=l[f],d=i[m],o.isArray(d)&&(x=d[1],d=i[m]=d[0]),m!==f&&(i[f]=d,delete i[m]),L=o.cssHooks[f],L&&"expand"in L){d=L.expand(d),delete i[f];for(m in d)m in i||(i[m]=d[m],l[m]=x)}else l[f]=x}o.Animation=o.extend(ci,{tweener:function(i,l){o.isFunction(i)?(l=i,i=["*"]):i=i.split(" ");for(var d,f=0,m=i.length;m>f;f++)d=i[f],vn[d]=vn[d]||[],vn[d].unshift(l)},prefilter:function(i,l){l?an.unshift(i):an.push(i)}});function Fi(i,l,d){var f,m,x,L,R,F,X,U,ie,ne=this,se=i.style,Ie={},Be=[],Xe=i.nodeType&&hn(i);d.queue||(U=o._queueHooks(i,"fx"),U.unqueued==null&&(U.unqueued=0,ie=U.empty.fire,U.empty.fire=function(){U.unqueued||ie()}),U.unqueued++,ne.always(function(){ne.always(function(){U.unqueued--,o.queue(i,"fx").length||U.empty.fire()})})),i.nodeType===1&&("height"in l||"width"in l)&&(d.overflow=[se.overflow,se.overflowX,se.overflowY],o.css(i,"display")==="inline"&&o.css(i,"float")==="none"&&(o.support.inlineBlockNeedsLayout&&mn(i.nodeName)!=="inline"?se.zoom=1:se.display="inline-block")),d.overflow&&(se.overflow="hidden",o.support.shrinkWrapBlocks||ne.always(function(){se.overflow=d.overflow[0],se.overflowX=d.overflow[1],se.overflowY=d.overflow[2]}));for(m in l)if(L=l[m],qi.exec(L)){if(delete l[m],F=F||L==="toggle",L===(Xe?"hide":"show"))continue;Be.push(m)}if(x=Be.length)for(R=o._data(i,"fxshow")||o._data(i,"fxshow",{}),("hidden"in R)&&(Xe=R.hidden),F&&(R.hidden=!Xe),Xe?o(i).show():ne.done(function(){o(i).hide()}),ne.done(function(){var yt;o._removeData(i,"fxshow");for(yt in Ie)o.style(i,yt,Ie[yt])}),m=0;x>m;m++)f=Be[m],X=ne.createTween(f,Xe?R[f]:0),Ie[f]=R[f]||o.style(i,f),f in R||(R[f]=X.start,Xe&&(X.end=X.start,X.start=f==="width"||f==="height"?1:0))}function xt(i,l,d,f,m){return new xt.prototype.init(i,l,d,f,m)}o.Tween=xt,xt.prototype={constructor:xt,init:function(i,l,d,f,m,x){this.elem=i,this.prop=d,this.easing=m||"swing",this.options=l,this.start=this.now=this.cur(),this.end=f,this.unit=x||(o.cssNumber[d]?"":"px")},cur:function(){var i=xt.propHooks[this.prop];return i&&i.get?i.get(this):xt.propHooks._default.get(this)},run:function(i){var l,d=xt.propHooks[this.prop];return this.pos=l=this.options.duration?o.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):i,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):xt.propHooks._default.set(this),this}},xt.prototype.init.prototype=xt.prototype,xt.propHooks={_default:{get:function(i){var l;return i.elem[i.prop]==null||i.elem.style&&i.elem.style[i.prop]!=null?(l=o.css(i.elem,i.prop,""),l&&l!=="auto"?l:0):i.elem[i.prop]},set:function(i){o.fx.step[i.prop]?o.fx.step[i.prop](i):i.elem.style&&(i.elem.style[o.cssProps[i.prop]]!=null||o.cssHooks[i.prop])?o.style(i.elem,i.prop,i.now+i.unit):i.elem[i.prop]=i.now}}},xt.propHooks.scrollTop=xt.propHooks.scrollLeft={set:function(i){i.elem.nodeType&&i.elem.parentNode&&(i.elem[i.prop]=i.now)}},o.each(["toggle","show","hide"],function(i,l){var d=o.fn[l];o.fn[l]=function(f,m,x){return f==null||typeof f=="boolean"?d.apply(this,arguments):this.animate(Dn(l,!0),f,m,x)}}),o.fn.extend({fadeTo:function(i,l,d,f){return this.filter(hn).css("opacity",0).show().end().animate({opacity:l},i,d,f)},animate:function(i,l,d,f){var m=o.isEmptyObject(i),x=o.speed(l,d,f),L=function(){var R=ci(this,o.extend({},i),x);L.finish=function(){R.stop(!0)},(m||o._data(this,"finish"))&&R.stop(!0)};return L.finish=L,m||x.queue===!1?this.each(L):this.queue(x.queue,L)},stop:function(i,l,d){var f=function(m){var x=m.stop;delete m.stop,x(d)};return typeof i!="string"&&(d=l,l=i,i=w),l&&i!==!1&&this.queue(i||"fx",[]),this.each(function(){var m=!0,x=i!=null&&i+"queueHooks",L=o.timers,R=o._data(this);if(x)R[x]&&R[x].stop&&f(R[x]);else for(x in R)R[x]&&R[x].stop&&Si.test(x)&&f(R[x]);for(x=L.length;x--;)L[x].elem!==this||i!=null&&L[x].queue!==i||(L[x].anim.stop(d),m=!1,L.splice(x,1));(m||!d)&&o.dequeue(this,i)})},finish:function(i){return i!==!1&&(i=i||"fx"),this.each(function(){var l,d=o._data(this),f=d[i+"queue"],m=d[i+"queueHooks"],x=o.timers,L=f?f.length:0;for(d.finish=!0,o.queue(this,i,[]),m&&m.cur&&m.cur.finish&&m.cur.finish.call(this),l=x.length;l--;)x[l].elem===this&&x[l].queue===i&&(x[l].anim.stop(!0),x.splice(l,1));for(l=0;L>l;l++)f[l]&&f[l].finish&&f[l].finish.call(this);delete d.finish})}});function Dn(i,l){var d,f={height:i},m=0;for(l=l?1:0;4>m;m+=2-l)d=qt[m],f["margin"+d]=f["padding"+d]=i;return l&&(f.opacity=f.width=i),f}o.each({slideDown:Dn("show"),slideUp:Dn("hide"),slideToggle:Dn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(i,l){o.fn[i]=function(d,f,m){return this.animate(l,d,f,m)}}),o.speed=function(i,l,d){var f=i&&typeof i=="object"?o.extend({},i):{complete:d||!d&&l||o.isFunction(i)&&i,duration:i,easing:d&&l||l&&!o.isFunction(l)&&l};return f.duration=o.fx.off?0:typeof f.duration=="number"?f.duration:f.duration in o.fx.speeds?o.fx.speeds[f.duration]:o.fx.speeds._default,(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){o.isFunction(f.old)&&f.old.call(this),f.queue&&o.dequeue(this,f.queue)},f},o.easing={linear:function(i){return i},swing:function(i){return .5-Math.cos(i*Math.PI)/2}},o.timers=[],o.fx=xt.prototype.init,o.fx.tick=function(){var i,l=o.timers,d=0;for(on=o.now();l.length>d;d++)i=l[d],i()||l[d]!==i||l.splice(d--,1);l.length||o.fx.stop(),on=w},o.fx.timer=function(i){i()&&o.timers.push(i)&&o.fx.start()},o.fx.interval=13,o.fx.start=function(){Nn||(Nn=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Nn),Nn=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fx.step={},o.expr&&o.expr.filters&&(o.expr.filters.animated=function(i){return o.grep(o.timers,function(l){return i===l.elem}).length}),o.fn.offset=function(i){if(arguments.length)return i===w?this:this.each(function(L){o.offset.setOffset(this,i,L)});var l,d,f={top:0,left:0},m=this[0],x=m&&m.ownerDocument;if(x)return l=x.documentElement,o.contains(l,m)?(typeof m.getBoundingClientRect!==I&&(f=m.getBoundingClientRect()),d=Li(x),{top:f.top+(d.pageYOffset||l.scrollTop)-(l.clientTop||0),left:f.left+(d.pageXOffset||l.scrollLeft)-(l.clientLeft||0)}):f},o.offset={setOffset:function(i,l,d){var f=o.css(i,"position");f==="static"&&(i.style.position="relative");var m=o(i),x=m.offset(),L=o.css(i,"top"),R=o.css(i,"left"),F=(f==="absolute"||f==="fixed")&&o.inArray("auto",[L,R])>-1,X={},U={},ie,ne;F?(U=m.position(),ie=U.top,ne=U.left):(ie=parseFloat(L)||0,ne=parseFloat(R)||0),o.isFunction(l)&&(l=l.call(i,d,x)),l.top!=null&&(X.top=l.top-x.top+ie),l.left!=null&&(X.left=l.left-x.left+ne),"using"in l?l.using.call(i,X):m.css(X)}},o.fn.extend({position:function(){if(this[0]){var i,l,d={top:0,left:0},f=this[0];return o.css(f,"position")==="fixed"?l=f.getBoundingClientRect():(i=this.offsetParent(),l=this.offset(),o.nodeName(i[0],"html")||(d=i.offset()),d.top+=o.css(i[0],"borderTopWidth",!0),d.left+=o.css(i[0],"borderLeftWidth",!0)),{top:l.top-d.top-o.css(f,"marginTop",!0),left:l.left-d.left-o.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent||E.documentElement;i&&!o.nodeName(i,"html")&&o.css(i,"position")==="static";)i=i.offsetParent;return i||E.documentElement})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,l){var d=/Y/.test(l);o.fn[i]=function(f){return o.access(this,function(m,x,L){var R=Li(m);return L===w?R?l in R?R[l]:R.document.documentElement[x]:m[x]:(R?R.scrollTo(d?o(R).scrollLeft():L,d?L:o(R).scrollTop()):m[x]=L,w)},i,f,arguments.length,null)}});function Li(i){return o.isWindow(i)?i:i.nodeType===9?i.defaultView||i.parentWindow:!1}o.each({Height:"height",Width:"width"},function(i,l){o.each({padding:"inner"+i,content:l,"":"outer"+i},function(d,f){o.fn[f]=function(m,x){var L=arguments.length&&(d||typeof m!="boolean"),R=d||(m===!0||x===!0?"margin":"border");return o.access(this,function(F,X,U){var ie;return o.isWindow(F)?F.document.documentElement["client"+i]:F.nodeType===9?(ie=F.documentElement,Math.max(F.body["scroll"+i],ie["scroll"+i],F.body["offset"+i],ie["offset"+i],ie["client"+i])):U===w?o.css(F,X,R):o.style(F,X,U,R)},l,L?m:w,L,null)}})}),C.jQuery=C.$=o,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return o})})(window);/*!
 * Bootstrap v3.0.3 (http://getbootstrap.com)
 * Copyright 2013 Twitter, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 */if(typeof jQuery>"u")throw new Error("Bootstrap requires jQuery");+function(C){"use strict";function w(){var ve=document.createElement("bootstrap"),P={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var I in P)if(ve.style[I]!==void 0)return{end:P[I]}}C.fn.emulateTransitionEnd=function(ve){var P=!1,I=this;C(this).one(C.support.transition.end,function(){P=!0});var E=function(){P||C(I).trigger(C.support.transition.end)};return setTimeout(E,ve),this},C(function(){C.support.transition=w()})}(jQuery),+function(C){"use strict";var w='[data-dismiss="alert"]',ve=function(I){C(I).on("click",w,this.close)};ve.prototype.close=function(I){function E(){u.trigger("closed.bs.alert").remove()}var S=C(this),s=S.attr("data-target");s||(s=S.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var u=C(s);I&&I.preventDefault(),u.length||(u=S.hasClass("alert")?S:S.parent()),u.trigger(I=C.Event("close.bs.alert")),I.isDefaultPrevented()||(u.removeClass("in"),C.support.transition&&u.hasClass("fade")?u.one(C.support.transition.end,E).emulateTransitionEnd(150):E())};var P=C.fn.alert;C.fn.alert=function(I){return this.each(function(){var E=C(this),S=E.data("bs.alert");S||E.data("bs.alert",S=new ve(this)),typeof I=="string"&&S[I].call(E)})},C.fn.alert.Constructor=ve,C.fn.alert.noConflict=function(){return C.fn.alert=P,this},C(document).on("click.bs.alert.data-api",w,ve.prototype.close)}(jQuery),+function(C){"use strict";var w=function(P,I){this.$element=C(P),this.options=C.extend({},w.DEFAULTS,I)};w.DEFAULTS={loadingText:"loading..."},w.prototype.setState=function(P){var I="disabled",E=this.$element,S=E.is("input")?"val":"html",s=E.data();P+="Text",s.resetText||E.data("resetText",E[S]()),E[S](s[P]||this.options[P]),setTimeout(function(){P=="loadingText"?E.addClass(I).attr(I,I):E.removeClass(I).removeAttr(I)},0)},w.prototype.toggle=function(){var P=this.$element.closest('[data-toggle="buttons"]'),I=!0;if(P.length){var E=this.$element.find("input");E.prop("type")==="radio"&&(E.prop("checked")&&this.$element.hasClass("active")?I=!1:P.find(".active").removeClass("active")),I&&E.prop("checked",!this.$element.hasClass("active")).trigger("change")}I&&this.$element.toggleClass("active")};var ve=C.fn.button;C.fn.button=function(P){return this.each(function(){var I=C(this),E=I.data("bs.button"),S=typeof P=="object"&&P;E||I.data("bs.button",E=new w(this,S)),P=="toggle"?E.toggle():P&&E.setState(P)})},C.fn.button.Constructor=w,C.fn.button.noConflict=function(){return C.fn.button=ve,this},C(document).on("click.bs.button.data-api","[data-toggle^=button]",function(P){var I=C(P.target);I.hasClass("btn")||(I=I.closest(".btn")),I.button("toggle"),P.preventDefault()})}(jQuery),+function(C){"use strict";var w=function(P,I){this.$element=C(P),this.$indicators=this.$element.find(".carousel-indicators"),this.options=I,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",C.proxy(this.pause,this)).on("mouseleave",C.proxy(this.cycle,this))};w.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},w.prototype.cycle=function(P){return P||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(C.proxy(this.next,this),this.options.interval)),this},w.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},w.prototype.to=function(P){var I=this,E=this.getActiveIndex();return P>this.$items.length-1||0>P?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){I.to(P)}):E==P?this.pause().cycle():this.slide(P>E?"next":"prev",C(this.$items[P]))},w.prototype.pause=function(P){return P||(this.paused=!0),this.$element.find(".next, .prev").length&&C.support.transition.end&&(this.$element.trigger(C.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},w.prototype.next=function(){return this.sliding?void 0:this.slide("next")},w.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},w.prototype.slide=function(P,I){var E=this.$element.find(".item.active"),S=I||E[P](),s=this.interval,u=P=="next"?"left":"right",p=P=="next"?"first":"last",v=this;if(!S.length){if(!this.options.wrap)return;S=this.$element.find(".item")[p]()}this.sliding=!0,s&&this.pause();var h=C.Event("slide.bs.carousel",{relatedTarget:S[0],direction:u});if(!S.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var y=C(v.$indicators.children()[v.getActiveIndex()]);y&&y.addClass("active")})),C.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(h),h.isDefaultPrevented())return;S.addClass(P),S[0].offsetWidth,E.addClass(u),S.addClass(u),E.one(C.support.transition.end,function(){S.removeClass([P,u].join(" ")).addClass("active"),E.removeClass(["active",u].join(" ")),v.sliding=!1,setTimeout(function(){v.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(h),h.isDefaultPrevented())return;E.removeClass("active"),S.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return s&&this.cycle(),this}};var ve=C.fn.carousel;C.fn.carousel=function(P){return this.each(function(){var I=C(this),E=I.data("bs.carousel"),S=C.extend({},w.DEFAULTS,I.data(),typeof P=="object"&&P),s=typeof P=="string"?P:S.slide;E||I.data("bs.carousel",E=new w(this,S)),typeof P=="number"?E.to(P):s?E[s]():S.interval&&E.pause().cycle()})},C.fn.carousel.Constructor=w,C.fn.carousel.noConflict=function(){return C.fn.carousel=ve,this},C(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(P){var I,E=C(this),S=C(E.attr("data-target")||(I=E.attr("href"))&&I.replace(/.*(?=#[^\s]+$)/,"")),s=C.extend({},S.data(),E.data()),u=E.attr("data-slide-to");u&&(s.interval=!1),S.carousel(s),(u=E.attr("data-slide-to"))&&S.data("bs.carousel").to(u),P.preventDefault()}),C(window).on("load",function(){C('[data-ride="carousel"]').each(function(){var P=C(this);P.carousel(P.data())})})}(jQuery),+function(C){"use strict";var w=function(P,I){this.$element=C(P),this.options=C.extend({},w.DEFAULTS,I),this.transitioning=null,this.options.parent&&(this.$parent=C(this.options.parent)),this.options.toggle&&this.toggle()};w.DEFAULTS={toggle:!0},w.prototype.dimension=function(){var P=this.$element.hasClass("width");return P?"width":"height"},w.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var P=C.Event("show.bs.collapse");if(this.$element.trigger(P),!P.isDefaultPrevented()){var I=this.$parent&&this.$parent.find("> .panel > .in");if(I&&I.length){var E=I.data("bs.collapse");if(E&&E.transitioning)return;I.collapse("hide"),E||I.data("bs.collapse",null)}var S=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[S](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[S]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!C.support.transition)return s.call(this);var u=C.camelCase(["scroll",S].join("-"));this.$element.one(C.support.transition.end,C.proxy(s,this)).emulateTransitionEnd(350)[S](this.$element[0][u])}}},w.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var P=C.Event("hide.bs.collapse");if(this.$element.trigger(P),!P.isDefaultPrevented()){var I=this.dimension();this.$element[I](this.$element[I]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var E=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return C.support.transition?(this.$element[I](0).one(C.support.transition.end,C.proxy(E,this)).emulateTransitionEnd(350),void 0):E.call(this)}}},w.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var ve=C.fn.collapse;C.fn.collapse=function(P){return this.each(function(){var I=C(this),E=I.data("bs.collapse"),S=C.extend({},w.DEFAULTS,I.data(),typeof P=="object"&&P);E||I.data("bs.collapse",E=new w(this,S)),typeof P=="string"&&E[P]()})},C.fn.collapse.Constructor=w,C.fn.collapse.noConflict=function(){return C.fn.collapse=ve,this},C(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(P){var I,E=C(this),S=E.attr("data-target")||P.preventDefault()||(I=E.attr("href"))&&I.replace(/.*(?=#[^\s]+$)/,""),s=C(S),u=s.data("bs.collapse"),p=u?"toggle":E.data(),v=E.attr("data-parent"),h=v&&C(v);u&&u.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+v+'"]').not(E).addClass("collapsed"),E[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(p)})}(jQuery),+function(C){"use strict";function w(){C(P).remove(),C(I).each(function(s){var u=ve(C(this));u.hasClass("open")&&(u.trigger(s=C.Event("hide.bs.dropdown")),s.isDefaultPrevented()||u.removeClass("open").trigger("hidden.bs.dropdown"))})}function ve(s){var u=s.attr("data-target");u||(u=s.attr("href"),u=u&&/#/.test(u)&&u.replace(/.*(?=#[^\s]*$)/,""));var p=u&&C(u);return p&&p.length?p:s.parent()}var P=".dropdown-backdrop",I="[data-toggle=dropdown]",E=function(s){C(s).on("click.bs.dropdown",this.toggle)};E.prototype.toggle=function(s){var u=C(this);if(!u.is(".disabled, :disabled")){var p=ve(u),v=p.hasClass("open");if(w(),!v){if("ontouchstart"in document.documentElement&&!p.closest(".navbar-nav").length&&C('<div class="dropdown-backdrop"/>').insertAfter(C(this)).on("click",w),p.trigger(s=C.Event("show.bs.dropdown")),s.isDefaultPrevented())return;p.toggleClass("open").trigger("shown.bs.dropdown"),u.focus()}return!1}},E.prototype.keydown=function(s){if(/(38|40|27)/.test(s.keyCode)){var u=C(this);if(s.preventDefault(),s.stopPropagation(),!u.is(".disabled, :disabled")){var p=ve(u),v=p.hasClass("open");if(!v||v&&s.keyCode==27)return s.which==27&&p.find(I).focus(),u.click();var h=C("[role=menu] li:not(.divider):visible a",p);if(h.length){var y=h.index(h.filter(":focus"));s.keyCode==38&&y>0&&y--,s.keyCode==40&&y<h.length-1&&y++,~y||(y=0),h.eq(y).focus()}}}};var S=C.fn.dropdown;C.fn.dropdown=function(s){return this.each(function(){var u=C(this),p=u.data("bs.dropdown");p||u.data("bs.dropdown",p=new E(this)),typeof s=="string"&&p[s].call(u)})},C.fn.dropdown.Constructor=E,C.fn.dropdown.noConflict=function(){return C.fn.dropdown=S,this},C(document).on("click.bs.dropdown.data-api",w).on("click.bs.dropdown.data-api",".dropdown form",function(s){s.stopPropagation()}).on("click.bs.dropdown.data-api",I,E.prototype.toggle).on("keydown.bs.dropdown.data-api",I+", [role=menu]",E.prototype.keydown)}(jQuery),+function(C){"use strict";var w=function(P,I){this.options=I,this.$element=C(P),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};w.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},w.prototype.toggle=function(P){return this[this.isShown?"hide":"show"](P)},w.prototype.show=function(P){var I=this,E=C.Event("show.bs.modal",{relatedTarget:P});this.$element.trigger(E),this.isShown||E.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',C.proxy(this.hide,this)),this.backdrop(function(){var S=C.support.transition&&I.$element.hasClass("fade");I.$element.parent().length||I.$element.appendTo(document.body),I.$element.show(),S&&I.$element[0].offsetWidth,I.$element.addClass("in").attr("aria-hidden",!1),I.enforceFocus();var s=C.Event("shown.bs.modal",{relatedTarget:P});S?I.$element.find(".modal-dialog").one(C.support.transition.end,function(){I.$element.focus().trigger(s)}).emulateTransitionEnd(300):I.$element.focus().trigger(s)}))},w.prototype.hide=function(P){P&&P.preventDefault(),P=C.Event("hide.bs.modal"),this.$element.trigger(P),this.isShown&&!P.isDefaultPrevented()&&(this.isShown=!1,this.escape(),C(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),C.support.transition&&this.$element.hasClass("fade")?this.$element.one(C.support.transition.end,C.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},w.prototype.enforceFocus=function(){C(document).off("focusin.bs.modal").on("focusin.bs.modal",C.proxy(function(P){this.$element[0]===P.target||this.$element.has(P.target).length||this.$element.focus()},this))},w.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",C.proxy(function(P){P.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},w.prototype.hideModal=function(){var P=this;this.$element.hide(),this.backdrop(function(){P.removeBackdrop(),P.$element.trigger("hidden.bs.modal")})},w.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},w.prototype.backdrop=function(P){var I=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var E=C.support.transition&&I;if(this.$backdrop=C('<div class="modal-backdrop '+I+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",C.proxy(function(S){S.target===S.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),E&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!P)return;E?this.$backdrop.one(C.support.transition.end,P).emulateTransitionEnd(150):P()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),C.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(C.support.transition.end,P).emulateTransitionEnd(150):P()):P&&P()};var ve=C.fn.modal;C.fn.modal=function(P,I){return this.each(function(){var E=C(this),S=E.data("bs.modal"),s=C.extend({},w.DEFAULTS,E.data(),typeof P=="object"&&P);S||E.data("bs.modal",S=new w(this,s)),typeof P=="string"?S[P](I):s.show&&S.show(I)})},C.fn.modal.Constructor=w,C.fn.modal.noConflict=function(){return C.fn.modal=ve,this},C(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(P){var I=C(this),E=I.attr("href"),S=C(I.attr("data-target")||E&&E.replace(/.*(?=#[^\s]+$)/,"")),s=S.data("modal")?"toggle":C.extend({remote:!/#/.test(E)&&E},S.data(),I.data());P.preventDefault(),S.modal(s,this).one("hide",function(){I.is(":visible")&&I.focus()})}),C(document).on("show.bs.modal",".modal",function(){C(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){C(document.body).removeClass("modal-open")})}(jQuery),+function(C){"use strict";var w=function(P,I){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",P,I)};w.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},w.prototype.init=function(P,I,E){this.enabled=!0,this.type=P,this.$element=C(I),this.options=this.getOptions(E);for(var S=this.options.trigger.split(" "),s=S.length;s--;){var u=S[s];if(u=="click")this.$element.on("click."+this.type,this.options.selector,C.proxy(this.toggle,this));else if(u!="manual"){var p=u=="hover"?"mouseenter":"focus",v=u=="hover"?"mouseleave":"blur";this.$element.on(p+"."+this.type,this.options.selector,C.proxy(this.enter,this)),this.$element.on(v+"."+this.type,this.options.selector,C.proxy(this.leave,this))}}this.options.selector?this._options=C.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},w.prototype.getDefaults=function(){return w.DEFAULTS},w.prototype.getOptions=function(P){return P=C.extend({},this.getDefaults(),this.$element.data(),P),P.delay&&typeof P.delay=="number"&&(P.delay={show:P.delay,hide:P.delay}),P},w.prototype.getDelegateOptions=function(){var P={},I=this.getDefaults();return this._options&&C.each(this._options,function(E,S){I[E]!=S&&(P[E]=S)}),P},w.prototype.enter=function(P){var I=P instanceof this.constructor?P:C(P.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(I.timeout),I.hoverState="in",I.options.delay&&I.options.delay.show?(I.timeout=setTimeout(function(){I.hoverState=="in"&&I.show()},I.options.delay.show),void 0):I.show()},w.prototype.leave=function(P){var I=P instanceof this.constructor?P:C(P.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(I.timeout),I.hoverState="out",I.options.delay&&I.options.delay.hide?(I.timeout=setTimeout(function(){I.hoverState=="out"&&I.hide()},I.options.delay.hide),void 0):I.hide()},w.prototype.show=function(){var P=C.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(P),P.isDefaultPrevented())return;var I=this.tip();this.setContent(),this.options.animation&&I.addClass("fade");var E=typeof this.options.placement=="function"?this.options.placement.call(this,I[0],this.$element[0]):this.options.placement,S=/\s?auto?\s?/i,s=S.test(E);s&&(E=E.replace(S,"")||"top"),I.detach().css({top:0,left:0,display:"block"}).addClass(E),this.options.container?I.appendTo(this.options.container):I.insertAfter(this.$element);var u=this.getPosition(),p=I[0].offsetWidth,v=I[0].offsetHeight;if(s){var h=this.$element.parent(),y=E,b=document.documentElement.scrollTop||document.body.scrollTop,A=this.options.container=="body"?window.innerWidth:h.outerWidth(),B=this.options.container=="body"?window.innerHeight:h.outerHeight(),j=this.options.container=="body"?0:h.offset().left;E=E=="bottom"&&u.top+u.height+v-b>B?"top":E=="top"&&u.top-b-v<0?"bottom":E=="right"&&u.right+p>A?"left":E=="left"&&u.left-p<j?"right":E,I.removeClass(y).addClass(E)}var O=this.getCalculatedOffset(E,u,p,v);this.applyPlacement(O,E),this.$element.trigger("shown.bs."+this.type)}},w.prototype.applyPlacement=function(P,I){var E,S=this.tip(),s=S[0].offsetWidth,u=S[0].offsetHeight,p=parseInt(S.css("margin-top"),10),v=parseInt(S.css("margin-left"),10);isNaN(p)&&(p=0),isNaN(v)&&(v=0),P.top=P.top+p,P.left=P.left+v,S.offset(P).addClass("in");var h=S[0].offsetWidth,y=S[0].offsetHeight;if(I=="top"&&y!=u&&(E=!0,P.top=P.top+u-y),/bottom|top/.test(I)){var b=0;P.left<0&&(b=-2*P.left,P.left=0,S.offset(P),h=S[0].offsetWidth,y=S[0].offsetHeight),this.replaceArrow(b-s+h,h,"left")}else this.replaceArrow(y-u,y,"top");E&&S.offset(P)},w.prototype.replaceArrow=function(P,I,E){this.arrow().css(E,P?50*(1-P/I)+"%":"")},w.prototype.setContent=function(){var P=this.tip(),I=this.getTitle();P.find(".tooltip-inner")[this.options.html?"html":"text"](I),P.removeClass("fade in top bottom left right")},w.prototype.hide=function(){function P(){I.hoverState!="in"&&E.detach()}var I=this,E=this.tip(),S=C.Event("hide.bs."+this.type);return this.$element.trigger(S),S.isDefaultPrevented()?void 0:(E.removeClass("in"),C.support.transition&&this.$tip.hasClass("fade")?E.one(C.support.transition.end,P).emulateTransitionEnd(150):P(),this.$element.trigger("hidden.bs."+this.type),this)},w.prototype.fixTitle=function(){var P=this.$element;(P.attr("title")||typeof P.attr("data-original-title")!="string")&&P.attr("data-original-title",P.attr("title")||"").attr("title","")},w.prototype.hasContent=function(){return this.getTitle()},w.prototype.getPosition=function(){var P=this.$element[0];return C.extend({},typeof P.getBoundingClientRect=="function"?P.getBoundingClientRect():{width:P.offsetWidth,height:P.offsetHeight},this.$element.offset())},w.prototype.getCalculatedOffset=function(P,I,E,S){return P=="bottom"?{top:I.top+I.height,left:I.left+I.width/2-E/2}:P=="top"?{top:I.top-S,left:I.left+I.width/2-E/2}:P=="left"?{top:I.top+I.height/2-S/2,left:I.left-E}:{top:I.top+I.height/2-S/2,left:I.left+I.width}},w.prototype.getTitle=function(){var P,I=this.$element,E=this.options;return P=I.attr("data-original-title")||(typeof E.title=="function"?E.title.call(I[0]):E.title)},w.prototype.tip=function(){return this.$tip=this.$tip||C(this.options.template)},w.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},w.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},w.prototype.enable=function(){this.enabled=!0},w.prototype.disable=function(){this.enabled=!1},w.prototype.toggleEnabled=function(){this.enabled=!this.enabled},w.prototype.toggle=function(P){var I=P?C(P.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;I.tip().hasClass("in")?I.leave(I):I.enter(I)},w.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var ve=C.fn.tooltip;C.fn.tooltip=function(P){return this.each(function(){var I=C(this),E=I.data("bs.tooltip"),S=typeof P=="object"&&P;E||I.data("bs.tooltip",E=new w(this,S)),typeof P=="string"&&E[P]()})},C.fn.tooltip.Constructor=w,C.fn.tooltip.noConflict=function(){return C.fn.tooltip=ve,this}}(jQuery),+function(C){"use strict";var w=function(P,I){this.init("popover",P,I)};if(!C.fn.tooltip)throw new Error("Popover requires tooltip.js");w.DEFAULTS=C.extend({},C.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),w.prototype=C.extend({},C.fn.tooltip.Constructor.prototype),w.prototype.constructor=w,w.prototype.getDefaults=function(){return w.DEFAULTS},w.prototype.setContent=function(){var P=this.tip(),I=this.getTitle(),E=this.getContent();P.find(".popover-title")[this.options.html?"html":"text"](I),P.find(".popover-content")[this.options.html?"html":"text"](E),P.removeClass("fade top bottom left right in"),P.find(".popover-title").html()||P.find(".popover-title").hide()},w.prototype.hasContent=function(){return this.getTitle()||this.getContent()},w.prototype.getContent=function(){var P=this.$element,I=this.options;return P.attr("data-content")||(typeof I.content=="function"?I.content.call(P[0]):I.content)},w.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},w.prototype.tip=function(){return this.$tip||(this.$tip=C(this.options.template)),this.$tip};var ve=C.fn.popover;C.fn.popover=function(P){return this.each(function(){var I=C(this),E=I.data("bs.popover"),S=typeof P=="object"&&P;E||I.data("bs.popover",E=new w(this,S)),typeof P=="string"&&E[P]()})},C.fn.popover.Constructor=w,C.fn.popover.noConflict=function(){return C.fn.popover=ve,this}}(jQuery),+function(C){"use strict";function w(P,I){var E,S=C.proxy(this.process,this);this.$element=C(P).is("body")?C(window):C(P),this.$body=C("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",S),this.options=C.extend({},w.DEFAULTS,I),this.selector=(this.options.target||(E=C(P).attr("href"))&&E.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=C([]),this.targets=C([]),this.activeTarget=null,this.refresh(),this.process()}w.DEFAULTS={offset:10},w.prototype.refresh=function(){var P=this.$element[0]==window?"offset":"position";this.offsets=C([]),this.targets=C([]);var I=this;this.$body.find(this.selector).map(function(){var E=C(this),S=E.data("target")||E.attr("href"),s=/^#\w/.test(S)&&C(S);return s&&s.length&&[[s[P]().top+(!C.isWindow(I.$scrollElement.get(0))&&I.$scrollElement.scrollTop()),S]]||null}).sort(function(E,S){return E[0]-S[0]}).each(function(){I.offsets.push(this[0]),I.targets.push(this[1])})},w.prototype.process=function(){var P,I=this.$scrollElement.scrollTop()+this.options.offset,E=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,S=E-this.$scrollElement.height(),s=this.offsets,u=this.targets,p=this.activeTarget;if(I>=S)return p!=(P=u.last()[0])&&this.activate(P);for(P=s.length;P--;)p!=u[P]&&I>=s[P]&&(!s[P+1]||I<=s[P+1])&&this.activate(u[P])},w.prototype.activate=function(P){this.activeTarget=P,C(this.selector).parents(".active").removeClass("active");var I=this.selector+'[data-target="'+P+'"],'+this.selector+'[href="'+P+'"]',E=C(I).parents("li").addClass("active");E.parent(".dropdown-menu").length&&(E=E.closest("li.dropdown").addClass("active")),E.trigger("activate.bs.scrollspy")};var ve=C.fn.scrollspy;C.fn.scrollspy=function(P){return this.each(function(){var I=C(this),E=I.data("bs.scrollspy"),S=typeof P=="object"&&P;E||I.data("bs.scrollspy",E=new w(this,S)),typeof P=="string"&&E[P]()})},C.fn.scrollspy.Constructor=w,C.fn.scrollspy.noConflict=function(){return C.fn.scrollspy=ve,this},C(window).on("load",function(){C('[data-spy="scroll"]').each(function(){var P=C(this);P.scrollspy(P.data())})})}(jQuery),+function(C){"use strict";var w=function(P){this.element=C(P)};w.prototype.show=function(){var P=this.element,I=P.closest("ul:not(.dropdown-menu)"),E=P.data("target");if(E||(E=P.attr("href"),E=E&&E.replace(/.*(?=#[^\s]*$)/,"")),!P.parent("li").hasClass("active")){var S=I.find(".active:last a")[0],s=C.Event("show.bs.tab",{relatedTarget:S});if(P.trigger(s),!s.isDefaultPrevented()){var u=C(E);this.activate(P.parent("li"),I),this.activate(u,u.parent(),function(){P.trigger({type:"shown.bs.tab",relatedTarget:S})})}}},w.prototype.activate=function(P,I,E){function S(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),P.addClass("active"),u?(P[0].offsetWidth,P.addClass("in")):P.removeClass("fade"),P.parent(".dropdown-menu")&&P.closest("li.dropdown").addClass("active"),E&&E()}var s=I.find("> .active"),u=E&&C.support.transition&&s.hasClass("fade");u?s.one(C.support.transition.end,S).emulateTransitionEnd(150):S(),s.removeClass("in")};var ve=C.fn.tab;C.fn.tab=function(P){return this.each(function(){var I=C(this),E=I.data("bs.tab");E||I.data("bs.tab",E=new w(this)),typeof P=="string"&&E[P]()})},C.fn.tab.Constructor=w,C.fn.tab.noConflict=function(){return C.fn.tab=ve,this},C(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(P){P.preventDefault(),C(this).tab("show")})}(jQuery),+function(C){"use strict";var w=function(P,I){this.options=C.extend({},w.DEFAULTS,I),this.$window=C(window).on("scroll.bs.affix.data-api",C.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",C.proxy(this.checkPositionWithEventLoop,this)),this.$element=C(P),this.affixed=this.unpin=null,this.checkPosition()};w.RESET="affix affix-top affix-bottom",w.DEFAULTS={offset:0},w.prototype.checkPositionWithEventLoop=function(){setTimeout(C.proxy(this.checkPosition,this),1)},w.prototype.checkPosition=function(){if(this.$element.is(":visible")){var P=C(document).height(),I=this.$window.scrollTop(),E=this.$element.offset(),S=this.options.offset,s=S.top,u=S.bottom;typeof S!="object"&&(u=s=S),typeof s=="function"&&(s=S.top()),typeof u=="function"&&(u=S.bottom());var p=this.unpin!=null&&I+this.unpin<=E.top?!1:u!=null&&E.top+this.$element.height()>=P-u?"bottom":s!=null&&s>=I?"top":!1;this.affixed!==p&&(this.unpin&&this.$element.css("top",""),this.affixed=p,this.unpin=p=="bottom"?E.top-I:null,this.$element.removeClass(w.RESET).addClass("affix"+(p?"-"+p:"")),p=="bottom"&&this.$element.offset({top:document.body.offsetHeight-u-this.$element.height()}))}};var ve=C.fn.affix;C.fn.affix=function(P){return this.each(function(){var I=C(this),E=I.data("bs.affix"),S=typeof P=="object"&&P;E||I.data("bs.affix",E=new w(this,S)),typeof P=="string"&&E[P]()})},C.fn.affix.Constructor=w,C.fn.affix.noConflict=function(){return C.fn.affix=ve,this},C(window).on("load",function(){C('[data-spy="affix"]').each(function(){var P=C(this),I=P.data();I.offset=I.offset||{},I.offsetBottom&&(I.offset.bottom=I.offsetBottom),I.offsetTop&&(I.offset.top=I.offsetTop),P.affix(I)})})}(jQuery);/*! Editor.md v1.5.0 | editormd.min.js | Open source online markdown editor. | MIT License | By: Pandao | https://github.com/pandao/editor.md | 2015-06-09 */(function(C){"use strict";typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?module.exports=C:typeof define=="function"?define.amd||define(["jquery"],C):window.editormd=C()})(function(){"use strict";var C=typeof jQuery<"u"?jQuery:Zepto;if(typeof C<"u"){var w=function(s,u){return new w.fn.init(s,u)};w.title=w.$name="Editor.md",w.version="1.5.0",w.homePage="https://pandao.github.io/editor.md/",w.classPrefix="editormd-",w.toolbarModes={full:["undo","redo","|","bold","del","italic","quote","ucwords","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","code","preformatted-text","code-block","table","datetime","emoji","html-entities","pagebreak","|","goto-line","watch","preview","fullscreen","clear","search","|","help","info"],simple:["undo","redo","|","bold","del","italic","quote","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","watch","preview","fullscreen","|","help","info"],mini:["undo","redo","|","watch","preview","|","help","info"]},w.defaults={mode:"gfm",name:"",value:"",theme:"",editorTheme:"default",previewTheme:"",markdown:"",appendMarkdown:"",width:"100%",height:"100%",path:"./lib/",pluginPath:"",delay:300,autoLoadModules:!0,watch:!0,placeholder:"Enjoy Markdown! coding now...",gotoLine:!0,codeFold:!1,autoHeight:!1,autoFocus:!0,autoCloseTags:!0,searchReplace:!0,syncScrolling:!0,readOnly:!1,tabSize:4,indentUnit:4,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,showTrailingSpace:!0,matchBrackets:!0,indentWithTabs:!0,styleSelectedText:!0,matchWordHighlight:!0,styleActiveLine:!0,dialogLockScreen:!0,dialogShowMask:!0,dialogDraggable:!0,dialogMaskBgColor:"#fff",dialogMaskOpacity:.1,fontSize:"13px",saveHTMLToTextarea:!1,disabledKeyMaps:[],onload:function(){},onresize:function(){},onchange:function(){},onwatch:null,onunwatch:null,onpreviewing:function(){},onpreviewed:function(){},onfullscreen:function(){},onfullscreenExit:function(){},onscroll:function(){},onpreviewscroll:function(){},imageUpload:!1,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:"",crossDomainUpload:!1,uploadCallbackURL:"",toc:!0,tocm:!1,tocTitle:"",tocDropdown:!1,tocContainer:"",tocStartLevel:1,htmlDecode:!1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,toolbar:!0,toolbarAutoFixed:!0,toolbarIcons:"full",toolbarTitles:{},toolbarHandlers:{ucwords:function(){return w.toolbarHandlers.ucwords},lowercase:function(){return w.toolbarHandlers.lowercase}},toolbarCustomIcons:{lowercase:'<a href="javascript:;" title="Lowercase" unselectable="on"><i class="fa" name="lowercase" style="font-size:24px;margin-top: -10px;">a</i></a>',ucwords:'<a href="javascript:;" title="ucwords" unselectable="on"><i class="fa" name="ucwords" style="font-size:20px;margin-top: -3px;">Aa</i></a>'},toolbarIconsClass:{undo:"fa-undo",redo:"fa-repeat",bold:"fa-bold",del:"fa-strikethrough",italic:"fa-italic",quote:"fa-quote-left",uppercase:"fa-font",h1:w.classPrefix+"bold",h2:w.classPrefix+"bold",h3:w.classPrefix+"bold",h4:w.classPrefix+"bold",h5:w.classPrefix+"bold",h6:w.classPrefix+"bold","list-ul":"fa-list-ul","list-ol":"fa-list-ol",hr:"fa-minus",link:"fa-link","reference-link":"fa-anchor",image:"fa-picture-o",code:"fa-code","preformatted-text":"fa-file-code-o","code-block":"fa-file-code-o",table:"fa-table",datetime:"fa-clock-o",emoji:"fa-smile-o","html-entities":"fa-copyright",pagebreak:"fa-newspaper-o","goto-line":"fa-terminal",watch:"fa-eye-slash",unwatch:"fa-eye",preview:"fa-desktop",search:"fa-search",fullscreen:"fa-arrows-alt",clear:"fa-eraser",help:"fa-question-circle",info:"fa-info-circle"},toolbarIconTexts:{},lang:{name:"zh-cn",description:"\u5F00\u6E90\u5728\u7EBFMarkdown\u7F16\u8F91\u5668<br/>Open source online Markdown editor.",tocTitle:"\u76EE\u5F55",toolbar:{undo:"\u64A4\u9500\uFF08Ctrl+Z\uFF09",redo:"\u91CD\u505A\uFF08Ctrl+Y\uFF09",bold:"\u7C97\u4F53",del:"\u5220\u9664\u7EBF",italic:"\u659C\u4F53",quote:"\u5F15\u7528",ucwords:"\u5C06\u6BCF\u4E2A\u5355\u8BCD\u9996\u5B57\u6BCD\u8F6C\u6210\u5927\u5199",uppercase:"\u5C06\u6240\u9009\u8F6C\u6362\u6210\u5927\u5199",lowercase:"\u5C06\u6240\u9009\u8F6C\u6362\u6210\u5C0F\u5199",h1:"\u6807\u98981",h2:"\u6807\u98982",h3:"\u6807\u98983",h4:"\u6807\u98984",h5:"\u6807\u98985",h6:"\u6807\u98986","list-ul":"\u65E0\u5E8F\u5217\u8868","list-ol":"\u6709\u5E8F\u5217\u8868",hr:"\u6A2A\u7EBF",link:"\u94FE\u63A5","reference-link":"\u5F15\u7528\u94FE\u63A5",image:"\u6DFB\u52A0\u56FE\u7247",code:"\u884C\u5185\u4EE3\u7801","preformatted-text":"\u9884\u683C\u5F0F\u6587\u672C / \u4EE3\u7801\u5757\uFF08\u7F29\u8FDB\u98CE\u683C\uFF09","code-block":"\u4EE3\u7801\u5757\uFF08\u591A\u8BED\u8A00\u98CE\u683C\uFF09",table:"\u6DFB\u52A0\u8868\u683C",datetime:"\u65E5\u671F\u65F6\u95F4",emoji:"Emoji\u8868\u60C5","html-entities":"HTML\u5B9E\u4F53\u5B57\u7B26",pagebreak:"\u63D2\u5165\u5206\u9875\u7B26","goto-line":"\u8DF3\u8F6C\u5230\u884C",watch:"\u5173\u95ED\u5B9E\u65F6\u9884\u89C8",unwatch:"\u5F00\u542F\u5B9E\u65F6\u9884\u89C8",preview:"\u5168\u7A97\u53E3\u9884\u89C8HTML\uFF08\u6309 Shift + ESC\u8FD8\u539F\uFF09",fullscreen:"\u5168\u5C4F\uFF08\u6309ESC\u8FD8\u539F\uFF09",clear:"\u6E05\u7A7A",search:"\u641C\u7D22",help:"\u4F7F\u7528\u5E2E\u52A9",info:"\u5173\u4E8E"+w.title},buttons:{enter:"\u786E\u5B9A",cancel:"\u53D6\u6D88",close:"\u5173\u95ED"},dialog:{link:{title:"\u6DFB\u52A0\u94FE\u63A5",url:"\u94FE\u63A5\u5730\u5740",urlTitle:"\u94FE\u63A5\u6807\u9898",urlEmpty:"\u9519\u8BEF\uFF1A\u8BF7\u586B\u5199\u94FE\u63A5\u5730\u5740\u3002"},referenceLink:{title:"\u6DFB\u52A0\u5F15\u7528\u94FE\u63A5",name:"\u5F15\u7528\u540D\u79F0",url:"\u94FE\u63A5\u5730\u5740",urlId:"\u94FE\u63A5ID",urlTitle:"\u94FE\u63A5\u6807\u9898",nameEmpty:"\u9519\u8BEF\uFF1A\u5F15\u7528\u94FE\u63A5\u7684\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u3002",idEmpty:"\u9519\u8BEF\uFF1A\u8BF7\u586B\u5199\u5F15\u7528\u94FE\u63A5\u7684ID\u3002",urlEmpty:"\u9519\u8BEF\uFF1A\u8BF7\u586B\u5199\u5F15\u7528\u94FE\u63A5\u7684URL\u5730\u5740\u3002"},image:{title:"\u6DFB\u52A0\u56FE\u7247",url:"\u56FE\u7247\u5730\u5740",link:"\u56FE\u7247\u94FE\u63A5",alt:"\u56FE\u7247\u63CF\u8FF0",uploadButton:"\u672C\u5730\u4E0A\u4F20",imageURLEmpty:"\u9519\u8BEF\uFF1A\u56FE\u7247\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A\u3002",uploadFileEmpty:"\u9519\u8BEF\uFF1A\u4E0A\u4F20\u7684\u56FE\u7247\u4E0D\u80FD\u4E3A\u7A7A\u3002",formatNotAllowed:"\u9519\u8BEF\uFF1A\u53EA\u5141\u8BB8\u4E0A\u4F20\u56FE\u7247\u6587\u4EF6\uFF0C\u5141\u8BB8\u4E0A\u4F20\u7684\u56FE\u7247\u6587\u4EF6\u683C\u5F0F\u6709\uFF1A"},preformattedText:{title:"\u6DFB\u52A0\u9884\u683C\u5F0F\u6587\u672C\u6216\u4EE3\u7801\u5757",emptyAlert:"\u9519\u8BEF\uFF1A\u8BF7\u586B\u5199\u9884\u683C\u5F0F\u6587\u672C\u6216\u4EE3\u7801\u7684\u5185\u5BB9\u3002"},codeBlock:{title:"\u6DFB\u52A0\u4EE3\u7801\u5757",selectLabel:"\u4EE3\u7801\u8BED\u8A00\uFF1A",selectDefaultText:"\u8BF7\u9009\u62E9\u4EE3\u7801\u8BED\u8A00",otherLanguage:"\u5176\u4ED6\u8BED\u8A00",unselectedLanguageAlert:"\u9519\u8BEF\uFF1A\u8BF7\u9009\u62E9\u4EE3\u7801\u6240\u5C5E\u7684\u8BED\u8A00\u7C7B\u578B\u3002",codeEmptyAlert:"\u9519\u8BEF\uFF1A\u8BF7\u586B\u5199\u4EE3\u7801\u5185\u5BB9\u3002"},htmlEntities:{title:"HTML \u5B9E\u4F53\u5B57\u7B26"},help:{title:"\u4F7F\u7528\u5E2E\u52A9"}}}},w.classNames={tex:w.classPrefix+"tex"},w.dialogZindex=99999,w.$katex=null,w.$marked=null,w.$CodeMirror=null,w.$prettyPrint=null;var ve,P;w.prototype=w.fn={state:{watching:!1,loaded:!1,preview:!1,fullscreen:!1},init:function(s,u){u=u||{},typeof s=="object"&&(u=s);var p=this.classPrefix=w.classPrefix,v=this.settings=C.extend(!0,w.defaults,u);s=typeof s=="object"?v.id:s;var h=this.editor=C("#"+s);this.id=s,this.lang=v.lang;var y=this.classNames={textarea:{html:p+"html-textarea",markdown:p+"markdown-textarea"}};v.pluginPath=v.pluginPath===""?v.path+"../plugins/":v.pluginPath,this.state.watching=!!v.watch,h.hasClass("editormd")||h.addClass("editormd"),h.css({width:typeof v.width=="number"?v.width+"px":v.width,height:typeof v.height=="number"?v.height+"px":v.height}),v.autoHeight&&h.css("height","auto");var b=this.markdownTextarea=h.children("textarea");b.length<1&&(h.append("<textarea></textarea>"),b=this.markdownTextarea=h.children("textarea")),b.addClass(y.textarea.markdown).attr("placeholder",v.placeholder),(typeof b.attr("name")>"u"||b.attr("name")==="")&&b.attr("name",v.name!==""?v.name:s+"-markdown-doc");var A=[v.readOnly?"":'<a href="javascript:;" class="fa fa-close '+p+'preview-close-btn"></a>',v.saveHTMLToTextarea?'<textarea class="'+y.textarea.html+'" name="'+s+'-html-code"></textarea>':"",'<div class="'+p+'preview"><div class="markdown-body '+p+'preview-container"></div></div>','<div class="'+p+'container-mask" style="display:block;"></div>','<div class="'+p+'mask"></div>'].join(`
`);return h.append(A).addClass(p+"vertical"),v.theme!==""&&h.addClass(p+"theme-"+v.theme),this.mask=h.children("."+p+"mask"),this.containerMask=h.children("."+p+"container-mask"),v.markdown!==""&&b.val(v.markdown),v.appendMarkdown!==""&&b.val(b.val()+v.appendMarkdown),this.htmlTextarea=h.children("."+y.textarea.html),this.preview=h.children("."+p+"preview"),this.previewContainer=this.preview.children("."+p+"preview-container"),v.previewTheme!==""&&this.preview.addClass(p+"preview-theme-"+v.previewTheme),typeof define=="function"&&define.amd&&(typeof katex<"u"&&(w.$katex=katex),v.searchReplace&&!v.readOnly&&(w.loadCSS(v.path+"codemirror/addon/dialog/dialog"),w.loadCSS(v.path+"codemirror/addon/search/matchesonscrollbar"))),typeof define=="function"&&define.amd||!v.autoLoadModules?(typeof CodeMirror<"u"&&(w.$CodeMirror=CodeMirror),typeof marked<"u"&&(w.$marked=marked),this.setCodeMirror().setToolbar().loadedDisplay()):this.loadQueues(),this},loadQueues:function(){var s=this,u=this.settings,p=u.path,v=function(){return w.isIE8?void s.loadedDisplay():void(u.flowChart||u.sequenceDiagram?w.loadScript(p+"raphael.min",function(){w.loadScript(p+"underscore.min",function(){!u.flowChart&&u.sequenceDiagram?w.loadScript(p+"sequence-diagram.min",function(){s.loadedDisplay()}):u.flowChart&&!u.sequenceDiagram?w.loadScript(p+"flowchart.min",function(){w.loadScript(p+"jquery.flowchart.min",function(){s.loadedDisplay()})}):u.flowChart&&u.sequenceDiagram&&w.loadScript(p+"flowchart.min",function(){w.loadScript(p+"jquery.flowchart.min",function(){w.loadScript(p+"sequence-diagram.min",function(){s.loadedDisplay()})})})})}):s.loadedDisplay())};return w.loadCSS(p+"codemirror/codemirror.min"),u.searchReplace&&!u.readOnly&&(w.loadCSS(p+"codemirror/addon/dialog/dialog"),w.loadCSS(p+"codemirror/addon/search/matchesonscrollbar")),u.codeFold&&w.loadCSS(p+"codemirror/addon/fold/foldgutter"),w.loadScript(p+"codemirror/codemirror.min",function(){w.$CodeMirror=CodeMirror,w.loadScript(p+"codemirror/modes.min",function(){w.loadScript(p+"codemirror/addons.min",function(){return s.setCodeMirror(),u.mode!=="gfm"&&u.mode!=="markdown"?(s.loadedDisplay(),!1):(s.setToolbar(),void w.loadScript(p+"marked.min",function(){w.$marked=marked,u.previewCodeHighlight?w.loadScript(p+"prettify.min",function(){v()}):v()}))})})}),this},setTheme:function(s){var u=this.editor,p=this.settings.theme,v=this.classPrefix+"theme-";return u.removeClass(v+p).addClass(v+s),this.settings.theme=s,this},setEditorTheme:function(s){var u=this.settings;return u.editorTheme=s,s!=="default"&&w.loadCSS(u.path+"codemirror/theme/"+u.editorTheme),this.cm.setOption("theme",s),this},setCodeMirrorTheme:function(s){return this.setEditorTheme(s),this},setPreviewTheme:function(s){var u=this.preview,p=this.settings.previewTheme,v=this.classPrefix+"preview-theme-";return u.removeClass(v+p).addClass(v+s),this.settings.previewTheme=s,this},setCodeMirror:function(){var s=this.settings,u=this.editor;s.editorTheme!=="default"&&w.loadCSS(s.path+"codemirror/theme/"+s.editorTheme);var p={mode:s.mode,theme:s.editorTheme,tabSize:s.tabSize,dragDrop:!1,autofocus:s.autoFocus,autoCloseTags:s.autoCloseTags,readOnly:s.readOnly?"nocursor":!1,indentUnit:s.indentUnit,lineNumbers:s.lineNumbers,lineWrapping:s.lineWrapping,extraKeys:{"Ctrl-Q":function(v){v.foldCode(v.getCursor())}},foldGutter:s.codeFold,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:s.matchBrackets,indentWithTabs:s.indentWithTabs,styleActiveLine:s.styleActiveLine,styleSelectedText:s.styleSelectedText,autoCloseBrackets:s.autoCloseBrackets,showTrailingSpace:s.showTrailingSpace,highlightSelectionMatches:s.matchWordHighlight?{showToken:s.matchWordHighlight==="onselected"?!1:/\w/}:!1};return this.codeEditor=this.cm=w.$CodeMirror.fromTextArea(this.markdownTextarea[0],p),this.codeMirror=this.cmElement=u.children(".CodeMirror"),s.value!==""&&this.cm.setValue(s.value),this.codeMirror.css({fontSize:s.fontSize,width:s.watch?"50%":"100%"}),s.autoHeight&&(this.codeMirror.css("height","auto"),this.cm.setOption("viewportMargin",1/0)),s.lineNumbers||this.codeMirror.find(".CodeMirror-gutters").css("border-right","none"),this},getCodeMirrorOption:function(s){return this.cm.getOption(s)},setCodeMirrorOption:function(s,u){return this.cm.setOption(s,u),this},addKeyMap:function(s,u){return this.cm.addKeyMap(s,u),this},removeKeyMap:function(s){return this.cm.removeKeyMap(s),this},gotoLine:function(s){var u=this.settings;if(!u.gotoLine)return this;var p=this.cm,v=(this.editor,p.lineCount()),h=this.preview;if(typeof s=="string"&&(s==="last"&&(s=v),s==="first"&&(s=1)),typeof s!="number")return alert("Error: The line number must be an integer."),this;if(s=parseInt(s)-1,s>v)return alert("Error: The line number range 1-"+v),this;p.setCursor({line:s,ch:0});var y=p.getScrollInfo(),b=y.clientHeight,A=p.charCoords({line:s,ch:0},"local");if(p.scrollTo(null,(A.top+A.bottom-b)/2),u.watch){var B=this.codeMirror.find(".CodeMirror-scroll")[0],j=C(B).height(),O=B.scrollTop,M=O/B.scrollHeight;h.scrollTop(O===0?0:O+j>=B.scrollHeight-16?h[0].scrollHeight:h[0].scrollHeight*M)}return p.focus(),this},extend:function(){return typeof arguments[1]<"u"&&(typeof arguments[1]=="function"&&(arguments[1]=C.proxy(arguments[1],this)),this[arguments[0]]=arguments[1]),typeof arguments[0]=="object"&&typeof arguments[0].length>"u"&&C.extend(!0,this,arguments[0]),this},set:function(s,u){return typeof u<"u"&&typeof u=="function"&&(u=C.proxy(u,this)),this[s]=u,this},config:function(s,u){var p=this.settings;return typeof s=="object"&&(p=C.extend(!0,p,s)),typeof s=="string"&&(p[s]=u),this.settings=p,this.recreate(),this},on:function(s,u){var p=this.settings;return typeof p["on"+s]<"u"&&(p["on"+s]=C.proxy(u,this)),this},off:function(s){var u=this.settings;return typeof u["on"+s]<"u"&&(u["on"+s]=function(){}),this},showToolbar:function(s){var u=this.settings;return u.readOnly?this:(u.toolbar&&(this.toolbar.length<1||this.toolbar.find("."+this.classPrefix+"menu").html()==="")&&this.setToolbar(),u.toolbar=!0,this.toolbar.show(),this.resize(),C.proxy(s||function(){},this)(),this)},hideToolbar:function(s){var u=this.settings;return u.toolbar=!1,this.toolbar.hide(),this.resize(),C.proxy(s||function(){},this)(),this},setToolbarAutoFixed:function(s){var u=this.state,p=this.editor,v=this.toolbar,h=this.settings;typeof s<"u"&&(h.toolbarAutoFixed=s);var y=function(){var b=C(window),A=b.scrollTop();return h.toolbarAutoFixed?void v.css(A-p.offset().top>10&&A<p.height()?{position:"fixed",width:p.width()+"px",left:(b.width()-p.width())/2+"px"}:{position:"absolute",width:"100%",left:0}):!1};return!u.fullscreen&&!u.preview&&h.toolbar&&h.toolbarAutoFixed&&C(window).bind("scroll",y),this},setToolbar:function(){var s=this.settings;if(s.readOnly)return this;var u=this.editor,p=(this.preview,this.classPrefix),v=this.toolbar=u.children("."+p+"toolbar");if(s.toolbar&&v.length<1){var h='<div class="'+p+'toolbar"><div class="'+p+'toolbar-container"><ul class="'+p+'menu"></ul></div></div>';u.append(h),v=this.toolbar=u.children("."+p+"toolbar")}if(!s.toolbar)return v.hide(),this;v.show();for(var y=typeof s.toolbarIcons=="function"?s.toolbarIcons():typeof s.toolbarIcons=="string"?w.toolbarModes[s.toolbarIcons]:s.toolbarIcons,b=v.find("."+this.classPrefix+"menu"),A="",B=!1,j=0,O=y.length;O>j;j++){var M=y[j];if(M==="||")B=!0;else if(M==="|")A+='<li class="divider" unselectable="on">|</li>';else{var o=/h(\d)/.test(M),k=M;M!=="watch"||s.watch||(k="unwatch");var J=s.lang.toolbar[k],V=s.toolbarIconTexts[k],Q=s.toolbarIconsClass[k];J=typeof J>"u"?"":J,V=typeof V>"u"?"":V,Q=typeof Q>"u"?"":Q;var W=B?'<li class="pull-right">':"<li>";typeof s.toolbarCustomIcons[M]<"u"&&typeof s.toolbarCustomIcons[M]!="function"?W+=s.toolbarCustomIcons[M]:(W+='<a href="javascript:;" title="'+J+'" unselectable="on">',W+='<i class="fa '+Q+'" name="'+M+'" unselectable="on">'+(o?M.toUpperCase():Q===""?V:"")+"</i>",W+="</a>"),W+="</li>",A=B?W+A:A+W}}return b.html(A),b.find('[title="Lowercase"]').attr("title",s.lang.toolbar.lowercase),b.find('[title="ucwords"]').attr("title",s.lang.toolbar.ucwords),this.setToolbarHandler(),this.setToolbarAutoFixed(),this},dialogLockScreen:function(){return C.proxy(w.dialogLockScreen,this)(),this},dialogShowMask:function(s){return C.proxy(w.dialogShowMask,this)(s),this},getToolbarHandles:function(s){var u=this.toolbarHandlers=w.toolbarHandlers;return s&&typeof toolbarIconHandlers[s]<"u"?u[s]:u},setToolbarHandler:function(){var s=this,u=this.settings;if(!u.toolbar||u.readOnly)return this;var p=this.toolbar,v=this.cm,h=this.classPrefix,y=this.toolbarIcons=p.find("."+h+"menu > li > a"),b=this.getToolbarHandles();return y.bind(w.mouseOrTouch("click","touchend"),function(A){var B=C(this).children(".fa"),j=B.attr("name"),O=v.getCursor(),M=v.getSelection();return j!==""?(s.activeIcon=B,typeof b[j]<"u"?C.proxy(b[j],s)(v):typeof u.toolbarHandlers[j]<"u"&&C.proxy(u.toolbarHandlers[j],s)(v,B,O,M),j!=="link"&&j!=="reference-link"&&j!=="image"&&j!=="code-block"&&j!=="preformatted-text"&&j!=="watch"&&j!=="preview"&&j!=="search"&&j!=="fullscreen"&&j!=="info"&&v.focus(),!1):void 0}),this},createDialog:function(s){return C.proxy(w.createDialog,this)(s)},createInfoDialog:function(){var s=this,u=this.editor,p=this.classPrefix,v=['<div class="'+p+"dialog "+p+'dialog-info" style="">','<div class="'+p+'dialog-container">','<h1><i class="editormd-logo editormd-logo-lg editormd-logo-color"></i> '+w.title+"<small>v"+w.version+"</small></h1>","<p>"+this.lang.description+"</p>",'<p style="margin: 10px 0 20px 0;"><a href="'+w.homePage+'" target="_blank">'+w.homePage+' <i class="fa fa-external-link"></i></a></p>','<p style="font-size: 0.85em;">Copyright &copy; 2015 <a href="https://github.com/pandao" target="_blank" class="hover-link">Pandao</a>, The <a href="https://github.com/pandao/editor.md/blob/master/LICENSE" target="_blank" class="hover-link">MIT</a> License.</p>',"</div>",'<a href="javascript:;" class="fa fa-close '+p+'dialog-close"></a>',"</div>"].join(`
`);u.append(v);var h=this.infoDialog=u.children("."+p+"dialog-info");return h.find("."+p+"dialog-close").bind(w.mouseOrTouch("click","touchend"),function(){s.hideInfoDialog()}),h.css("border",w.isIE8?"1px solid #ddd":"").css("z-index",w.dialogZindex).show(),this.infoDialogPosition(),this},infoDialogPosition:function(){var s=this.infoDialog,u=function(){s.css({top:(C(window).height()-s.height())/2+"px",left:(C(window).width()-s.width())/2+"px"})};return u(),C(window).resize(u),this},showInfoDialog:function(){C("html,body").css("overflow-x","hidden");var s=this.editor,u=this.settings,p=this.infoDialog=s.children("."+this.classPrefix+"dialog-info");return p.length<1&&this.createInfoDialog(),this.lockScreen(!0),this.mask.css({opacity:u.dialogMaskOpacity,backgroundColor:u.dialogMaskBgColor}).show(),p.css("z-index",w.dialogZindex).show(),this.infoDialogPosition(),this},hideInfoDialog:function(){return C("html,body").css("overflow-x",""),this.infoDialog.hide(),this.mask.hide(),this.lockScreen(!1),this},lockScreen:function(s){return w.lockScreen(s),this.resize(),this},recreate:function(){var s=this.editor,u=this.settings;return this.codeMirror.remove(),this.setCodeMirror(),u.readOnly||(s.find(".editormd-dialog").length>0&&s.find(".editormd-dialog").remove(),u.toolbar&&(this.getToolbarHandles(),this.setToolbar())),this.loadedDisplay(!0),this},previewCodeHighlight:function(){var s=this.settings,u=this.previewContainer;return s.previewCodeHighlight&&(u.find("pre").addClass("prettyprint linenums"),typeof prettyPrint<"u"&&prettyPrint()),this},katexRender:function(){return ve===null?this:(this.previewContainer.find("."+w.classNames.tex).each(function(){var s=C(this);w.$katex.render(s.text(),s[0]),s.find(".katex").css("font-size","1.6em")}),this)},flowChartAndSequenceDiagramRender:function(){var s=this,u=this.settings,p=this.previewContainer;if(w.isIE8)return this;if(u.flowChart){if(P===null)return this;p.find(".flowchart").flowChart()}u.sequenceDiagram&&p.find(".sequence-diagram").sequenceDiagram({theme:"simple"});var v=s.preview,h=s.codeMirror,y=h.find(".CodeMirror-scroll"),b=y.height(),A=y.scrollTop(),B=A/y[0].scrollHeight,j=0;v.find(".markdown-toc-list").each(function(){j+=C(this).height()});var O=v.find(".editormd-toc-menu").height();return O=O||0,v.scrollTop(A===0?0:A+b>=y[0].scrollHeight-16?v[0].scrollHeight:(v[0].scrollHeight+j+O)*B),this},registerKeyMaps:function(s){var u=this,p=this.cm,v=this.settings,h=w.toolbarHandlers,y=v.disabledKeyMaps;if(s=s||null){for(var b in s)if(C.inArray(b,y)<0){var A={};A[b]=s[b],p.addKeyMap(s)}}else{for(var B in w.keyMaps){var j=w.keyMaps[B],O=typeof j=="string"?C.proxy(h[j],u):C.proxy(j,u);if(C.inArray(B,["F9","F10","F11"])<0&&C.inArray(B,y)<0){var M={};M[B]=O,p.addKeyMap(M)}}C(window).keydown(function(o){var k={120:"F9",121:"F10",122:"F11"};if(C.inArray(k[o.keyCode],y)<0)switch(o.keyCode){case 120:return C.proxy(h.watch,u)(),!1;case 121:return C.proxy(h.preview,u)(),!1;case 122:return C.proxy(h.fullscreen,u)(),!1}})}return this},bindScrollEvent:function(){var s=this,u=this.preview,p=this.settings,v=this.codeMirror,h=w.mouseOrTouch;if(!p.syncScrolling)return this;var y=function(){v.find(".CodeMirror-scroll").bind(h("scroll","touchmove"),function(j){var O=C(this).height(),M=C(this).scrollTop(),o=M/C(this)[0].scrollHeight,k=0;u.find(".markdown-toc-list").each(function(){k+=C(this).height()});var J=u.find(".editormd-toc-menu").height();J=J||0,u.scrollTop(M===0?0:M+O>=C(this)[0].scrollHeight-16?u[0].scrollHeight:(u[0].scrollHeight+k+J)*o),C.proxy(p.onscroll,s)(j)})},b=function(){v.find(".CodeMirror-scroll").unbind(h("scroll","touchmove"))},A=function(){u.bind(h("scroll","touchmove"),function(j){var O=C(this).height(),M=C(this).scrollTop(),o=M/C(this)[0].scrollHeight,k=v.find(".CodeMirror-scroll");k.scrollTop(M===0?0:M+O>=C(this)[0].scrollHeight?k[0].scrollHeight:k[0].scrollHeight*o),C.proxy(p.onpreviewscroll,s)(j)})},B=function(){u.unbind(h("scroll","touchmove"))};return v.bind({mouseover:y,mouseout:b,touchstart:y,touchend:b}),p.syncScrolling==="single"?this:(u.bind({mouseover:A,mouseout:B,touchstart:A,touchend:B}),this)},bindChangeEvent:function(){var s=this,u=this.cm,p=this.settings;return p.syncScrolling?(u.on("change",function(v,h){p.watch&&s.previewContainer.css("padding",p.autoHeight?"20px 20px 50px 40px":"20px"),ve=setTimeout(function(){clearTimeout(ve),s.save(),ve=null},p.delay)}),this):this},loadedDisplay:function(s){s=s||!1;var u=this,p=this.editor,v=this.preview,h=this.settings;return this.containerMask.hide(),this.save(),h.watch&&v.show(),p.data("oldWidth",p.width()).data("oldHeight",p.height()),this.resize(),this.registerKeyMaps(),C(window).resize(function(){u.resize()}),this.bindScrollEvent().bindChangeEvent(),s||C.proxy(h.onload,this)(),this.state.loaded=!0,this},width:function(s){return this.editor.css("width",typeof s=="number"?s+"px":s),this.resize(),this},height:function(s){return this.editor.css("height",typeof s=="number"?s+"px":s),this.resize(),this},resize:function(s,u){s=s||null,u=u||null;var p=this.state,v=this.editor,h=this.preview,y=this.toolbar,b=this.settings,A=this.codeMirror;if(s&&v.css("width",typeof s=="number"?s+"px":s),!b.autoHeight||p.fullscreen||p.preview?(u&&v.css("height",typeof u=="number"?u+"px":u),p.fullscreen&&v.height(C(window).height()),b.toolbar&&!b.readOnly?A.css("margin-top",y.height()+1).height(v.height()-y.height()):A.css("margin-top",0).height(v.height())):(v.css("height","auto"),A.css("height","auto")),b.watch)if(A.width(v.width()/2),h.width(p.preview?v.width():v.width()/2),this.previewContainer.css("padding",b.autoHeight?"20px 20px 50px 40px":"20px"),b.toolbar&&!b.readOnly?h.css("top",y.height()+1):h.css("top",0),!b.autoHeight||p.fullscreen||p.preview){var B=b.toolbar&&!b.readOnly?v.height()-y.height():v.height();h.height(B)}else h.height("");else A.width(v.width()),h.hide();return p.loaded&&C.proxy(b.onresize,this)(),this},save:function(){if(ve===null)return this;var s=this,u=this.state,p=this.settings,v=this.cm,h=v.getValue(),y=this.previewContainer;if(p.mode!=="gfm"&&p.mode!=="markdown")return this.markdownTextarea.val(h),this;var b=w.$marked,A=this.markdownToC=[],B=this.markedRendererOptions={toc:p.toc,tocm:p.tocm,tocStartLevel:p.tocStartLevel,pageBreak:p.pageBreak,taskList:p.taskList,emoji:p.emoji,tex:p.tex,atLink:p.atLink,emailLink:p.emailLink,flowChart:p.flowChart,sequenceDiagram:p.sequenceDiagram,previewCodeHighlight:p.previewCodeHighlight},j=this.markedOptions={renderer:w.markedRenderer(A,B),gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!p.htmlDecode,smartLists:!0,smartypants:!0};b.setOptions(j);var O=w.$marked(h,j);if(O=w.filterHTMLTags(O,p.htmlDecode),this.markdownTextarea.text(h),v.save(),p.saveHTMLToTextarea&&this.htmlTextarea.text(O),p.watch||!p.watch&&u.preview){if(y.html(O),this.previewCodeHighlight(),p.toc){var M=p.tocContainer===""?y:C(p.tocContainer),o=M.find("."+this.classPrefix+"toc-menu");M.attr("previewContainer",p.tocContainer===""?"true":"false"),p.tocContainer!==""&&o.length>0&&o.remove(),w.markdownToCRenderer(A,M,p.tocDropdown,p.tocStartLevel),(p.tocDropdown||M.find("."+this.classPrefix+"toc-menu").length>0)&&w.tocDropdownMenu(M,p.tocTitle!==""?p.tocTitle:this.lang.tocTitle),p.tocContainer!==""&&y.find(".markdown-toc").css("border","none")}p.tex&&(!w.kaTeXLoaded&&p.autoLoadModules?w.loadKaTeX(function(){w.$katex=katex,w.kaTeXLoaded=!0,s.katexRender()}):(w.$katex=katex,this.katexRender())),(p.flowChart||p.sequenceDiagram)&&(P=setTimeout(function(){clearTimeout(P),s.flowChartAndSequenceDiagramRender(),P=null},10)),u.loaded&&C.proxy(p.onchange,this)()}return this},focus:function(){return this.cm.focus(),this},setCursor:function(s){return this.cm.setCursor(s),this},getCursor:function(){return this.cm.getCursor()},setSelection:function(s,u){return this.cm.setSelection(s,u),this},getSelection:function(){return this.cm.getSelection()},setSelections:function(s){return this.cm.setSelections(s),this},getSelections:function(){return this.cm.getSelections()},replaceSelection:function(s){return this.cm.replaceSelection(s),this},insertValue:function(s){return this.replaceSelection(s),this},appendMarkdown:function(s){var u=(this.settings,this.cm);return u.setValue(u.getValue()+s),this},setMarkdown:function(s){return this.cm.setValue(s||this.settings.markdown),this},getMarkdown:function(){return this.cm.getValue()},getValue:function(){return this.cm.getValue()},setValue:function(s){return this.cm.setValue(s),this},clear:function(){return this.cm.setValue(""),this},getHTML:function(){return this.settings.saveHTMLToTextarea?this.htmlTextarea.val():(alert("Error: settings.saveHTMLToTextarea == false"),!1)},getTextareaSavedHTML:function(){return this.getHTML()},getPreviewedHTML:function(){return this.settings.watch?this.previewContainer.html():(alert("Error: settings.watch == false"),!1)},watch:function(s){var u=this.settings;if(C.inArray(u.mode,["gfm","markdown"])<0)return this;if(this.state.watching=u.watch=!0,this.preview.show(),this.toolbar){var p=u.toolbarIconsClass.watch,v=u.toolbarIconsClass.unwatch,h=this.toolbar.find(".fa[name=watch]");h.parent().attr("title",u.lang.toolbar.watch),h.removeClass(v).addClass(p)}return this.codeMirror.css("border-right","1px solid #ddd").width(this.editor.width()/2),ve=0,this.save().resize(),u.onwatch||(u.onwatch=s||function(){}),C.proxy(u.onwatch,this)(),this},unwatch:function(s){var u=this.settings;if(this.state.watching=u.watch=!1,this.preview.hide(),this.toolbar){var p=u.toolbarIconsClass.watch,v=u.toolbarIconsClass.unwatch,h=this.toolbar.find(".fa[name=watch]");h.parent().attr("title",u.lang.toolbar.unwatch),h.removeClass(p).addClass(v)}return this.codeMirror.css("border-right","none").width(this.editor.width()),this.resize(),u.onunwatch||(u.onunwatch=s||function(){}),C.proxy(u.onunwatch,this)(),this},show:function(s){s=s||function(){};var u=this;return this.editor.show(0,function(){C.proxy(s,u)()}),this},hide:function(s){s=s||function(){};var u=this;return this.editor.hide(0,function(){C.proxy(s,u)()}),this},previewing:function(){var s=this,u=this.editor,p=this.preview,v=this.toolbar,h=this.settings,y=this.codeMirror,b=this.previewContainer;if(C.inArray(h.mode,["gfm","markdown"])<0)return this;h.toolbar&&v&&(v.toggle(),v.find(".fa[name=preview]").toggleClass("active")),y.toggle();var A=function(B){B.shiftKey&&B.keyCode===27&&s.previewed()};y.css("display")==="none"?(this.state.preview=!0,this.state.fullscreen&&p.css("background","#fff"),u.find("."+this.classPrefix+"preview-close-btn").show().bind(w.mouseOrTouch("click","touchend"),function(){s.previewed()}),h.watch?b.css("padding",""):this.save(),b.addClass(this.classPrefix+"preview-active"),p.show().css({position:"",top:0,width:u.width(),height:h.autoHeight&&!this.state.fullscreen?"auto":u.height()}),this.state.loaded&&C.proxy(h.onpreviewing,this)(),C(window).bind("keyup",A)):(C(window).unbind("keyup",A),this.previewed())},previewed:function(){var s=this.editor,u=this.preview,p=this.toolbar,v=this.settings,h=this.previewContainer,y=s.find("."+this.classPrefix+"preview-close-btn");return this.state.preview=!1,this.codeMirror.show(),v.toolbar&&p.show(),u[v.watch?"show":"hide"](),y.hide().unbind(w.mouseOrTouch("click","touchend")),h.removeClass(this.classPrefix+"preview-active"),v.watch&&h.css("padding","20px"),u.css({background:null,position:"absolute",width:s.width()/2,height:v.autoHeight&&!this.state.fullscreen?"auto":s.height()-p.height(),top:v.toolbar?p.height():0}),this.state.loaded&&C.proxy(v.onpreviewed,this)(),this},fullscreen:function(){var s=this,u=this.state,p=this.editor,v=(this.preview,this.toolbar),h=this.settings,y=this.classPrefix+"fullscreen";v&&v.find(".fa[name=fullscreen]").parent().toggleClass("active");var b=function(A){A.shiftKey||A.keyCode!==27||u.fullscreen&&s.fullscreenExit()};return p.hasClass(y)?(C(window).unbind("keyup",b),this.fullscreenExit()):(u.fullscreen=!0,C("html,body").css("overflow","hidden"),p.css({width:C(window).width(),height:C(window).height()}).addClass(y),this.resize(),C.proxy(h.onfullscreen,this)(),C(window).bind("keyup",b)),this},fullscreenExit:function(){var s=this.editor,u=this.settings,p=this.toolbar,v=this.classPrefix+"fullscreen";return this.state.fullscreen=!1,p&&p.find(".fa[name=fullscreen]").parent().removeClass("active"),C("html,body").css("overflow",""),s.css({width:s.data("oldWidth"),height:s.data("oldHeight")}).removeClass(v),this.resize(),C.proxy(u.onfullscreenExit,this)(),this},executePlugin:function(s,u){var p=this,v=this.cm,h=this.settings;return u=h.pluginPath+u,typeof define=="function"?typeof this[s]>"u"?(alert("Error: "+s+" plugin is not found, you are not load this plugin."),this):(this[s](v),this):(C.inArray(u,w.loadFiles.plugin)<0?w.loadPlugin(u,function(){w.loadPlugins[s]=p[s],p[s](v)}):C.proxy(w.loadPlugins[s],this)(v),this)},search:function(s){var u=this.settings;return u.searchReplace?(u.readOnly||this.cm.execCommand(s||"find"),this):(alert("Error: settings.searchReplace == false"),this)},searchReplace:function(){return this.search("replace"),this},searchReplaceAll:function(){return this.search("replaceAll"),this}},w.fn.init.prototype=w.fn,w.dialogLockScreen=function(){var s=this.settings||{dialogLockScreen:!0};s.dialogLockScreen&&(C("html,body").css("overflow","hidden"),this.resize())},w.dialogShowMask=function(s){var u=this.editor,p=this.settings||{dialogShowMask:!0};s.css({top:(C(window).height()-s.height())/2+"px",left:(C(window).width()-s.width())/2+"px"}),p.dialogShowMask&&u.children("."+this.classPrefix+"mask").css("z-index",parseInt(s.css("z-index"))-1).show()},w.toolbarHandlers={undo:function(){this.cm.undo()},redo:function(){this.cm.redo()},bold:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection("**"+p+"**"),p===""&&s.setCursor(u.line,u.ch+2)},del:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection("~~"+p+"~~"),p===""&&s.setCursor(u.line,u.ch+2)},italic:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection("*"+p+"*"),p===""&&s.setCursor(u.line,u.ch+1)},quote:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("> "+p),s.setCursor(u.line,u.ch+2)):s.replaceSelection("> "+p)},ucfirst:function(){var s=this.cm,u=s.getSelection(),p=s.listSelections();s.replaceSelection(w.firstUpperCase(u)),s.setSelections(p)},ucwords:function(){var s=this.cm,u=s.getSelection(),p=s.listSelections();s.replaceSelection(w.wordsFirstUpperCase(u)),s.setSelections(p)},uppercase:function(){var s=this.cm,u=s.getSelection(),p=s.listSelections();s.replaceSelection(u.toUpperCase()),s.setSelections(p)},lowercase:function(){var s=this.cm,u=(s.getCursor(),s.getSelection()),p=s.listSelections();s.replaceSelection(u.toLowerCase()),s.setSelections(p)},h1:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("# "+p),s.setCursor(u.line,u.ch+2)):s.replaceSelection("# "+p)},h2:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("## "+p),s.setCursor(u.line,u.ch+3)):s.replaceSelection("## "+p)},h3:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("### "+p),s.setCursor(u.line,u.ch+4)):s.replaceSelection("### "+p)},h4:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("#### "+p),s.setCursor(u.line,u.ch+5)):s.replaceSelection("#### "+p)},h5:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("##### "+p),s.setCursor(u.line,u.ch+6)):s.replaceSelection("##### "+p)},h6:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();u.ch!==0?(s.setCursor(u.line,0),s.replaceSelection("###### "+p),s.setCursor(u.line,u.ch+7)):s.replaceSelection("###### "+p)},"list-ul":function(){var s=this.cm,u=(s.getCursor(),s.getSelection());if(u==="")s.replaceSelection("- "+u);else{for(var p=u.split(`
`),v=0,h=p.length;h>v;v++)p[v]=p[v]===""?"":"- "+p[v];s.replaceSelection(p.join(`
`))}},"list-ol":function(){var s=this.cm,u=(s.getCursor(),s.getSelection());if(u==="")s.replaceSelection("1. "+u);else{for(var p=u.split(`
`),v=0,h=p.length;h>v;v++)p[v]=p[v]===""?"":v+1+". "+p[v];s.replaceSelection(p.join(`
`))}},hr:function(){{var s=this.cm,u=s.getCursor();s.getSelection()}s.replaceSelection((u.ch!==0?`

`:`
`)+`------------

`)},tex:function(){if(!this.settings.tex)return alert("settings.tex === false"),this;var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection("$$"+p+"$$"),p===""&&s.setCursor(u.line,u.ch+2)},link:function(){this.executePlugin("linkDialog","link-dialog/link-dialog")},"reference-link":function(){this.executePlugin("referenceLinkDialog","reference-link-dialog/reference-link-dialog")},pagebreak:function(){if(!this.settings.pageBreak)return alert("settings.pageBreak === false"),this;{var s=this.cm;s.getSelection()}s.replaceSelection(`\r
[========]\r
`)},image:function(){this.executePlugin("imageDialog","image-dialog/image-dialog")},code:function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection("`"+p+"`"),p===""&&s.setCursor(u.line,u.ch+1)},"code-block":function(){this.executePlugin("codeBlockDialog","code-block-dialog/code-block-dialog")},"preformatted-text":function(){this.executePlugin("preformattedTextDialog","preformatted-text-dialog/preformatted-text-dialog")},table:function(){this.executePlugin("tableDialog","table-dialog/table-dialog")},datetime:function(){var s=this.cm,u=(s.getSelection(),this.settings.lang.name),p=w.dateFormat()+" "+w.dateFormat(u==="zh-cn"||u==="zh-tw"?"cn-week-day":"week-day");s.replaceSelection(p)},emoji:function(){this.executePlugin("emojiDialog","emoji-dialog/emoji-dialog")},"html-entities":function(){this.executePlugin("htmlEntitiesDialog","html-entities-dialog/html-entities-dialog")},"goto-line":function(){this.executePlugin("gotoLineDialog","goto-line-dialog/goto-line-dialog")},watch:function(){this[this.settings.watch?"unwatch":"watch"]()},preview:function(){this.previewing()},fullscreen:function(){this.fullscreen()},clear:function(){this.clear()},search:function(){this.search()},help:function(){this.executePlugin("helpDialog","help-dialog/help-dialog")},info:function(){this.showInfoDialog()}},w.keyMaps={"Ctrl-1":"h1","Ctrl-2":"h2","Ctrl-3":"h3","Ctrl-4":"h4","Ctrl-5":"h5","Ctrl-6":"h6","Ctrl-B":"bold","Ctrl-D":"datetime","Ctrl-E":function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();return this.settings.emoji?(s.replaceSelection(":"+p+":"),void(p===""&&s.setCursor(u.line,u.ch+1))):void alert("Error: settings.emoji == false")},"Ctrl-Alt-G":"goto-line","Ctrl-H":"hr","Ctrl-I":"italic","Ctrl-K":"code","Ctrl-L":function(){var s=this.cm,u=s.getCursor(),p=s.getSelection(),v=p===""?"":' "'+p+'"';s.replaceSelection("["+p+"]("+v+")"),p===""&&s.setCursor(u.line,u.ch+1)},"Ctrl-U":"list-ul","Shift-Ctrl-A":function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();return this.settings.atLink?(s.replaceSelection("@"+p),void(p===""&&s.setCursor(u.line,u.ch+1))):void alert("Error: settings.atLink == false")},"Shift-Ctrl-C":"code","Shift-Ctrl-Q":"quote","Shift-Ctrl-S":"del","Shift-Ctrl-K":"tex","Shift-Alt-C":function(){var s=this.cm,u=s.getCursor(),p=s.getSelection();s.replaceSelection(["```",p,"```"].join(`
`)),p===""&&s.setCursor(u.line,u.ch+3)},"Shift-Ctrl-Alt-C":"code-block","Shift-Ctrl-H":"html-entities","Shift-Alt-H":"help","Shift-Ctrl-E":"emoji","Shift-Ctrl-U":"uppercase","Shift-Alt-U":"ucwords","Shift-Ctrl-Alt-U":"ucfirst","Shift-Alt-L":"lowercase","Shift-Ctrl-I":function(){var s=this.cm,u=s.getCursor(),p=s.getSelection(),v=p===""?"":' "'+p+'"';s.replaceSelection("!["+p+"]("+v+")"),p===""&&s.setCursor(u.line,u.ch+4)},"Shift-Ctrl-Alt-I":"image","Shift-Ctrl-L":"link","Shift-Ctrl-O":"list-ol","Shift-Ctrl-P":"preformatted-text","Shift-Ctrl-T":"table","Shift-Alt-P":"pagebreak",F9:"watch",F10:"preview",F11:"fullscreen"};var I=function(s){return String.prototype.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};w.trim=I;var E=function(s){return s.toLowerCase().replace(/\b(\w)|\s(\w)/g,function(u){return u.toUpperCase()})};w.ucwords=w.wordsFirstUpperCase=E;var S=function(s){return s.toLowerCase().replace(/\b(\w)/,function(u){return u.toUpperCase()})};return w.firstUpperCase=w.ucfirst=S,w.urls={atLinkBase:"https://github.com/"},w.regexs={atLink:/@(\w+)/g,email:/(\w+)@(\w+)\.(\w+)\.?(\w+)?/g,emailLink:/(mailto:)?([\w\.\_]+)@(\w+)\.(\w+)\.?(\w+)?/g,emoji:/:([\w\+-]+):/g,emojiDatetime:/(\d{2}:\d{2}:\d{2})/g,twemoji:/:(tw-([\w]+)-?(\w+)?):/g,fontAwesome:/:(fa-([\w]+)(-(\w+)){0,}):/g,editormdLogo:/:(editormd-logo-?(\w+)?):/g,pageBreak:/^\[[=]{8,}\]$/},w.emoji={path:"http://www.emoji-cheat-sheet.com/graphics/emojis/",ext:".png"},w.twemoji={path:"http://twemoji.maxcdn.com/36x36/",ext:".png"},w.markedRenderer=function(s,u){var p={toc:!0,tocm:!1,tocStartLevel:1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1},v=C.extend(p,u||{}),h=w.$marked,y=new h.Renderer;s=s||[];var b=w.regexs,A=b.atLink,B=b.emoji,j=b.email,O=b.emailLink,M=b.twemoji,o=b.fontAwesome,k=b.editormdLogo,J=b.pageBreak;return y.emoji=function(V){V=V.replace(w.regexs.emojiDatetime,function(be){return be.replace(/:/g,"&#58;")});var Q=V.match(B);if(!Q||!v.emoji)return V;for(var W=0,le=Q.length;le>W;W++)Q[W]===":+1:"&&(Q[W]=":\\+1:"),V=V.replace(new RegExp(Q[W]),function(be,$e){var Ee=be.match(o),He=be.replace(/:/g,"");if(Ee)for(var Re=0,Je=Ee.length;Je>Re;Re++){var Ue=Ee[Re].replace(/:/g,"");return'<i class="fa '+Ue+' fa-emoji" title="'+Ue.replace("fa-","")+'"></i>'}else{var ht=be.match(k),ft=be.match(M);if(ht)for(var rt=0,K=ht.length;K>rt;rt++){var Ct=ht[rt].replace(/:/g,"");return'<i class="'+Ct+'" title="Editor.md logo ('+Ct+')"></i>'}else{if(!ft){var At=He==="+1"?"plus1":He;return At=At==="black_large_square"?"black_square":At,At=At==="moon"?"waxing_gibbous_moon":At,'<img src="'+w.emoji.path+At+w.emoji.ext+'" class="emoji" title="&#58;'+He+'&#58;" alt="&#58;'+He+'&#58;" />'}for(var ye=0,Qe=ft.length;Qe>ye;ye++){var fe=ft[ye].replace(/:/g,"").replace("tw-","");return'<img src="'+w.twemoji.path+fe+w.twemoji.ext+'" title="twemoji-'+fe+'" alt="twemoji-'+fe+'" class="emoji twemoji" />'}}}});return V},y.atLink=function(V){return A.test(V)&&(v.atLink&&(V=V.replace(j,function(Q,W,le,be){return Q.replace(/@/g,"_#_&#64;_#_")}),V=V.replace(A,function(Q,W){return'<a href="'+w.urls.atLinkBase+W+'" title="&#64;'+W+'" class="at-link">'+Q+"</a>"}).replace(/_#_&#64;_#_/g,"@")),v.emailLink&&(V=V.replace(O,function(Q,W,le,be,$e){return!W&&C.inArray($e,"jpg|jpeg|png|gif|webp|ico|icon|pdf".split("|"))<0?'<a href="mailto:'+Q+'">'+Q+"</a>":Q}))),V},y.link=function(V,Q,W){if(this.options.sanitize){try{var le=decodeURIComponent(unescape(V)).replace(/[^\w:]/g,"").toLowerCase()}catch{return""}if(le.indexOf("javascript:")===0)return""}var be='<a href="'+V+'"';return A.test(Q)||A.test(W)?(Q&&(be+=' title="'+Q.replace(/@/g,"&#64;")),be+'">'+W.replace(/@/g,"&#64;")+"</a>"):(Q&&(be+=' title="'+Q+'"'),be+=">"+W+"</a>")},y.heading=function(V,Q,W){var le=V,be=/\s*\<a\s*href\=\"(.*)\"\s*([^\>]*)\>(.*)\<\/a\>\s*/;if(be.test(V)){var $e=[];V=V.split(/\<a\s*([^\>]+)\>([^\>]*)\<\/a\>/);for(var Ee=0,He=V.length;He>Ee;Ee++)$e.push(V[Ee].replace(/\s*href\=\"(.*)\"\s*/g,""));V=$e.join(" ")}V=I(V);var Re=V.toLowerCase().replace(/[^\w]+/g,"-"),Je={text:V,level:Q,slug:Re},Ue=/^[\u4e00-\u9fa5]+$/.test(V),ht=Ue?escape(V).replace(/\%/g,""):V.toLowerCase().replace(/[^\w]+/g,"-");s.push(Je);var ft="<h"+Q+' id="h'+Q+"-"+this.options.headerPrefix+ht+'">';return ft+='<a name="'+V+'" class="reference-link"></a>',ft+='<span class="header-link octicon octicon-link"></span>',ft+=this.atLink(be?this.emoji(le):this.emoji(V)),ft+="</h"+Q+">"},y.pageBreak=function(V){return J.test(V)&&v.pageBreak&&(V='<hr style="page-break-after:always;" class="page-break editormd-page-break" />'),V},y.paragraph=function(V){var Q=/\$\$(.*)\$\$/g.test(V),W=/^\$\$(.*)\$\$$/.test(V),le=W?' class="'+w.classNames.tex+'"':"",be=v.tocm?/^(\[TOC\]|\[TOCM\])$/.test(V):/^\[TOC\]$/.test(V),$e=/^\[TOCM\]$/.test(V);V=!W&&Q?V.replace(/(\$\$([^\$]*)\$\$)+/g,function(He,Re){return'<span class="'+w.classNames.tex+'">'+Re.replace(/\$/g,"")+"</span>"}):W?V.replace(/\$/g,""):V;var Ee='<div class="markdown-toc editormd-markdown-toc">'+V+"</div>";return be?$e?'<div class="editormd-toc-menu">'+Ee+"</div><br/>":Ee:J.test(V)?this.pageBreak(V):"<p"+le+">"+this.atLink(this.emoji(V))+`</p>
`},y.code=function(V,Q,W){return Q==="seq"||Q==="sequence"?'<div class="sequence-diagram">'+V+"</div>":Q==="flow"?'<div class="flowchart">'+V+"</div>":Q==="math"||Q==="latex"||Q==="katex"?'<p class="'+w.classNames.tex+'">'+V+"</p>":h.Renderer.prototype.code.apply(this,arguments)},y.tablecell=function(V,Q){var W=Q.header?"th":"td",le=Q.align?"<"+W+' style="text-align:'+Q.align+'">':"<"+W+">";return le+this.atLink(this.emoji(V))+"</"+W+`>
`},y.listitem=function(V){return v.taskList&&/^\s*\[[x\s]\]\s*/.test(V)?(V=V.replace(/^\s*\[\s\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" /> ').replace(/^\s*\[x\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" checked disabled /> '),'<li style="list-style: none;">'+this.atLink(this.emoji(V))+"</li>"):"<li>"+this.atLink(this.emoji(V))+"</li>"},y},w.markdownToCRenderer=function(s,u,p,v){var h="",y=0,b=this.classPrefix;v=v||1;for(var A=0,B=s.length;B>A;A++){var j=s[A].text,O=s[A].level;v>O||(h+=O>y?"":y>O?new Array(y-O+2).join("</ul></li>"):"</ul></li>",h+='<li><a class="toc-level-'+O+'" href="#'+j+'" level="'+O+'">'+j+"</a><ul>",y=O)}var M=u.find(".markdown-toc");if(M.length<1&&u.attr("previewContainer")==="false"){var o='<div class="markdown-toc '+b+'markdown-toc"></div>';o=p?'<div class="'+b+'toc-menu">'+o+"</div>":o,u.html(o),M=u.find(".markdown-toc")}return p&&M.wrap('<div class="'+b+'toc-menu"></div><br/>'),M.html('<ul class="markdown-toc-list"></ul>').children(".markdown-toc-list").html(h.replace(/\r?\n?\<ul\>\<\/ul\>/g,"")),M},w.tocDropdownMenu=function(s,u){u=u||"Table of Contents";var p=400,v=s.find("."+this.classPrefix+"toc-menu");return v.each(function(){var h=C(this),y=h.children(".markdown-toc"),b='<i class="fa fa-angle-down"></i>',A='<a href="javascript:;" class="toc-menu-btn">'+b+u+"</a>",B=y.children("ul"),j=B.find("li");y.append(A),j.first().before("<li><h1>"+u+" "+b+"</h1></li>"),h.mouseover(function(){B.show(),j.each(function(){var O=C(this),M=O.children("ul");if(M.html()===""&&M.remove(),M.length>0&&M.html()!==""){var o=O.children("a").first();o.children(".fa").length<1&&o.append(C(b).css({float:"right",paddingTop:"4px"}))}O.mouseover(function(){M.css("z-index",p).show(),p+=1}).mouseleave(function(){M.hide()})})}).mouseleave(function(){B.hide()})}),v},w.filterHTMLTags=function(s,u){if(typeof s!="string"&&(s=new String(s)),typeof u!="string")return s;for(var p=u.split("|"),v=p[0].split(","),h=p[1],y=0,b=v.length;b>y;y++){var A=v[y];s=s.replace(new RegExp("<s*"+A+"s*([^>]*)>([^>]*)<s*/"+A+"s*>","igm"),"")}if(typeof h<"u"){var B=/\<(\w+)\s*([^\>]*)\>([^\>]*)\<\/(\w+)\>/gi;s=h==="*"?s.replace(B,function(j,O,M,o,k){return"<"+O+">"+o+"</"+k+">"}):h==="on*"?s.replace(B,function(j,O,M,o,k){var J=C("<"+O+">"+o+"</"+k+">"),V=C(j)[0].attributes,Q={};C.each(V,function(le,be){be.nodeName!=='"'&&(Q[be.nodeName]=be.nodeValue)}),C.each(Q,function(le){le.indexOf("on")===0&&delete Q[le]}),J.attr(Q);var W=typeof J[1]<"u"?C(J[1]).text():"";return J[0].outerHTML+W}):s.replace(B,function(j,O,M,o){var k=h.split(","),J=C(j);return J.html(o),C.each(k,function(V){J.attr(k[V],null)}),J[0].outerHTML})}return s},w.markdownToHTML=function(s,u){var p={gfm:!0,toc:!0,tocm:!1,tocStartLevel:1,tocTitle:"\u76EE\u5F55",tocDropdown:!1,tocContainer:"",markdown:"",markdownSourceCode:!1,htmlDecode:!1,autoLoadKaTeX:!0,pageBreak:!0,atLink:!0,emailLink:!0,tex:!1,taskList:!1,emoji:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0};w.$marked=marked;var v=C("#"+s),h=v.settings=C.extend(!0,p,u||{}),y=v.find("textarea");y.length<1&&(v.append("<textarea></textarea>"),y=v.find("textarea"));var b=h.markdown===""?y.val():h.markdown,A=[],B={toc:h.toc,tocm:h.tocm,tocStartLevel:h.tocStartLevel,taskList:h.taskList,emoji:h.emoji,tex:h.tex,pageBreak:h.pageBreak,atLink:h.atLink,emailLink:h.emailLink,flowChart:h.flowChart,sequenceDiagram:h.sequenceDiagram,previewCodeHighlight:h.previewCodeHighlight},j={renderer:w.markedRenderer(A,B),gfm:h.gfm,tables:!0,breaks:!0,pedantic:!1,sanitize:!h.htmlDecode,smartLists:!0,smartypants:!0};b=new String(b);var O=marked(b,j);O=w.filterHTMLTags(O,h.htmlDecode),h.markdownSourceCode?y.text(b):y.remove(),v.addClass("markdown-body "+this.classPrefix+"html-preview").append(O);var M=h.tocContainer!==""?C(h.tocContainer):v;if(h.tocContainer!==""&&M.attr("previewContainer",!1),h.toc&&(v.tocContainer=this.markdownToCRenderer(A,M,h.tocDropdown,h.tocStartLevel),(h.tocDropdown||v.find("."+this.classPrefix+"toc-menu").length>0)&&this.tocDropdownMenu(v,h.tocTitle),h.tocContainer!==""&&v.find(".editormd-toc-menu, .editormd-markdown-toc").remove()),h.previewCodeHighlight&&(v.find("pre").addClass("prettyprint linenums"),prettyPrint()),w.isIE8||(h.flowChart&&v.find(".flowchart").flowChart(),h.sequenceDiagram&&v.find(".sequence-diagram").sequenceDiagram({theme:"simple"})),h.tex){var o=function(){v.find("."+w.classNames.tex).each(function(){var k=C(this);katex.render(k.html().replace(/&lt;/g,"<").replace(/&gt;/g,">"),k[0]),k.find(".katex").css("font-size","1.6em")})};!h.autoLoadKaTeX||w.$katex||w.kaTeXLoaded?o():this.loadKaTeX(function(){w.$katex=katex,w.kaTeXLoaded=!0,o()})}return v.getMarkdown=function(){return y.val()},v},w.themes=["default","dark"],w.previewThemes=["default","dark"],w.editorThemes=["default","3024-day","3024-night","ambiance","ambiance-mobile","base16-dark","base16-light","blackboard","cobalt","eclipse","elegant","erlang-dark","lesser-dark","mbo","mdn-like","midnight","monokai","neat","neo","night","paraiso-dark","paraiso-light","pastel-on-dark","rubyblue","solarized","the-matrix","tomorrow-night-eighties","twilight","vibrant-ink","xq-dark","xq-light"],w.loadPlugins={},w.loadFiles={js:[],css:[],plugin:[]},w.loadPlugin=function(s,u,p){u=u||function(){},this.loadScript(s,function(){w.loadFiles.plugin.push(s),u()},p)},w.loadCSS=function(s,u,p){p=p||"head",u=u||function(){};var v=document.createElement("link");v.type="text/css",v.rel="stylesheet",v.onload=v.onreadystatechange=function(){w.loadFiles.css.push(s),u()},v.href=s+".css",p==="head"?document.getElementsByTagName("head")[0].appendChild(v):document.body.appendChild(v)},w.isIE=navigator.appName=="Microsoft Internet Explorer",w.isIE8=w.isIE&&navigator.appVersion.match(/8./i)=="8.",w.loadScript=function(s,u,p){p=p||"head",u=u||function(){};var v=null;v=document.createElement("script"),v.id=s.replace(/[\./]+/g,"-"),v.type="text/javascript",v.src=s+".js",w.isIE8?v.onreadystatechange=function(){v.readyState&&(v.readyState==="loaded"||v.readyState==="complete")&&(v.onreadystatechange=null,w.loadFiles.js.push(s),u())}:v.onload=function(){w.loadFiles.js.push(s),u()},p==="head"?document.getElementsByTagName("head")[0].appendChild(v):document.body.appendChild(v)},w.katexURL={css:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min",js:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min"},w.kaTeXLoaded=!1,w.loadKaTeX=function(s){w.loadCSS(w.katexURL.css,function(){w.loadScript(w.katexURL.js,s||function(){})})},w.lockScreen=function(s){C("html,body").css("overflow",s?"hidden":"")},w.createDialog=function(s){var u={name:"",width:420,height:240,title:"",drag:!0,closed:!0,content:"",mask:!0,maskStyle:{backgroundColor:"#fff",opacity:.1},lockScreen:!0,footer:!0,buttons:!1};s=C.extend(!0,u,s);var p=this,v=this.editor,h=w.classPrefix,y=new Date().getTime(),b=s.name===""?h+"dialog-"+y:s.name,A=w.mouseOrTouch,B='<div class="'+h+"dialog "+b+'">';s.title!==""&&(B+='<div class="'+h+'dialog-header"'+(s.drag?' style="cursor: move;"':"")+">",B+='<strong class="'+h+'dialog-title">'+s.title+"</strong>",B+="</div>"),s.closed&&(B+='<a href="javascript:;" class="fa fa-close '+h+'dialog-close"></a>'),B+='<div class="'+h+'dialog-container">'+s.content,(s.footer||typeof s.footer=="string")&&(B+='<div class="'+h+'dialog-footer">'+(typeof s.footer=="boolean"?"":s.footer)+"</div>"),B+="</div>",B+='<div class="'+h+"dialog-mask "+h+'dialog-mask-bg"></div>',B+='<div class="'+h+"dialog-mask "+h+'dialog-mask-con"></div>',B+="</div>",v.append(B);var j=v.find("."+b);j.lockScreen=function(Ee){return s.lockScreen&&(C("html,body").css("overflow",Ee?"hidden":""),p.resize()),j},j.showMask=function(){return s.mask&&v.find("."+h+"mask").css(s.maskStyle).css("z-index",w.dialogZindex-1).show(),j},j.hideMask=function(){return s.mask&&v.find("."+h+"mask").hide(),j},j.loading=function(Ee){var He=j.find("."+h+"dialog-mask");return He[Ee?"show":"hide"](),j},j.lockScreen(!0).showMask(),j.show().css({zIndex:w.dialogZindex,border:w.isIE8?"1px solid #ddd":"",width:typeof s.width=="number"?s.width+"px":s.width,height:typeof s.height=="number"?s.height+"px":s.height});var O=function(){j.css({top:(C(window).height()-j.height())/2+"px",left:(C(window).width()-j.width())/2+"px"})};if(O(),C(window).resize(O),j.children("."+h+"dialog-close").bind(A("click","touchend"),function(){j.hide().lockScreen(!1).hideMask()}),typeof s.buttons=="object"){var M=j.footer=j.find("."+h+"dialog-footer");for(var o in s.buttons){var k=s.buttons[o],J=h+o+"-btn";M.append('<button class="'+h+"btn "+J+'">'+k[0]+"</button>"),k[1]=C.proxy(k[1],j),M.children("."+J).bind(A("click","touchend"),k[1])}}if(s.title!==""&&s.drag){var V,Q,W=j.children("."+h+"dialog-header");s.mask||W.bind(A("click","touchend"),function(){w.dialogZindex+=2,j.css("z-index",w.dialogZindex)}),W.mousedown(function(Ee){Ee=Ee||window.event,V=Ee.clientX-parseInt(j[0].style.left),Q=Ee.clientY-parseInt(j[0].style.top),document.onmousemove=$e});var le=function(Ee){Ee.removeClass(h+"user-unselect").off("selectstart")},be=function(Ee){Ee.addClass(h+"user-unselect").on("selectstart",function(He){return!1})},$e=function(Ee){Ee=Ee||window.event;var He,Re,Je=parseInt(j[0].style.left),Ue=parseInt(j[0].style.top);Je>=0?Je+j.width()<=C(window).width()?He=Ee.clientX-V:(He=C(window).width()-j.width(),document.onmousemove=null):(He=0,document.onmousemove=null),Ue>=0?Re=Ee.clientY-Q:(Re=0,document.onmousemove=null),document.onselectstart=function(){return!1},be(C("body")),be(j),j[0].style.left=He+"px",j[0].style.top=Re+"px"};document.onmouseup=function(){le(C("body")),le(j),document.onselectstart=null,document.onmousemove=null},W.touchDraggable=function(){var Ee=null,He=function(Je){var Ue=Je.originalEvent,ht=C(this).parent().position();Ee={x:Ue.changedTouches[0].pageX-ht.left,y:Ue.changedTouches[0].pageY-ht.top}},Re=function(Je){Je.preventDefault();var Ue=Je.originalEvent;C(this).parent().css({top:Ue.changedTouches[0].pageY-Ee.y,left:Ue.changedTouches[0].pageX-Ee.x})};this.bind("touchstart",He).bind("touchmove",Re)},W.touchDraggable()}return w.dialogZindex+=2,j},w.mouseOrTouch=function(s,u){s=s||"click",u=u||"touchend";var p=s;try{document.createEvent("TouchEvent"),p=u}catch{}return p},w.dateFormat=function(s){s=s||"";var u=function(le){return 10>le?"0"+le:le},p=new Date,v=p.getFullYear(),h=v.toString().slice(2,4),y=u(p.getMonth()+1),b=u(p.getDate()),A=p.getDay(),B=u(p.getHours()),j=u(p.getMinutes()),O=u(p.getSeconds()),M=u(p.getMilliseconds()),o="",k=h+"-"+y+"-"+b,J=v+"-"+y+"-"+b,V=B+":"+j+":"+O;switch(s){case"UNIX Time":o=p.getTime();break;case"UTC":o=p.toUTCString();break;case"yy":o=h;break;case"year":case"yyyy":o=v;break;case"month":case"mm":o=y;break;case"cn-week-day":case"cn-wd":var Q=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"];o="\u661F\u671F"+Q[A];break;case"week-day":case"wd":var W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];o=W[A];break;case"day":case"dd":o=b;break;case"hour":case"hh":o=B;break;case"min":case"ii":o=j;break;case"second":case"ss":o=O;break;case"ms":o=M;break;case"yy-mm-dd":o=k;break;case"yyyy-mm-dd":o=J;break;case"yyyy-mm-dd h:i:s ms":case"full + ms":o=J+" "+V+" "+M;break;case"full":case"yyyy-mm-dd h:i:s":default:o=J+" "+V}return o},w}}),function(C,w){typeof exports=="object"&&typeof module=="object"?module.exports=w():typeof define=="function"&&define.amd?define([],w):typeof exports=="object"?exports.Vditor=w():C.Vditor=w()}(this,function(){return(()=>{var C={173:I=>{var E=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},S=-1;E.Diff=function(s,u){return[s,u]},E.prototype.diff_main=function(s,u,p,v){v===void 0&&(v=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var h=v;if(s==null||u==null)throw new Error("Null input. (diff_main)");if(s==u)return s?[new E.Diff(0,s)]:[];p===void 0&&(p=!0);var y=p,b=this.diff_commonPrefix(s,u),A=s.substring(0,b);s=s.substring(b),u=u.substring(b),b=this.diff_commonSuffix(s,u);var B=s.substring(s.length-b);s=s.substring(0,s.length-b),u=u.substring(0,u.length-b);var j=this.diff_compute_(s,u,y,h);return A&&j.unshift(new E.Diff(0,A)),B&&j.push(new E.Diff(0,B)),this.diff_cleanupMerge(j),j},E.prototype.diff_compute_=function(s,u,p,v){var h;if(!s)return[new E.Diff(1,u)];if(!u)return[new E.Diff(S,s)];var y=s.length>u.length?s:u,b=s.length>u.length?u:s,A=y.indexOf(b);if(A!=-1)return h=[new E.Diff(1,y.substring(0,A)),new E.Diff(0,b),new E.Diff(1,y.substring(A+b.length))],s.length>u.length&&(h[0][0]=h[2][0]=S),h;if(b.length==1)return[new E.Diff(S,s),new E.Diff(1,u)];var B=this.diff_halfMatch_(s,u);if(B){var j=B[0],O=B[1],M=B[2],o=B[3],k=B[4],J=this.diff_main(j,M,p,v),V=this.diff_main(O,o,p,v);return J.concat([new E.Diff(0,k)],V)}return p&&s.length>100&&u.length>100?this.diff_lineMode_(s,u,v):this.diff_bisect_(s,u,v)},E.prototype.diff_lineMode_=function(s,u,p){var v=this.diff_linesToChars_(s,u);s=v.chars1,u=v.chars2;var h=v.lineArray,y=this.diff_main(s,u,!1,p);this.diff_charsToLines_(y,h),this.diff_cleanupSemantic(y),y.push(new E.Diff(0,""));for(var b=0,A=0,B=0,j="",O="";b<y.length;){switch(y[b][0]){case 1:B++,O+=y[b][1];break;case S:A++,j+=y[b][1];break;case 0:if(A>=1&&B>=1){y.splice(b-A-B,A+B),b=b-A-B;for(var M=this.diff_main(j,O,!1,p),o=M.length-1;o>=0;o--)y.splice(b,0,M[o]);b+=M.length}B=0,A=0,j="",O=""}b++}return y.pop(),y},E.prototype.diff_bisect_=function(s,u,p){for(var v=s.length,h=u.length,y=Math.ceil((v+h)/2),b=y,A=2*y,B=new Array(A),j=new Array(A),O=0;O<A;O++)B[O]=-1,j[O]=-1;B[b+1]=0,j[b+1]=0;for(var M=v-h,o=M%2!=0,k=0,J=0,V=0,Q=0,W=0;W<y&&!(new Date().getTime()>p);W++){for(var le=-W+k;le<=W-J;le+=2){for(var be=b+le,$e=(Ue=le==-W||le!=W&&B[be-1]<B[be+1]?B[be+1]:B[be-1]+1)-le;Ue<v&&$e<h&&s.charAt(Ue)==u.charAt($e);)Ue++,$e++;if(B[be]=Ue,Ue>v)J+=2;else if($e>h)k+=2;else if(o&&(Re=b+M-le)>=0&&Re<A&&j[Re]!=-1&&Ue>=(He=v-j[Re]))return this.diff_bisectSplit_(s,u,Ue,$e,p)}for(var Ee=-W+V;Ee<=W-Q;Ee+=2){for(var He,Re=b+Ee,Je=(He=Ee==-W||Ee!=W&&j[Re-1]<j[Re+1]?j[Re+1]:j[Re-1]+1)-Ee;He<v&&Je<h&&s.charAt(v-He-1)==u.charAt(h-Je-1);)He++,Je++;if(j[Re]=He,He>v)Q+=2;else if(Je>h)V+=2;else if(!o&&(be=b+M-Ee)>=0&&be<A&&B[be]!=-1){var Ue;if($e=b+(Ue=B[be])-be,Ue>=(He=v-He))return this.diff_bisectSplit_(s,u,Ue,$e,p)}}}return[new E.Diff(S,s),new E.Diff(1,u)]},E.prototype.diff_bisectSplit_=function(s,u,p,v,h){var y=s.substring(0,p),b=u.substring(0,v),A=s.substring(p),B=u.substring(v),j=this.diff_main(y,b,!1,h),O=this.diff_main(A,B,!1,h);return j.concat(O)},E.prototype.diff_linesToChars_=function(s,u){var p=[],v={};function h(A){for(var B="",j=0,O=-1,M=p.length;O<A.length-1;){(O=A.indexOf(`
`,j))==-1&&(O=A.length-1);var o=A.substring(j,O+1);(v.hasOwnProperty?v.hasOwnProperty(o):v[o]!==void 0)?B+=String.fromCharCode(v[o]):(M==y&&(o=A.substring(j),O=A.length),B+=String.fromCharCode(M),v[o]=M,p[M++]=o),j=O+1}return B}p[0]="";var y=4e4,b=h(s);return y=65535,{chars1:b,chars2:h(u),lineArray:p}},E.prototype.diff_charsToLines_=function(s,u){for(var p=0;p<s.length;p++){for(var v=s[p][1],h=[],y=0;y<v.length;y++)h[y]=u[v.charCodeAt(y)];s[p][1]=h.join("")}},E.prototype.diff_commonPrefix=function(s,u){if(!s||!u||s.charAt(0)!=u.charAt(0))return 0;for(var p=0,v=Math.min(s.length,u.length),h=v,y=0;p<h;)s.substring(y,h)==u.substring(y,h)?y=p=h:v=h,h=Math.floor((v-p)/2+p);return h},E.prototype.diff_commonSuffix=function(s,u){if(!s||!u||s.charAt(s.length-1)!=u.charAt(u.length-1))return 0;for(var p=0,v=Math.min(s.length,u.length),h=v,y=0;p<h;)s.substring(s.length-h,s.length-y)==u.substring(u.length-h,u.length-y)?y=p=h:v=h,h=Math.floor((v-p)/2+p);return h},E.prototype.diff_commonOverlap_=function(s,u){var p=s.length,v=u.length;if(p==0||v==0)return 0;p>v?s=s.substring(p-v):p<v&&(u=u.substring(0,p));var h=Math.min(p,v);if(s==u)return h;for(var y=0,b=1;;){var A=s.substring(h-b),B=u.indexOf(A);if(B==-1)return y;b+=B,B!=0&&s.substring(h-b)!=u.substring(0,b)||(y=b,b++)}},E.prototype.diff_halfMatch_=function(s,u){if(this.Diff_Timeout<=0)return null;var p=s.length>u.length?s:u,v=s.length>u.length?u:s;if(p.length<4||2*v.length<p.length)return null;var h=this;function y(k,J,V){for(var Q,W,le,be,$e=k.substring(V,V+Math.floor(k.length/4)),Ee=-1,He="";(Ee=J.indexOf($e,Ee+1))!=-1;){var Re=h.diff_commonPrefix(k.substring(V),J.substring(Ee)),Je=h.diff_commonSuffix(k.substring(0,V),J.substring(0,Ee));He.length<Je+Re&&(He=J.substring(Ee-Je,Ee)+J.substring(Ee,Ee+Re),Q=k.substring(0,V-Je),W=k.substring(V+Re),le=J.substring(0,Ee-Je),be=J.substring(Ee+Re))}return 2*He.length>=k.length?[Q,W,le,be,He]:null}var b,A,B,j,O,M=y(p,v,Math.ceil(p.length/4)),o=y(p,v,Math.ceil(p.length/2));return M||o?(b=o?M&&M[4].length>o[4].length?M:o:M,s.length>u.length?(A=b[0],B=b[1],j=b[2],O=b[3]):(j=b[0],O=b[1],A=b[2],B=b[3]),[A,B,j,O,b[4]]):null},E.prototype.diff_cleanupSemantic=function(s){for(var u=!1,p=[],v=0,h=null,y=0,b=0,A=0,B=0,j=0;y<s.length;)s[y][0]==0?(p[v++]=y,b=B,A=j,B=0,j=0,h=s[y][1]):(s[y][0]==1?B+=s[y][1].length:j+=s[y][1].length,h&&h.length<=Math.max(b,A)&&h.length<=Math.max(B,j)&&(s.splice(p[v-1],0,new E.Diff(S,h)),s[p[v-1]+1][0]=1,v--,y=--v>0?p[v-1]:-1,b=0,A=0,B=0,j=0,h=null,u=!0)),y++;for(u&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),y=1;y<s.length;){if(s[y-1][0]==S&&s[y][0]==1){var O=s[y-1][1],M=s[y][1],o=this.diff_commonOverlap_(O,M),k=this.diff_commonOverlap_(M,O);o>=k?(o>=O.length/2||o>=M.length/2)&&(s.splice(y,0,new E.Diff(0,M.substring(0,o))),s[y-1][1]=O.substring(0,O.length-o),s[y+1][1]=M.substring(o),y++):(k>=O.length/2||k>=M.length/2)&&(s.splice(y,0,new E.Diff(0,O.substring(0,k))),s[y-1][0]=1,s[y-1][1]=M.substring(0,M.length-k),s[y+1][0]=S,s[y+1][1]=O.substring(k),y++),y++}y++}},E.prototype.diff_cleanupSemanticLossless=function(s){function u(k,J){if(!k||!J)return 6;var V=k.charAt(k.length-1),Q=J.charAt(0),W=V.match(E.nonAlphaNumericRegex_),le=Q.match(E.nonAlphaNumericRegex_),be=W&&V.match(E.whitespaceRegex_),$e=le&&Q.match(E.whitespaceRegex_),Ee=be&&V.match(E.linebreakRegex_),He=$e&&Q.match(E.linebreakRegex_),Re=Ee&&k.match(E.blanklineEndRegex_),Je=He&&J.match(E.blanklineStartRegex_);return Re||Je?5:Ee||He?4:W&&!be&&$e?3:be||$e?2:W||le?1:0}for(var p=1;p<s.length-1;){if(s[p-1][0]==0&&s[p+1][0]==0){var v=s[p-1][1],h=s[p][1],y=s[p+1][1],b=this.diff_commonSuffix(v,h);if(b){var A=h.substring(h.length-b);v=v.substring(0,v.length-b),h=A+h.substring(0,h.length-b),y=A+y}for(var B=v,j=h,O=y,M=u(v,h)+u(h,y);h.charAt(0)===y.charAt(0);){v+=h.charAt(0),h=h.substring(1)+y.charAt(0),y=y.substring(1);var o=u(v,h)+u(h,y);o>=M&&(M=o,B=v,j=h,O=y)}s[p-1][1]!=B&&(B?s[p-1][1]=B:(s.splice(p-1,1),p--),s[p][1]=j,O?s[p+1][1]=O:(s.splice(p+1,1),p--))}p++}},E.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,E.whitespaceRegex_=/\s/,E.linebreakRegex_=/[\r\n]/,E.blanklineEndRegex_=/\n\r?\n$/,E.blanklineStartRegex_=/^\r?\n\r?\n/,E.prototype.diff_cleanupEfficiency=function(s){for(var u=!1,p=[],v=0,h=null,y=0,b=!1,A=!1,B=!1,j=!1;y<s.length;)s[y][0]==0?(s[y][1].length<this.Diff_EditCost&&(B||j)?(p[v++]=y,b=B,A=j,h=s[y][1]):(v=0,h=null),B=j=!1):(s[y][0]==S?j=!0:B=!0,h&&(b&&A&&B&&j||h.length<this.Diff_EditCost/2&&b+A+B+j==3)&&(s.splice(p[v-1],0,new E.Diff(S,h)),s[p[v-1]+1][0]=1,v--,h=null,b&&A?(B=j=!0,v=0):(y=--v>0?p[v-1]:-1,B=j=!1),u=!0)),y++;u&&this.diff_cleanupMerge(s)},E.prototype.diff_cleanupMerge=function(s){s.push(new E.Diff(0,""));for(var u,p=0,v=0,h=0,y="",b="";p<s.length;)switch(s[p][0]){case 1:h++,b+=s[p][1],p++;break;case S:v++,y+=s[p][1],p++;break;case 0:v+h>1?(v!==0&&h!==0&&((u=this.diff_commonPrefix(b,y))!==0&&(p-v-h>0&&s[p-v-h-1][0]==0?s[p-v-h-1][1]+=b.substring(0,u):(s.splice(0,0,new E.Diff(0,b.substring(0,u))),p++),b=b.substring(u),y=y.substring(u)),(u=this.diff_commonSuffix(b,y))!==0&&(s[p][1]=b.substring(b.length-u)+s[p][1],b=b.substring(0,b.length-u),y=y.substring(0,y.length-u))),p-=v+h,s.splice(p,v+h),y.length&&(s.splice(p,0,new E.Diff(S,y)),p++),b.length&&(s.splice(p,0,new E.Diff(1,b)),p++),p++):p!==0&&s[p-1][0]==0?(s[p-1][1]+=s[p][1],s.splice(p,1)):p++,h=0,v=0,y="",b=""}s[s.length-1][1]===""&&s.pop();var A=!1;for(p=1;p<s.length-1;)s[p-1][0]==0&&s[p+1][0]==0&&(s[p][1].substring(s[p][1].length-s[p-1][1].length)==s[p-1][1]?(s[p][1]=s[p-1][1]+s[p][1].substring(0,s[p][1].length-s[p-1][1].length),s[p+1][1]=s[p-1][1]+s[p+1][1],s.splice(p-1,1),A=!0):s[p][1].substring(0,s[p+1][1].length)==s[p+1][1]&&(s[p-1][1]+=s[p+1][1],s[p][1]=s[p][1].substring(s[p+1][1].length)+s[p+1][1],s.splice(p+1,1),A=!0)),p++;A&&this.diff_cleanupMerge(s)},E.prototype.diff_xIndex=function(s,u){var p,v=0,h=0,y=0,b=0;for(p=0;p<s.length&&(s[p][0]!==1&&(v+=s[p][1].length),s[p][0]!==S&&(h+=s[p][1].length),!(v>u));p++)y=v,b=h;return s.length!=p&&s[p][0]===S?b:b+(u-y)},E.prototype.diff_prettyHtml=function(s){for(var u=[],p=/&/g,v=/</g,h=/>/g,y=/\n/g,b=0;b<s.length;b++){var A=s[b][0],B=s[b][1].replace(p,"&amp;").replace(v,"&lt;").replace(h,"&gt;").replace(y,"&para;<br>");switch(A){case 1:u[b]='<ins style="background:#e6ffe6;">'+B+"</ins>";break;case S:u[b]='<del style="background:#ffe6e6;">'+B+"</del>";break;case 0:u[b]="<span>"+B+"</span>"}}return u.join("")},E.prototype.diff_text1=function(s){for(var u=[],p=0;p<s.length;p++)s[p][0]!==1&&(u[p]=s[p][1]);return u.join("")},E.prototype.diff_text2=function(s){for(var u=[],p=0;p<s.length;p++)s[p][0]!==S&&(u[p]=s[p][1]);return u.join("")},E.prototype.diff_levenshtein=function(s){for(var u=0,p=0,v=0,h=0;h<s.length;h++){var y=s[h][0],b=s[h][1];switch(y){case 1:p+=b.length;break;case S:v+=b.length;break;case 0:u+=Math.max(p,v),p=0,v=0}}return u+=Math.max(p,v)},E.prototype.diff_toDelta=function(s){for(var u=[],p=0;p<s.length;p++)switch(s[p][0]){case 1:u[p]="+"+encodeURI(s[p][1]);break;case S:u[p]="-"+s[p][1].length;break;case 0:u[p]="="+s[p][1].length}return u.join("	").replace(/%20/g," ")},E.prototype.diff_fromDelta=function(s,u){for(var p=[],v=0,h=0,y=u.split(/\t/g),b=0;b<y.length;b++){var A=y[b].substring(1);switch(y[b].charAt(0)){case"+":try{p[v++]=new E.Diff(1,decodeURI(A))}catch{throw new Error("Illegal escape in diff_fromDelta: "+A)}break;case"-":case"=":var B=parseInt(A,10);if(isNaN(B)||B<0)throw new Error("Invalid number in diff_fromDelta: "+A);var j=s.substring(h,h+=B);y[b].charAt(0)=="="?p[v++]=new E.Diff(0,j):p[v++]=new E.Diff(S,j);break;default:if(y[b])throw new Error("Invalid diff operation in diff_fromDelta: "+y[b])}}if(h!=s.length)throw new Error("Delta length ("+h+") does not equal source text length ("+s.length+").");return p},E.prototype.match_main=function(s,u,p){if(s==null||u==null||p==null)throw new Error("Null input. (match_main)");return p=Math.max(0,Math.min(p,s.length)),s==u?0:s.length?s.substring(p,p+u.length)==u?p:this.match_bitap_(s,u,p):-1},E.prototype.match_bitap_=function(s,u,p){if(u.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var v=this.match_alphabet_(u),h=this;function y($e,Ee){var He=$e/u.length,Re=Math.abs(p-Ee);return h.Match_Distance?He+Re/h.Match_Distance:Re?1:He}var b=this.Match_Threshold,A=s.indexOf(u,p);A!=-1&&(b=Math.min(y(0,A),b),(A=s.lastIndexOf(u,p+u.length))!=-1&&(b=Math.min(y(0,A),b)));var B,j,O=1<<u.length-1;A=-1;for(var M,o=u.length+s.length,k=0;k<u.length;k++){for(B=0,j=o;B<j;)y(k,p+j)<=b?B=j:o=j,j=Math.floor((o-B)/2+B);o=j;var J=Math.max(1,p-j+1),V=Math.min(p+j,s.length)+u.length,Q=Array(V+2);Q[V+1]=(1<<k)-1;for(var W=V;W>=J;W--){var le=v[s.charAt(W-1)];if(Q[W]=k===0?(Q[W+1]<<1|1)&le:(Q[W+1]<<1|1)&le|(M[W+1]|M[W])<<1|1|M[W+1],Q[W]&O){var be=y(k,W-1);if(be<=b){if(b=be,!((A=W-1)>p))break;J=Math.max(1,2*p-A)}}}if(y(k+1,p)>b)break;M=Q}return A},E.prototype.match_alphabet_=function(s){for(var u={},p=0;p<s.length;p++)u[s.charAt(p)]=0;for(p=0;p<s.length;p++)u[s.charAt(p)]|=1<<s.length-p-1;return u},E.prototype.patch_addContext_=function(s,u){if(u.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var p=u.substring(s.start2,s.start2+s.length1),v=0;u.indexOf(p)!=u.lastIndexOf(p)&&p.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)v+=this.Patch_Margin,p=u.substring(s.start2-v,s.start2+s.length1+v);v+=this.Patch_Margin;var h=u.substring(s.start2-v,s.start2);h&&s.diffs.unshift(new E.Diff(0,h));var y=u.substring(s.start2+s.length1,s.start2+s.length1+v);y&&s.diffs.push(new E.Diff(0,y)),s.start1-=h.length,s.start2-=h.length,s.length1+=h.length+y.length,s.length2+=h.length+y.length}},E.prototype.patch_make=function(s,u,p){var v,h;if(typeof s=="string"&&typeof u=="string"&&p===void 0)v=s,(h=this.diff_main(v,u,!0)).length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(s&&typeof s=="object"&&u===void 0&&p===void 0)h=s,v=this.diff_text1(h);else if(typeof s=="string"&&u&&typeof u=="object"&&p===void 0)v=s,h=u;else{if(typeof s!="string"||typeof u!="string"||!p||typeof p!="object")throw new Error("Unknown call format to patch_make.");v=s,h=p}if(h.length===0)return[];for(var y=[],b=new E.patch_obj,A=0,B=0,j=0,O=v,M=v,o=0;o<h.length;o++){var k=h[o][0],J=h[o][1];switch(A||k===0||(b.start1=B,b.start2=j),k){case 1:b.diffs[A++]=h[o],b.length2+=J.length,M=M.substring(0,j)+J+M.substring(j);break;case S:b.length1+=J.length,b.diffs[A++]=h[o],M=M.substring(0,j)+M.substring(j+J.length);break;case 0:J.length<=2*this.Patch_Margin&&A&&h.length!=o+1?(b.diffs[A++]=h[o],b.length1+=J.length,b.length2+=J.length):J.length>=2*this.Patch_Margin&&A&&(this.patch_addContext_(b,O),y.push(b),b=new E.patch_obj,A=0,O=M,B=j)}k!==1&&(B+=J.length),k!==S&&(j+=J.length)}return A&&(this.patch_addContext_(b,O),y.push(b)),y},E.prototype.patch_deepCopy=function(s){for(var u=[],p=0;p<s.length;p++){var v=s[p],h=new E.patch_obj;h.diffs=[];for(var y=0;y<v.diffs.length;y++)h.diffs[y]=new E.Diff(v.diffs[y][0],v.diffs[y][1]);h.start1=v.start1,h.start2=v.start2,h.length1=v.length1,h.length2=v.length2,u[p]=h}return u},E.prototype.patch_apply=function(s,u){if(s.length==0)return[u,[]];s=this.patch_deepCopy(s);var p=this.patch_addPadding(s);u=p+u+p,this.patch_splitMax(s);for(var v=0,h=[],y=0;y<s.length;y++){var b,A,B=s[y].start2+v,j=this.diff_text1(s[y].diffs),O=-1;if(j.length>this.Match_MaxBits?(b=this.match_main(u,j.substring(0,this.Match_MaxBits),B))!=-1&&((O=this.match_main(u,j.substring(j.length-this.Match_MaxBits),B+j.length-this.Match_MaxBits))==-1||b>=O)&&(b=-1):b=this.match_main(u,j,B),b==-1)h[y]=!1,v-=s[y].length2-s[y].length1;else if(h[y]=!0,v=b-B,j==(A=O==-1?u.substring(b,b+j.length):u.substring(b,O+this.Match_MaxBits)))u=u.substring(0,b)+this.diff_text2(s[y].diffs)+u.substring(b+j.length);else{var M=this.diff_main(j,A,!1);if(j.length>this.Match_MaxBits&&this.diff_levenshtein(M)/j.length>this.Patch_DeleteThreshold)h[y]=!1;else{this.diff_cleanupSemanticLossless(M);for(var o,k=0,J=0;J<s[y].diffs.length;J++){var V=s[y].diffs[J];V[0]!==0&&(o=this.diff_xIndex(M,k)),V[0]===1?u=u.substring(0,b+o)+V[1]+u.substring(b+o):V[0]===S&&(u=u.substring(0,b+o)+u.substring(b+this.diff_xIndex(M,k+V[1].length))),V[0]!==S&&(k+=V[1].length)}}}}return[u=u.substring(p.length,u.length-p.length),h]},E.prototype.patch_addPadding=function(s){for(var u=this.Patch_Margin,p="",v=1;v<=u;v++)p+=String.fromCharCode(v);for(v=0;v<s.length;v++)s[v].start1+=u,s[v].start2+=u;var h=s[0],y=h.diffs;if(y.length==0||y[0][0]!=0)y.unshift(new E.Diff(0,p)),h.start1-=u,h.start2-=u,h.length1+=u,h.length2+=u;else if(u>y[0][1].length){var b=u-y[0][1].length;y[0][1]=p.substring(y[0][1].length)+y[0][1],h.start1-=b,h.start2-=b,h.length1+=b,h.length2+=b}return(y=(h=s[s.length-1]).diffs).length==0||y[y.length-1][0]!=0?(y.push(new E.Diff(0,p)),h.length1+=u,h.length2+=u):u>y[y.length-1][1].length&&(b=u-y[y.length-1][1].length,y[y.length-1][1]+=p.substring(0,b),h.length1+=b,h.length2+=b),p},E.prototype.patch_splitMax=function(s){for(var u=this.Match_MaxBits,p=0;p<s.length;p++)if(!(s[p].length1<=u)){var v=s[p];s.splice(p--,1);for(var h=v.start1,y=v.start2,b="";v.diffs.length!==0;){var A=new E.patch_obj,B=!0;for(A.start1=h-b.length,A.start2=y-b.length,b!==""&&(A.length1=A.length2=b.length,A.diffs.push(new E.Diff(0,b)));v.diffs.length!==0&&A.length1<u-this.Patch_Margin;){var j=v.diffs[0][0],O=v.diffs[0][1];j===1?(A.length2+=O.length,y+=O.length,A.diffs.push(v.diffs.shift()),B=!1):j===S&&A.diffs.length==1&&A.diffs[0][0]==0&&O.length>2*u?(A.length1+=O.length,h+=O.length,B=!1,A.diffs.push(new E.Diff(j,O)),v.diffs.shift()):(O=O.substring(0,u-A.length1-this.Patch_Margin),A.length1+=O.length,h+=O.length,j===0?(A.length2+=O.length,y+=O.length):B=!1,A.diffs.push(new E.Diff(j,O)),O==v.diffs[0][1]?v.diffs.shift():v.diffs[0][1]=v.diffs[0][1].substring(O.length))}b=(b=this.diff_text2(A.diffs)).substring(b.length-this.Patch_Margin);var M=this.diff_text1(v.diffs).substring(0,this.Patch_Margin);M!==""&&(A.length1+=M.length,A.length2+=M.length,A.diffs.length!==0&&A.diffs[A.diffs.length-1][0]===0?A.diffs[A.diffs.length-1][1]+=M:A.diffs.push(new E.Diff(0,M))),B||s.splice(++p,0,A)}}},E.prototype.patch_toText=function(s){for(var u=[],p=0;p<s.length;p++)u[p]=s[p];return u.join("")},E.prototype.patch_fromText=function(s){var u=[];if(!s)return u;for(var p=s.split(`
`),v=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;v<p.length;){var y=p[v].match(h);if(!y)throw new Error("Invalid patch string: "+p[v]);var b=new E.patch_obj;for(u.push(b),b.start1=parseInt(y[1],10),y[2]===""?(b.start1--,b.length1=1):y[2]=="0"?b.length1=0:(b.start1--,b.length1=parseInt(y[2],10)),b.start2=parseInt(y[3],10),y[4]===""?(b.start2--,b.length2=1):y[4]=="0"?b.length2=0:(b.start2--,b.length2=parseInt(y[4],10)),v++;v<p.length;){var A=p[v].charAt(0);try{var B=decodeURI(p[v].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+B)}if(A=="-")b.diffs.push(new E.Diff(S,B));else if(A=="+")b.diffs.push(new E.Diff(1,B));else if(A==" ")b.diffs.push(new E.Diff(0,B));else{if(A=="@")break;if(A!=="")throw new Error('Invalid patch mode "'+A+'" in: '+B)}v++}}return u},(E.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var s,u=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],p=0;p<this.diffs.length;p++){switch(this.diffs[p][0]){case 1:s="+";break;case S:s="-";break;case 0:s=" "}u[p+1]=s+encodeURI(this.diffs[p][1])+`
`}return u.join("").replace(/%20/g," ")},I.exports=E,I.exports.diff_match_patch=E,I.exports.DIFF_DELETE=S,I.exports.DIFF_INSERT=1,I.exports.DIFF_EQUAL=0},408:(I,E,S)=>{"use strict";S.d(E,{default:()=>At});var s=S(135),u=S(840),p=S(775),v=S(428),h=S(325),y=S(483),b=S(999),A=function(ye){ye===void 0&&(ye=document);var Qe=function(fe){var ce=document.createElement("img");ce.src=fe.getAttribute("data-src"),ce.addEventListener("load",function(){fe.getAttribute("style")||fe.getAttribute("class")||fe.getAttribute("width")||fe.getAttribute("height")||ce.naturalHeight>ce.naturalWidth&&ce.naturalWidth/ce.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&ce.naturalHeight>window.innerHeight-40&&(fe.style.height=window.innerHeight-40+"px"),fe.src=ce.src}),fe.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return ye.querySelectorAll("img").forEach(function(fe){fe.getAttribute("data-src")&&Qe(fe)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),ye.querySelectorAll("img").forEach(function(fe){window.vditorImageIntersectionObserver.observe(fe)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(fe){fe.forEach(function(ce){(ce.isIntersecting===void 0?ce.intersectionRatio!==0:ce.isIntersecting)&&ce.target.getAttribute("data-src")&&Qe(ce.target)})}),ye.querySelectorAll("img").forEach(function(fe){window.vditorImageIntersectionObserver.observe(fe)}))},B=S(472),j=S(280),O=S(637),M=S(825),o=S(11),k=S(194),J=S(436),V=S(229),Q=S(145),W=S(538),le=S(413),be=S(106),$e=S(673),Ee=S(214),He=S(810),Re=function(ye,Qe){if(Qe===void 0&&(Qe="zh_CN"),typeof speechSynthesis<"u"&&typeof SpeechSynthesisUtterance<"u"){var fe=function(){var ct,Ge;return speechSynthesis.getVoices().forEach(function(Te){Te.lang===Qe.replace("_","-")&&(ct=Te),Te.default&&(Ge=Te)}),ct||(ct=Ge),ct},ce='<svg><use xlink:href="#vditor-icon-play"></use></svg>',De='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(ce='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',De='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var Ve=document.querySelector(".vditor-speech");Ve||((Ve=document.createElement("button")).className="vditor-speech",ye.insertAdjacentElement("beforeend",Ve),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=fe));var Ke=fe(),ot=new SpeechSynthesisUtterance;ot.voice=Ke,ot.onend=ot.onerror=function(){Ve.style.display="none",speechSynthesis.cancel(),Ve.classList.remove("vditor-speech--current"),Ve.innerHTML=ce},ye.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(ct){var Ge=ct.target;if(Ge.classList.contains("vditor-speech")||Ge.parentElement.classList.contains("vditor-speech"))return Ve.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),Ve.innerHTML=De):(speechSynthesis.pause(),Ve.innerHTML=ce)):(ot.text=Ve.getAttribute("data-text"),speechSynthesis.speak(ot),Ve.classList.add("vditor-speech--current"),Ve.innerHTML=De),(0,He.Hc)(window.vditorSpeechRange),void ye.focus();if(Ve.style.display="none",speechSynthesis.cancel(),Ve.classList.remove("vditor-speech--current"),Ve.innerHTML=ce,getSelection().rangeCount!==0){var Te=getSelection().getRangeAt(0),gt=Te.toString().trim();if(gt){window.vditorSpeechRange=Te.cloneRange();var St=Te.getBoundingClientRect();Ve.innerHTML=ce,Ve.style.display="block",Ve.style.top=St.top+St.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?Ve.style.left=ct.changedTouches[ct.changedTouches.length-1].pageX+2+"px":Ve.style.left=ct.clientX+2+"px",Ve.setAttribute("data-text",gt)}}})}},Je=function(ye,Qe,fe,ce){return new(fe||(fe=Promise))(function(De,Ve){function Ke(Ge){try{ct(ce.next(Ge))}catch(Te){Ve(Te)}}function ot(Ge){try{ct(ce.throw(Ge))}catch(Te){Ve(Te)}}function ct(Ge){var Te;Ge.done?De(Ge.value):(Te=Ge.value,Te instanceof fe?Te:new fe(function(gt){gt(Te)})).then(Ke,ot)}ct((ce=ce.apply(ye,Qe||[])).next())})},Ue=function(ye,Qe){var fe,ce,De,Ve,Ke={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return Ve={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(Ve[Symbol.iterator]=function(){return this}),Ve;function ot(ct){return function(Ge){return function(Te){if(fe)throw new TypeError("Generator is already executing.");for(;Ve&&(Ve=0,Te[0]&&(Ke=0)),Ke;)try{if(fe=1,ce&&(De=2&Te[0]?ce.return:Te[0]?ce.throw||((De=ce.return)&&De.call(ce),0):ce.next)&&!(De=De.call(ce,Te[1])).done)return De;switch(ce=0,De&&(Te=[2&Te[0],De.value]),Te[0]){case 0:case 1:De=Te;break;case 4:return Ke.label++,{value:Te[1],done:!1};case 5:Ke.label++,ce=Te[1],Te=[0];continue;case 7:Te=Ke.ops.pop(),Ke.trys.pop();continue;default:if(De=Ke.trys,!((De=De.length>0&&De[De.length-1])||Te[0]!==6&&Te[0]!==2)){Ke=0;continue}if(Te[0]===3&&(!De||Te[1]>De[0]&&Te[1]<De[3])){Ke.label=Te[1];break}if(Te[0]===6&&Ke.label<De[1]){Ke.label=De[1],De=Te;break}if(De&&Ke.label<De[2]){Ke.label=De[2],Ke.ops.push(Te);break}De[2]&&Ke.ops.pop(),Ke.trys.pop();continue}Te=Qe.call(ye,Ke)}catch(gt){Te=[6,gt],ce=0}finally{fe=De=0}if(5&Te[0])throw Te[1];return{value:Te[0]?Te[1]:void 0,done:!0}}([ct,Ge])}}},ht=function(ye){var Qe,fe={anchor:0,cdn:Q.g.CDN,customEmoji:{},emojiPath:"".concat(Q.g.CDN,"/dist/images/emoji"),hljs:Q.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:Q.g.MARKDOWN_OPTIONS,math:Q.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:Q.g.THEME_OPTIONS};return ye.cdn&&(!((Qe=ye.theme)===null||Qe===void 0)&&Qe.path||(fe.theme.path="".concat(ye.cdn,"/dist/css/content-theme")),ye.emojiPath||(fe.emojiPath="".concat(ye.cdn,"/dist/images/emoji"))),(0,$e.T)(fe,ye)},ft=function(ye,Qe){var fe=ht(Qe);return(0,le.G)("".concat(fe.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var ce=(0,Ee.X)({autoSpace:fe.markdown.autoSpace,gfmAutoLink:fe.markdown.gfmAutoLink,codeBlockPreview:fe.markdown.codeBlockPreview,emojiSite:fe.emojiPath,emojis:fe.customEmoji,fixTermTypo:fe.markdown.fixTermTypo,footnotes:fe.markdown.footnotes,headingAnchor:fe.anchor!==0,inlineMathDigit:fe.math.inlineDigit,lazyLoadImage:fe.lazyLoadImage,linkBase:fe.markdown.linkBase,linkPrefix:fe.markdown.linkPrefix,listStyle:fe.markdown.listStyle,mark:fe.markdown.mark,mathBlockPreview:fe.markdown.mathBlockPreview,paragraphBeginningSpace:fe.markdown.paragraphBeginningSpace,sanitize:fe.markdown.sanitize,toc:fe.markdown.toc});return Qe?.renderers&&ce.SetJSRenderers({renderers:{Md2HTML:Qe.renderers}}),ce.SetHeadingID(!0),ce.Md2HTML(ye)})},rt=function(ye,Qe,fe){return Je(void 0,void 0,void 0,function(){var ce,De,Ve,Ke;return Ue(this,function(ot){switch(ot.label){case 0:return ce=ht(fe),[4,ft(Qe,ce)];case 1:if(De=ot.sent(),ce.transform&&(De=ce.transform(De)),ye.innerHTML=De,ye.classList.add("vditor-reset"),ce.i18n)return[3,5];if(["de_DE","en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(ce.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Ke=(Ve="vditorI18nScript")+ce.lang,document.querySelectorAll('head script[id^="'.concat(Ve,'"]')).forEach(function(Ge){Ge.id!==Ke&&document.head.removeChild(Ge)}),[4,(0,le.G)("".concat(ce.cdn,"/dist/js/i18n/").concat(ce.lang,".js"),Ke)];case 3:ot.sent(),ot.label=4;case 4:return[3,6];case 5:window.VditorI18n=ce.i18n,ot.label=6;case 6:return ce.icon?[4,(0,le.G)("".concat(ce.cdn,"/dist/js/icons/").concat(ce.icon,".js"),"vditorIconScript")]:[3,8];case 7:ot.sent(),ot.label=8;case 8:return(0,W.Z)(ce.theme.current,ce.theme.path),ce.anchor===1&&ye.classList.add("vditor-reset--anchor"),(0,v.O)(ye,ce.hljs),(0,b.s)(ce.hljs,ye,ce.cdn),(0,B.H)(ye,{cdn:ce.cdn,math:ce.math}),(0,O.i)(ye,ce.cdn,ce.mode),(0,M.J)(ye,ce.cdn,ce.mode),(0,o.K)(ye,ce.cdn),(0,h.P)(ye,ce.cdn),(0,y.v)(ye,ce.cdn),(0,p.p)(ye,ce.cdn,ce.mode),(0,k.P)(ye,ce.cdn,ce.mode),(0,V.B)(ye,ce.cdn),(0,s.Q)(ye,ce.cdn),ce.render.media.enable&&(0,j.Y)(ye),ce.speech.enable&&Re(ye),ce.anchor!==0&&(ct=ce.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(Ge){ct===1&&Ge.classList.add("vditor-anchor--left"),Ge.onclick=function(){var Te=Ge.getAttribute("href").substr(1),gt=document.getElementById("vditorAnchor-"+Te).offsetTop;document.querySelector("html").scrollTop=gt}}),window.onhashchange=function(){var Ge=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Ge&&(document.querySelector("html").scrollTop=Ge.offsetTop)}),ce.after&&ce.after(),ce.lazyLoadImage&&A(ye),ye.addEventListener("click",function(Ge){var Te=(0,be.lG)(Ge.target,"SPAN");if(Te&&(0,be.fb)(Te,"vditor-toc")){var gt=ye.querySelector("#"+Te.getAttribute("data-target-id"));gt&&window.scrollTo(window.scrollX,gt.offsetTop)}}),[2]}var ct})})},K=S(190),Ct=S(580);const At=function(){function ye(){}return ye.adapterRender=u,ye.previewImage=K.E,ye.codeRender=v.O,ye.graphvizRender=y.v,ye.highlightRender=b.s,ye.mathRender=B.H,ye.mermaidRender=O.i,ye.SMILESRender=M.J,ye.markmapRender=o.K,ye.flowchartRender=h.P,ye.chartRender=p.p,ye.abcRender=s.Q,ye.mindmapRender=k.P,ye.plantumlRender=V.B,ye.outlineRender=J.k,ye.mediaRender=j.Y,ye.speechRender=Re,ye.lazyLoadImageRender=A,ye.md2html=ft,ye.preview=rt,ye.setCodeTheme=Ct.Y,ye.setContentTheme=W.Z,ye}()},145:(I,E,S)=>{"use strict";S.d(E,{H:()=>s,g:()=>u});var s="3.11.1",u=function(){function p(){}return p.ZWSP="\u200B",p.DROP_EDITOR="application/editor",p.MOBILE_WIDTH=520,p.CLASS_MENU_DISABLED="vditor-menu--disabled",p.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],p.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],p.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],p.CDN="https://unpkg.com/vditor@".concat("3.11.1"),p.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},p.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},p.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},p.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(p.CDN,"/dist/css/content-theme")},p}()},825:(I,E,S)=>{"use strict";S.d(E,{J:()=>h});var s=S(145),u=S(413),p=S(840),v=S(494),h=function(y,b,A){y===void 0&&(y=document),b===void 0&&(b=s.g.CDN);var B=p.SMILESRenderAdapter.getElements(y);B.length>0&&(0,u.G)("".concat(b,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var j=new SmiDrawer({},{});B.forEach(function(O){var M=p.SMILESRenderAdapter.getCode(O).trim();if(O.getAttribute("data-processed")!=="true"&&M.trim()!==""){var o="smiles"+(0,v.Wb)();O.innerHTML='<svg id="'.concat(o,'"></svg>'),j.draw(M,"#"+o,A==="dark"?"dark":void 0),O.setAttribute("data-processed","true")}})})}},135:(I,E,S)=>{"use strict";S.d(E,{Q:()=>v});var s=S(145),u=S(413),p=S(840),v=function(h,y){h===void 0&&(h=document),y===void 0&&(y=s.g.CDN);var b=p.abcRenderAdapter.getElements(h);b.length>0&&(0,u.G)("".concat(y,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){b.forEach(function(A){A.parentElement.classList.contains("vditor-wysiwyg__pre")||A.parentElement.classList.contains("vditor-ir__marker--pre")||A.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(A,p.abcRenderAdapter.getCode(A).trim()),A.style.overflowX="auto",A.setAttribute("data-processed","true"))})})}},840:(I,E,S)=>{"use strict";S.r(E),S.d(E,{mathRenderAdapter:()=>s,SMILESRenderAdapter:()=>u,mermaidRenderAdapter:()=>p,markmapRenderAdapter:()=>v,mindmapRenderAdapter:()=>h,chartRenderAdapter:()=>y,abcRenderAdapter:()=>b,graphvizRenderAdapter:()=>A,flowchartRenderAdapter:()=>B,plantumlRenderAdapter:()=>j});var s={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-math")}},u={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-smiles")}},p={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-mermaid")}},v={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-markmap")}},h={getCode:function(O){return O.getAttribute("data-code")},getElements:function(O){return O.querySelectorAll(".language-mindmap")}},y={getCode:function(O){return O.innerText},getElements:function(O){return O.querySelectorAll(".language-echarts")}},b={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-abc")}},A={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-graphviz")}},B={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-flowchart")}},j={getCode:function(O){return O.textContent},getElements:function(O){return O.querySelectorAll(".language-plantuml")}}},775:(I,E,S)=>{"use strict";S.d(E,{p:()=>b});var s=S(145),u=S(413),p=S(840),v=S(494),h=function(A,B,j,O){return new(j||(j=Promise))(function(M,o){function k(Q){try{V(O.next(Q))}catch(W){o(W)}}function J(Q){try{V(O.throw(Q))}catch(W){o(W)}}function V(Q){var W;Q.done?M(Q.value):(W=Q.value,W instanceof j?W:new j(function(le){le(W)})).then(k,J)}V((O=O.apply(A,B||[])).next())})},y=function(A,B){var j,O,M,o,k={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return o={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function J(V){return function(Q){return function(W){if(j)throw new TypeError("Generator is already executing.");for(;o&&(o=0,W[0]&&(k=0)),k;)try{if(j=1,O&&(M=2&W[0]?O.return:W[0]?O.throw||((M=O.return)&&M.call(O),0):O.next)&&!(M=M.call(O,W[1])).done)return M;switch(O=0,M&&(W=[2&W[0],M.value]),W[0]){case 0:case 1:M=W;break;case 4:return k.label++,{value:W[1],done:!1};case 5:k.label++,O=W[1],W=[0];continue;case 7:W=k.ops.pop(),k.trys.pop();continue;default:if(M=k.trys,!((M=M.length>0&&M[M.length-1])||W[0]!==6&&W[0]!==2)){k=0;continue}if(W[0]===3&&(!M||W[1]>M[0]&&W[1]<M[3])){k.label=W[1];break}if(W[0]===6&&k.label<M[1]){k.label=M[1],M=W;break}if(M&&k.label<M[2]){k.label=M[2],k.ops.push(W);break}M[2]&&k.ops.pop(),k.trys.pop();continue}W=B.call(A,k)}catch(le){W=[6,le],O=0}finally{j=M=0}if(5&W[0])throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}([V,Q])}}},b=function(A,B,j){A===void 0&&(A=document),B===void 0&&(B=s.g.CDN);var O=p.chartRenderAdapter.getElements(A);O.length>0&&(0,u.G)("".concat(B,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){O.forEach(function(M){return h(void 0,void 0,void 0,function(){var o,k,J;return y(this,function(V){switch(V.label){case 0:if(M.parentElement.classList.contains("vditor-wysiwyg__pre")||M.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(!(o=p.chartRenderAdapter.getCode(M).trim()))return[2];V.label=1;case 1:return V.trys.push([1,3,,4]),M.getAttribute("data-processed")==="true"?[2]:[4,(0,v.Qf)(o)];case 2:return k=V.sent(),echarts.init(M,j==="dark"?"dark":void 0).setOption(k),M.setAttribute("data-processed","true"),[3,4];case 3:return J=V.sent(),M.className="vditor-reset--error",M.innerHTML="echarts render error: <br>".concat(J),[3,4];case 4:return[2]}})})})})}},428:(I,E,S)=>{"use strict";S.d(E,{O:()=>p});var s=S(105),u=S(145),p=function(v,h){Array.from(v.querySelectorAll("pre > code")).filter(function(y,b){return!y.parentElement.classList.contains("vditor-wysiwyg__pre")&&!y.parentElement.classList.contains("vditor-ir__marker--pre")&&!(y.classList.contains("language-mermaid")||y.classList.contains("language-flowchart")||y.classList.contains("language-echarts")||y.classList.contains("language-mindmap")||y.classList.contains("language-plantuml")||y.classList.contains("language-markmap")||y.classList.contains("language-abc")||y.classList.contains("language-graphviz")||y.classList.contains("language-math")||y.classList.contains("language-smiles"))&&!(y.style.maxHeight.indexOf("px")>-1)&&!(v.classList.contains("vditor-preview")&&b>5)}).forEach(function(y){var b,A,B,j=y.innerText;if(y.classList.contains("highlight-chroma")){var O=y.cloneNode(!0);O.querySelectorAll(".highlight-ln").forEach(function(J){J.remove()}),j=O.innerText}else j.endsWith(`
`)&&(j=j.substr(0,j.length-1));var M='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(M='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var o=document.createElement("div");o.className="vditor-copy",o.innerHTML='<span aria-label="'.concat(((b=window.VditorI18n)===null||b===void 0?void 0:b.copy)||"\u590D\u5236",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((A=window.VditorI18n)===null||A===void 0?void 0:A.copy)||"\u590D\u5236",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((B=window.VditorI18n)===null||B===void 0?void 0:B.copied)||"\u5DF2\u590D\u5236",`');this.previousElementSibling.blur()">`).concat(M,"</span>");var k=document.createElement("textarea");k.value=(0,s.X)(j),o.insertAdjacentElement("afterbegin",k),h&&h.renderMenu&&h.renderMenu(y,o),y.before(o),y.style.maxHeight=window.outerHeight-40+"px",y.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(u.g.ZWSP,"</span>"))})}},325:(I,E,S)=>{"use strict";S.d(E,{P:()=>v});var s=S(145),u=S(413),p=S(840),v=function(h,y){y===void 0&&(y=s.g.CDN);var b=p.flowchartRenderAdapter.getElements(h);b.length!==0&&(0,u.G)("".concat(y,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){b.forEach(function(A){if(A.getAttribute("data-processed")!=="true"){var B=flowchart.parse(p.flowchartRenderAdapter.getCode(A));A.innerHTML="",B.drawSVG(A),A.setAttribute("data-processed","true")}})})}},483:(I,E,S)=>{"use strict";S.d(E,{v:()=>v});var s=S(145),u=S(413),p=S(840),v=function(h,y){y===void 0&&(y=s.g.CDN);var b=p.graphvizRenderAdapter.getElements(h);b.length!==0&&(0,u.G)("".concat(y,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){b.forEach(function(A){var B=p.graphvizRenderAdapter.getCode(A);if(!A.parentElement.classList.contains("vditor-wysiwyg__pre")&&!A.parentElement.classList.contains("vditor-ir__marker--pre")&&A.getAttribute("data-processed")!=="true"&&B.trim()!==""){try{var j=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),O=(window.URL||window.webkitURL).createObjectURL(j),M=new Worker(O);new Viz({worker:M}).renderSVGElement(B).then(function(o){A.innerHTML=o.outerHTML}).catch(function(o){A.innerHTML="graphviz render error: <br>".concat(o),A.className="vditor-reset--error"})}catch(o){console.error("graphviz error",o)}A.setAttribute("data-processed","true")}})})}},999:(I,E,S)=>{"use strict";S.d(E,{s:()=>v});var s=S(145),u=S(413),p=S(290),v=function(h,y,b){y===void 0&&(y=document),b===void 0&&(b=s.g.CDN);var A=h.style;s.g.CODE_THEME.includes(A)||(A="github");var B=document.getElementById("vditorHljsStyle"),j="".concat(b,"/dist/js/highlight.js/styles/").concat(A,".min.css");B&&B.getAttribute("href")!==j&&B.remove(),(0,p.c)("".concat(b,"/dist/js/highlight.js/styles/").concat(A,".min.css"),"vditorHljsStyle"),h.enable!==!1&&y.querySelectorAll("pre > code").length!==0&&(0,u.G)("".concat(b,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,u.G)("".concat(b,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){y.querySelectorAll("pre > code").forEach(function(O){if(!O.parentElement.classList.contains("vditor-ir__marker--pre")&&!O.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(O.classList.contains("language-mermaid")||O.classList.contains("language-flowchart")||O.classList.contains("language-echarts")||O.classList.contains("language-mindmap")||O.classList.contains("language-plantuml")||O.classList.contains("language-smiles")||O.classList.contains("language-abc")||O.classList.contains("language-graphviz")||O.classList.contains("language-math"))){h.defaultLang!==""&&O.className.indexOf("language-")===-1&&O.classList.add("language-"+h.defaultLang);var M=O.className.replace("language-","");if(window.hljs.getLanguage(M)||(M="plaintext"),O.innerHTML=window.hljs.highlight(O.textContent,{language:M,ignoreIllegals:!0}).value,O.classList.add("hljs"),h.lineNumber){O.classList.add("vditor-linenumber");var o=O.querySelector(".vditor-linenumber__temp");o||((o=document.createElement("div")).className="vditor-linenumber__temp",O.insertAdjacentElement("beforeend",o));var k=getComputedStyle(O).whiteSpace,J=!1;k!=="pre-wrap"&&k!=="pre-line"||(J=!0);var V="",Q=O.textContent.split(/\r\n|\r|\n/g);Q.pop(),Q.map(function(W){var le="";J&&(o.textContent=W||`
`,le=' style="height:'.concat(o.getBoundingClientRect().height,'px"')),V+="<span".concat(le,"></span>")}),o.style.display="none",V='<span class="vditor-linenumber__rows">'.concat(V,"</span>"),O.insertAdjacentHTML("beforeend",V)}}})})})}},11:(I,E,S)=>{"use strict";S.d(E,{K:()=>y});var s=S(145),u=S(413),p=S(840),v={},h=function(b,A){var B=window.markmap,j=B.Transformer,O=B.Markmap,M=B.deriveOptions,o=(B.globalCSS,new j);b.innerHTML='<svg style="width:100%"></svg>';var k=b.firstChild,J=O.create(k,null),V=function(be,$e){var Ee=be.transform($e),He=Object.keys(Ee.features).filter(function(ft){return!v[ft]});He.forEach(function(ft){v[ft]=!0});var Re=be.getAssets(He),Je=Re.styles,Ue=Re.scripts,ht=window.markmap;return Je&&ht.loadCSS(Je),Ue&&ht.loadJS(Ue),Ee}(o,A),Q=V.root,W=V.frontmatter,le=M(W?.markmap);J.setData(Q,le),J.fit()},y=function(b,A){b===void 0&&(b=document),A===void 0&&(A=s.g.CDN);var B=p.markmapRenderAdapter.getElements(b);B.length!==0&&(0,u.G)("".concat(A,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){B.forEach(function(j){var O=p.markmapRenderAdapter.getCode(j);if(j.getAttribute("data-processed")!=="true"&&O.trim()!==""){var M=document.createElement("div");M.className="language-markmap",j.parentNode.appendChild(M),h(M,O),j.parentNode.childNodes[0].nodeName=="CODE"&&j.parentNode.removeChild(j.parentNode.childNodes[0])}})})}},472:(I,E,S)=>{"use strict";S.d(E,{H:()=>y});var s=S(145),u=S(413),p=S(290),v=S(105),h=S(840),y=function(b,A){b===void 0&&(b=document);var B=h.mathRenderAdapter.getElements(b);if(B.length!==0){var j={cdn:s.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(A&&A.math&&(A.math=Object.assign({},j.math,A.math)),(A=Object.assign({},j,A)).math.engine==="KaTeX")(0,p.c)("".concat(A.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,u.G)("".concat(A.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,u.G)("".concat(A.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){B.forEach(function(M){if(!M.parentElement.classList.contains("vditor-wysiwyg__pre")&&!M.parentElement.classList.contains("vditor-ir__marker--pre")&&!M.getAttribute("data-math")){var o=(0,v.X)(h.mathRenderAdapter.getCode(M));M.setAttribute("data-math",o);try{M.innerHTML=katex.renderToString(o,{displayMode:M.tagName==="DIV",output:"html",macros:A.math.macros})}catch(k){M.innerHTML=k.message,M.className="language-math vditor-reset--error"}M.addEventListener("copy",function(k){k.stopPropagation(),k.preventDefault();var J=k.currentTarget.closest(".language-math");k.clipboardData.setData("text/html",J.innerHTML),k.clipboardData.setData("text/plain",J.getAttribute("data-math"))})}})})});else if(A.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(A.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:A.math.macros}},Object.assign(window.MathJax,A.math.mathJaxOptions)),(0,u.J)("".concat(A.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var O=function(M,o){var k=(0,v.X)(M.textContent).trim(),J=window.MathJax.getMetricsFor(M);J.display=M.tagName==="DIV",window.MathJax.tex2svgPromise(k,J).then(function(V){M.innerHTML="",M.setAttribute("data-math",k),M.append(V),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var Q=V.querySelector('[data-mml-node="merror"]');Q&&Q.textContent.trim()!==""&&(M.innerHTML=Q.textContent.trim(),M.className="vditor-reset--error"),o&&o()})};window.MathJax.startup.promise.then(function(){for(var M=[],o=function(J){var V=B[J];V.parentElement.classList.contains("vditor-wysiwyg__pre")||V.parentElement.classList.contains("vditor-ir__marker--pre")||V.getAttribute("data-math")||!(0,v.X)(V.textContent).trim()||M.push(function(Q){J===B.length-1?O(V):O(V,Q)})},k=0;k<B.length;k++)o(k);(function(J){if(J.length!==0){var V=0,Q=J[J.length-1],W=function(){var le=J[V++];le===Q?le():le(W)};W()}})(M)})}}}},280:(I,E,S)=>{"use strict";S.d(E,{Y:()=>u});var s=S(494),u=function(p){p&&p.querySelectorAll("a").forEach(function(v){var h=v.getAttribute("href");h&&(h.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(y,b){y.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(b,'"></video>')),y.remove()}(v,h):h.match(/^.+.(mp3|wav|flac)$/)?function(y,b){y.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(b,'"></audio>')),y.remove()}(v,h):function(y,b){var A=b.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),B=b.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),j=b.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),O=b.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),M=b.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),o=b.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),k=b.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),J=b.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(A&&A[1].length===11)y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(A[1]+(A[2]?"?start="+A[2]:""),'"></iframe>')),y.remove();else if(B&&B[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(B[1],'"></iframe>')),y.remove();else if(j&&j[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(j[1],'"></iframe>')),y.remove();else if(O&&O[1])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(O[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),y.remove();else if(M&&M[0])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(M[0]),'"></iframe>')),y.remove();else if(o&&o[2])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(o[2],'"></iframe>')),y.remove();else if(b.indexOf("bilibili.com")>-1&&(b.indexOf("bvid=")>-1||k&&k[1])){var V={bvid:(0,s.on)("bvid",b)||k&&k[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(b.startsWith("http")?b:"https:"+b).search.split("&").forEach(function(le,be){if(le){be===0&&(le=le.substr(1));var $e=le.split("=");V[$e[0]]=$e[1]}});var Q="https://player.bilibili.com/player.html?",W=Object.keys(V);W.forEach(function(le,be){Q+="".concat(le,"=").concat(V[le]),be<W.length-1&&(Q+="&")}),y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(Q,'"></iframe>')),y.remove()}else J&&J[1]&&(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(J[1],'"></iframe>')),y.remove())}(v,h))})}},637:(I,E,S)=>{"use strict";S.d(E,{i:()=>b});var s=S(145),u=S(413),p=S(840),v=S(494),h=function(A,B,j,O){return new(j||(j=Promise))(function(M,o){function k(Q){try{V(O.next(Q))}catch(W){o(W)}}function J(Q){try{V(O.throw(Q))}catch(W){o(W)}}function V(Q){var W;Q.done?M(Q.value):(W=Q.value,W instanceof j?W:new j(function(le){le(W)})).then(k,J)}V((O=O.apply(A,B||[])).next())})},y=function(A,B){var j,O,M,o,k={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return o={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function J(V){return function(Q){return function(W){if(j)throw new TypeError("Generator is already executing.");for(;o&&(o=0,W[0]&&(k=0)),k;)try{if(j=1,O&&(M=2&W[0]?O.return:W[0]?O.throw||((M=O.return)&&M.call(O),0):O.next)&&!(M=M.call(O,W[1])).done)return M;switch(O=0,M&&(W=[2&W[0],M.value]),W[0]){case 0:case 1:M=W;break;case 4:return k.label++,{value:W[1],done:!1};case 5:k.label++,O=W[1],W=[0];continue;case 7:W=k.ops.pop(),k.trys.pop();continue;default:if(M=k.trys,!((M=M.length>0&&M[M.length-1])||W[0]!==6&&W[0]!==2)){k=0;continue}if(W[0]===3&&(!M||W[1]>M[0]&&W[1]<M[3])){k.label=W[1];break}if(W[0]===6&&k.label<M[1]){k.label=M[1],M=W;break}if(M&&k.label<M[2]){k.label=M[2],k.ops.push(W);break}M[2]&&k.ops.pop(),k.trys.pop();continue}W=B.call(A,k)}catch(le){W=[6,le],O=0}finally{j=M=0}if(5&W[0])throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}([V,Q])}}},b=function(A,B,j){A===void 0&&(A=document),B===void 0&&(B=s.g.CDN);var O=p.mermaidRenderAdapter.getElements(A);O.length!==0&&(0,u.G)("".concat(B,"/dist/js/mermaid/mermaid.min.js?v=11.6.0"),"vditorMermaidScript").then(function(){var M={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};j==="dark"&&(M.theme="dark"),mermaid.initialize(M),O.forEach(function(o){return h(void 0,void 0,void 0,function(){var k,J,V,Q,W;return y(this,function(le){switch(le.label){case 0:if(k=p.mermaidRenderAdapter.getCode(o),o.getAttribute("data-processed")==="true"||k.trim()==="")return[2];J="mermaid"+(0,v.Wb)(),le.label=1;case 1:return le.trys.push([1,3,,4]),[4,mermaid.render(J,o.textContent)];case 2:return V=le.sent(),o.innerHTML=V.svg,[3,4];case 3:return Q=le.sent(),W=document.querySelector("#"+J),o.innerHTML="".concat(W.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(Q.message.replace(/\n/,"<br>"),"</small></div>"),W.parentElement.remove(),[3,4];case 4:return o.setAttribute("data-processed","true"),[2]}})})})})}},194:(I,E,S)=>{"use strict";S.d(E,{P:()=>v});var s=S(145),u=S(413),p=S(840),v=function(h,y,b){h===void 0&&(h=document),y===void 0&&(y=s.g.CDN);var A=p.mindmapRenderAdapter.getElements(h);A.length>0&&(0,u.G)("".concat(y,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){A.forEach(function(B){if(!B.parentElement.classList.contains("vditor-wysiwyg__pre")&&!B.parentElement.classList.contains("vditor-ir__marker--pre")){var j=p.mindmapRenderAdapter.getCode(B);if(j)try{if(B.getAttribute("data-processed")==="true")return;echarts.init(B,b==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(j))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(O,M){var o;return!((o=M?.data)===null||o===void 0)&&o.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),B.setAttribute("data-processed","true")}catch(O){B.className="vditor-reset--error",B.innerHTML="mindmap render error: <br>".concat(O)}}})})}},436:(I,E,S)=>{"use strict";S.d(E,{k:()=>p});var s=S(771),u=S(472),p=function(v,h,y){var b="",A=[];if(Array.from(v.children).forEach(function(M,o){if((0,s.W)(M)){if(y){var k=M.id.lastIndexOf("_");M.id=M.id.substring(0,k===-1?void 0:k)+"_"+o}A.push(M.id),b+=M.outerHTML.replace("<wbr>","")}}),b==="")return h.innerHTML="","";var B=document.createElement("div");if(y)y.lute.SetToC(!0),y.currentMode!=="wysiwyg"||y.preview.element.contains(v)?y.currentMode!=="ir"||y.preview.element.contains(v)?B.innerHTML=y.lute.HTML2VditorDOM("<p>[ToC]</p>"+b):B.innerHTML=y.lute.SpinVditorIRDOM("<p>[ToC]</p>"+b):B.innerHTML=y.lute.SpinVditorDOM("<p>[ToC]</p>"+b),y.lute.SetToC(y.options.preview.markdown.toc);else{h.classList.add("vditor-outline");var j=Lute.New();j.SetToC(!0),B.innerHTML=j.HTML2VditorDOM("<p>[ToC]</p>"+b)}var O=B.firstElementChild.querySelectorAll("li > span[data-target-id]");return O.forEach(function(M,o){if(M.nextElementSibling&&M.nextElementSibling.tagName==="UL"){var k="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(k='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),M.innerHTML="".concat(k,"<span>").concat(M.innerHTML,"</span>")}else M.innerHTML="<svg></svg><span>".concat(M.innerHTML,"</span>");M.setAttribute("data-target-id",A[o])}),b=B.firstElementChild.innerHTML,O.length===0?(h.innerHTML="",b):(h.innerHTML=b,y&&(0,u.H)(h,{cdn:y.options.cdn,math:y.options.preview.math}),h.firstElementChild.addEventListener("click",function(M){for(var o=M.target;o&&!o.isEqualNode(h);){if(o.classList.contains("vditor-outline__action")){o.classList.contains("vditor-outline__action--close")?(o.classList.remove("vditor-outline__action--close"),o.parentElement.nextElementSibling.setAttribute("style","display:block")):(o.classList.add("vditor-outline__action--close"),o.parentElement.nextElementSibling.setAttribute("style","display:none")),M.preventDefault(),M.stopPropagation();break}if(o.getAttribute("data-target-id")){M.preventDefault(),M.stopPropagation();var k=document.getElementById(o.getAttribute("data-target-id"));if(!k)return;if(y)if(y.options.height==="auto"){var J=k.offsetTop+y.element.offsetTop;y.options.toolbarConfig.pin||(J+=y.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,J)}else y.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,y.element.offsetTop),y.preview.element.contains(v)?v.parentElement.scrollTop=k.offsetTop:v.scrollTop=k.offsetTop;else window.scrollTo(window.scrollX,k.offsetTop);break}o=o.parentElement}}),b)}},229:(I,E,S)=>{"use strict";S.d(E,{B:()=>v});var s=S(145),u=S(413),p=S(840),v=function(h,y){h===void 0&&(h=document),y===void 0&&(y=s.g.CDN);var b=p.plantumlRenderAdapter.getElements(h);b.length!==0&&(0,u.G)("".concat(y,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){b.forEach(function(A){if(!A.parentElement.classList.contains("vditor-wysiwyg__pre")&&!A.parentElement.classList.contains("vditor-ir__marker--pre")){var B=p.plantumlRenderAdapter.getCode(A).trim();if(B)try{A.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(B),'"/>')}catch(j){A.className="vditor-reset--error",A.innerHTML="plantuml render error: <br>".concat(j)}}})})}},214:(I,E,S)=>{"use strict";S.d(E,{X:()=>s});var s=function(u){var p=Lute.New();return p.PutEmojis(u.emojis),p.SetEmojiSite(u.emojiSite),p.SetHeadingAnchor(u.headingAnchor),p.SetInlineMathAllowDigitAfterOpenMarker(u.inlineMathDigit),p.SetAutoSpace(u.autoSpace),p.SetToC(u.toc),p.SetFootnotes(u.footnotes),p.SetFixTermTypo(u.fixTermTypo),p.SetVditorCodeBlockPreview(u.codeBlockPreview),p.SetVditorMathBlockPreview(u.mathBlockPreview),p.SetSanitize(u.sanitize),p.SetChineseParagraphBeginningSpace(u.paragraphBeginningSpace),p.SetRenderListStyle(u.listStyle),p.SetLinkBase(u.linkBase),p.SetLinkPrefix(u.linkPrefix),p.SetMark(u.mark),p.SetGFMAutoLink(u.gfmAutoLink),u.lazyLoadImage&&p.SetImageLazyLoading(u.lazyLoadImage),p}},190:(I,E,S)=>{"use strict";S.d(E,{E:()=>s});var s=function(u,p,v){p===void 0&&(p="zh_CN"),v===void 0&&(v="classic");var h=u.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(v==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(u.width,"px;height:").concat(u.height,"px;transform: translate3d(").concat(h.left,"px, ").concat(h.top-36,'px, 0)" src="').concat(u.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var y=document.querySelector(".vditor-img img"),b="translate3d(".concat(Math.max(0,window.innerWidth-u.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-36-u.naturalHeight)/2,"px, 0)");setTimeout(function(){y.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(b)),setTimeout(function(){y.parentElement.scrollTo((y.parentElement.scrollWidth-y.parentElement.clientWidth)/2,(y.parentElement.scrollHeight-y.parentElement.clientHeight)/2)},400)});var A=document.querySelector(".vditor-img__btn");A.addEventListener("click",function(){var B=parseInt(A.getAttribute("data-deg"),10)+90;B/90%2==1&&u.naturalWidth>y.parentElement.clientHeight?y.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-u.naturalWidth)/2,"px, ").concat(u.naturalWidth/2-u.naturalHeight/2,"px, 0) rotateZ(").concat(B,"deg)"):y.style.transform="".concat(b," rotateZ(").concat(B,"deg)"),A.setAttribute("data-deg",B.toString()),setTimeout(function(){y.parentElement.scrollTo((y.parentElement.scrollWidth-y.parentElement.clientWidth)/2,(y.parentElement.scrollHeight-y.parentElement.clientHeight)/2)},400)})}},580:(I,E,S)=>{"use strict";S.d(E,{Y:()=>p});var s=S(145),u=S(290),p=function(v,h){h===void 0&&(h=s.g.CDN),s.g.CODE_THEME.includes(v)||(v="github");var y=document.getElementById("vditorHljsStyle"),b="".concat(h,"/dist/js/highlight.js/styles/").concat(v,".min.css");y?y.getAttribute("href")!==b&&(y.remove(),(0,u.c)(b,"vditorHljsStyle")):(0,u.c)(b,"vditorHljsStyle")}},538:(I,E,S)=>{"use strict";S.d(E,{Z:()=>u});var s=S(290),u=function(p,v){if(p&&v){var h=document.getElementById("vditorContentTheme"),y="".concat(v,"/").concat(p,".css");h?h.getAttribute("href")!==y&&(h.remove(),(0,s.c)(y,"vditorContentTheme")):(0,s.c)(y,"vditorContentTheme")}}},413:(I,E,S)=>{"use strict";S.d(E,{J:()=>s,G:()=>u});var s=function(p,v){if(document.getElementById(v))return!1;var h=new XMLHttpRequest;h.open("GET",p,!1),h.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),h.send("");var y=document.createElement("script");y.type="text/javascript",y.text=h.responseText,y.id=v,document.head.appendChild(y)},u=function(p,v){return new Promise(function(h,y){if(document.getElementById(v))return h(!0),!1;var b=document.createElement("script");b.src=p,b.async=!0,document.head.appendChild(b),b.onerror=function(A){y(A)},b.onload=function(){if(document.getElementById(v))return b.remove(),h(!0),!1;b.id=v,h(!0)}})}},290:(I,E,S)=>{"use strict";S.d(E,{c:()=>s});var s=function(u,p){if(!document.getElementById(p)){var v=document.createElement("link");v.id=p,v.rel="stylesheet",v.type="text/css",v.href=u,document.getElementsByTagName("head")[0].appendChild(v)}}},105:(I,E,S)=>{"use strict";S.d(E,{X:()=>s});var s=function(u){return u.replace(/\u00a0/g," ")}},410:(I,E,S)=>{"use strict";S.d(E,{G6:()=>s,vU:()=>u,pK:()=>p,Le:()=>v,yl:()=>h,ns:()=>y,i7:()=>b});var s=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},u=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},p=function(){try{return typeof localStorage<"u"}catch{return!1}},v=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},h=function(A){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!A.metaKey||A.ctrlKey):!(A.metaKey||!A.ctrlKey)},y=function(A){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?A.indexOf("\u21E7")>-1&&u()&&(A=A.replace(";",":").replace("=","+").replace("-","_")):(A=(A=A.startsWith("\u2318")?A.replace("\u2318","\u2318+"):A.startsWith("\u2325")&&A.substr(1,1)!=="\u2318"?A.replace("\u2325","\u2325+"):A.replace("\u21E7\u2318","\u2318+\u21E7+").replace("\u2325\u2318","\u2325+\u2318+")).replace("\u2318","Ctrl").replace("\u21E7","Shift").replace("\u2325","Alt")).indexOf("Shift")>-1&&(A=A.replace(";",":").replace("=","+").replace("-","_")),A},b=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},494:(I,E,S)=>{"use strict";S.d(E,{Wb:()=>s,on:()=>u,Qf:()=>p});var s=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(v){return(parseInt(v,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(v,10)/4).toString(16)})},u=function(v,h){h===void 0&&(h=window.location.search);var y=h.substring(h.indexOf("?")),b=y.indexOf("#");return new URLSearchParams(y.substring(0,b>=0?b:void 0)).get(v)},p=function(v){return Function('"use strict";return ('.concat(v,")"))()}},106:(I,E,S)=>{"use strict";S.d(E,{JQ:()=>u,E2:()=>p,O9:()=>v,a1:()=>h,F9:()=>y,lG:()=>b,fb:()=>A,DX:()=>B});var s=S(771),u=function(j,O){for(var M=A(j,O),o=!1,k=!1;M&&!M.classList.contains("vditor-reset")&&!k;)(o=A(M.parentElement,O))?M=o:k=!0;return M||!1},p=function(j,O){for(var M=(0,s.S)(j,O),o=!1,k=!1;M&&!M.classList.contains("vditor-reset")&&!k;)(o=(0,s.S)(M.parentElement,O))?M=o:k=!0;return M||!1},v=function(j){var O=p(j,"UL"),M=p(j,"OL"),o=O;return M&&(!O||O&&M.contains(O))&&(o=M),o},h=function(j,O,M){if(!j)return!1;j.nodeType===3&&(j=j.parentElement);for(var o=j,k=!1;o&&!k&&!o.classList.contains("vditor-reset");)o.getAttribute(O)===M?k=!0:o=o.parentElement;return k&&o},y=function(j){if(!j)return!1;j.nodeType===3&&(j=j.parentElement);var O=j,M=!1,o=h(j,"data-block","0");if(o)return o;for(;O&&!M&&!O.classList.contains("vditor-reset");)O.tagName==="H1"||O.tagName==="H2"||O.tagName==="H3"||O.tagName==="H4"||O.tagName==="H5"||O.tagName==="H6"||O.tagName==="P"||O.tagName==="BLOCKQUOTE"||O.tagName==="OL"||O.tagName==="UL"?M=!0:O=O.parentElement;return M&&O},b=function(j,O){if(!j)return!1;j.nodeType===3&&(j=j.parentElement);for(var M=j,o=!1;M&&!o&&!M.classList.contains("vditor-reset");)M.nodeName===O?o=!0:M=M.parentElement;return o&&M},A=function(j,O){if(!j)return!1;j.nodeType===3&&(j=j.parentElement);for(var M=j,o=!1;M&&!o&&!M.classList.contains("vditor-reset");)M.classList.contains(O)?o=!0:M=M.parentElement;return o&&M},B=function(j){for(;j&&j.lastChild;)j=j.lastChild;return j}},771:(I,E,S)=>{"use strict";S.d(E,{S:()=>s,W:()=>u});var s=function(p,v){if(!p)return!1;p.nodeType===3&&(p=p.parentElement);for(var h=p,y=!1;h&&!y&&!h.classList.contains("vditor-reset");)h.nodeName.indexOf(v)===0?y=!0:h=h.parentElement;return y&&h},u=function(p){var v=s(p,"H");return!(!v||v.tagName.length!==2||v.tagName==="HR")&&v}},673:(I,E,S)=>{"use strict";S.d(E,{T:()=>s});var s=function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];for(var v={},h=function(b){for(var A in b)b.hasOwnProperty(A)&&(Object.prototype.toString.call(b[A])==="[object Object]"?v[A]=s(v[A],b[A]):v[A]=b[A])},y=0;y<u.length;y++)h(u[y]);return v}},810:(I,E,S)=>{"use strict";S.d(E,{zh:()=>v,Ny:()=>h,Gb:()=>y,Hc:()=>b,im:()=>A,$j:()=>B,ib:()=>j,oC:()=>O});var s=S(145),u=S(410),p=S(106),v=function(M){var o,k=M[M.currentMode].element;return getSelection().rangeCount>0&&(o=getSelection().getRangeAt(0),k.isEqualNode(o.startContainer)||k.contains(o.startContainer))?o:M[M.currentMode].range?M[M.currentMode].range:(k.focus(),(o=k.ownerDocument.createRange()).setStart(k,0),o.collapse(!0),o)},h=function(M){var o=window.getSelection().getRangeAt(0);if(!M.contains(o.startContainer)&&!(0,p.fb)(o.startContainer,"vditor-panel--none"))return{left:0,top:0};var k,J=M.parentElement.getBoundingClientRect();if(o.getClientRects().length===0)if(o.startContainer.nodeType===3){var V=o.startContainer.parentElement;if(!(V&&V.getClientRects().length>0))return{left:0,top:0};k=V.getClientRects()[0]}else{var Q=o.startContainer.children;if(Q[o.startOffset]&&Q[o.startOffset].getClientRects().length>0)k=Q[o.startOffset].getClientRects()[0];else if(o.startContainer.childNodes.length>0){var W=o.cloneRange();o.selectNode(o.startContainer.childNodes[Math.max(0,o.startOffset-1)]),k=o.getClientRects()[0],o.setEnd(W.endContainer,W.endOffset),o.setStart(W.startContainer,W.startOffset)}else k=o.startContainer.getClientRects()[0];if(!k){for(var le=o.startContainer.childNodes[o.startOffset];!le.getClientRects||le.getClientRects&&le.getClientRects().length===0;)le=le.parentElement;k=le.getClientRects()[0]}}else k=o.getClientRects()[0];return{left:k.left-J.left,top:k.top-J.top}},y=function(M,o){if(!o){if(getSelection().rangeCount===0)return!1;o=getSelection().getRangeAt(0)}var k=o.commonAncestorContainer;return M.isEqualNode(k)||M.contains(k)},b=function(M){var o=window.getSelection();o.removeAllRanges(),o.addRange(M)},A=function(M,o,k){var J={end:0,start:0};if(!k){if(getSelection().rangeCount===0)return J;k=window.getSelection().getRangeAt(0)}if(y(o,k)){var V=k.cloneRange();M.childNodes[0]&&M.childNodes[0].childNodes[0]?V.setStart(M.childNodes[0].childNodes[0],0):V.selectNodeContents(M),V.setEnd(k.startContainer,k.startOffset),J.start=V.toString().length,J.end=J.start+k.toString().length}return J},B=function(M,o,k){var J=0,V=0,Q=k.childNodes[V],W=!1,le=!1;M=Math.max(0,M),o=Math.max(0,o);var be=k.ownerDocument.createRange();for(be.setStart(Q||k,0),be.collapse(!0);!le&&Q;){var $e=J+Q.textContent.length;if(!W&&M>=J&&M<=$e&&(M===0?be.setStart(Q,0):Q.childNodes[0].nodeType===3?be.setStart(Q.childNodes[0],M-J):Q.nextSibling?be.setStartBefore(Q.nextSibling):be.setStartAfter(Q),W=!0,M===o)){le=!0;break}W&&o>=J&&o<=$e&&(o===0?be.setEnd(Q,0):Q.childNodes[0].nodeType===3?be.setEnd(Q.childNodes[0],o-J):Q.nextSibling?be.setEndBefore(Q.nextSibling):be.setEndAfter(Q),le=!0),J=$e,Q=k.childNodes[++V]}return!le&&k.childNodes[V-1]&&be.setStartBefore(k.childNodes[V-1]),b(be),be},j=function(M,o){var k=M.querySelector("wbr");if(k){if(k.previousElementSibling)if(k.previousElementSibling.isSameNode(k.previousSibling)){if(k.previousElementSibling.lastChild)return o.setStartBefore(k),o.collapse(!0),b(o),!(0,u.i7)()||k.previousElementSibling.tagName!=="EM"&&k.previousElementSibling.tagName!=="STRONG"&&k.previousElementSibling.tagName!=="S"||(o.insertNode(document.createTextNode(s.g.ZWSP)),o.collapse(!1)),void k.remove();o.setStartAfter(k.previousElementSibling)}else o.setStart(k.previousSibling,k.previousSibling.textContent.length);else k.previousSibling?o.setStart(k.previousSibling,k.previousSibling.textContent.length):k.nextSibling?k.nextSibling.nodeType===3?o.setStart(k.nextSibling,0):o.setStartBefore(k.nextSibling):o.setStart(k.parentElement,0);o.collapse(!0),k.remove(),b(o)}},O=function(M,o){var k=document.createElement("div");k.innerHTML=M;var J=k.querySelectorAll("p");J.length===1&&!J[0].previousSibling&&!J[0].nextSibling&&o[o.currentMode].element.children.length>0&&k.firstElementChild.tagName==="P"&&(M=J[0].innerHTML.trim());var V=document.createElement("div");V.innerHTML=M;var Q=v(o);if(Q.toString()!==""&&(o[o.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),V.firstElementChild&&V.firstElementChild.getAttribute("data-block")==="0"){V.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var W=(0,p.F9)(Q.startContainer);W?W.insertAdjacentHTML("afterend",V.innerHTML):o[o.currentMode].element.insertAdjacentHTML("beforeend",V.innerHTML),j(o[o.currentMode].element,Q)}else{var le=document.createElement("template");le.innerHTML=M,Q.insertNode(le.content.cloneNode(!0)),Q.collapse(!1),b(Q)}}}},w={};function ve(I){var E=w[I];if(E!==void 0)return E.exports;var S=w[I]={exports:{}};return C[I](S,S.exports,ve),S.exports}ve.d=(I,E)=>{for(var S in E)ve.o(E,S)&&!ve.o(I,S)&&Object.defineProperty(I,S,{enumerable:!0,get:E[S]})},ve.o=(I,E)=>Object.prototype.hasOwnProperty.call(I,E),ve.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var P={};return(()=>{"use strict";ve.d(P,{default:()=>pi});var I,E=ve(408),S=ve(145),s=ve(105),u=function(e){return e.currentMode==="sv"?(0,s.X)("".concat(e.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},p=ve(413),v=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(t){var n=this;t.devtools.element.style.display==="block"&&(0,p.G)("".concat(t.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){n.ASTChart||(n.ASTChart=echarts.init(t.devtools.element.lastElementChild));try{n.element.lastElementChild.style.display="block",n.element.firstElementChild.innerHTML="",n.ASTChart.setOption({series:[{data:JSON.parse(t.lute.RenderEChartsJSON(u(t))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),n.ASTChart.resize()}catch(a){n.element.lastElementChild.style.display="none",n.element.firstElementChild.innerHTML=a}})},e}(),h=ve(410),y=function(e,t){t.forEach(function(n){if(e[n]){var a=e[n].children[0];a&&a.classList.contains("vditor-menu--current")&&a.classList.remove("vditor-menu--current")}})},b=function(e,t){t.forEach(function(n){if(e[n]){var a=e[n].children[0];a&&!a.classList.contains("vditor-menu--current")&&a.classList.add("vditor-menu--current")}})},A=function(e,t){t.forEach(function(n){if(e[n]){var a=e[n].children[0];a&&a.classList.contains(S.g.CLASS_MENU_DISABLED)&&a.classList.remove(S.g.CLASS_MENU_DISABLED)}})},B=function(e,t){t.forEach(function(n){if(e[n]){var a=e[n].children[0];a&&!a.classList.contains(S.g.CLASS_MENU_DISABLED)&&a.classList.add(S.g.CLASS_MENU_DISABLED)}})},j=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="none")})},O=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="block")})},M=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(a){n&&a.isEqualNode(n)||(a.style.display="none")}),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},o=function(e,t,n,a){n.addEventListener((0,h.Le)(),function(r){r.preventDefault(),r.stopPropagation(),n.classList.contains(S.g.CLASS_MENU_DISABLED)||(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(c){c.classList.remove("vditor-hint--current")}),t.style.display==="block"?t.style.display="none":(M(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))})},k=ve(106),J=ve(771),V=function(e,t,n,a){a&&console.log("".concat(e," - ").concat(n,": ").concat(t))},Q=ve(135),W=ve(775),le=ve(428),be=ve(325),$e=ve(483),Ee=ve(999),He=ve(472),Re=ve(637),Je=ve(11),Ue=ve(194),ht=ve(229),ft=ve(825),rt=function(e,t){if(e)if(e.parentElement.getAttribute("data-type")!=="html-block"){var n=e.firstElementChild.className.replace("language-","");n==="abc"?(0,Q.Q)(e,t.options.cdn):n==="mermaid"?(0,Re.i)(e,t.options.cdn,t.options.theme):n==="smiles"?(0,ft.J)(e,t.options.cdn,t.options.theme):n==="markmap"?(0,Je.K)(e,t.options.cdn):n==="flowchart"?(0,be.P)(e,t.options.cdn):n==="echarts"?(0,W.p)(e,t.options.cdn,t.options.theme):n==="mindmap"?(0,Ue.P)(e,t.options.cdn,t.options.theme):n==="plantuml"?(0,ht.B)(e,t.options.cdn):n==="graphviz"?(0,$e.v)(e,t.options.cdn):n==="math"?(0,He.H)(e,{cdn:t.options.cdn,math:t.options.preview.math}):t.options.customRenders.find(function(a){if(a.language===n)return a.render(e,t),!0})||((0,Ee.s)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),(0,le.O)(e,t.options.preview.hljs)),e.setAttribute("data-render","1")}else e.setAttribute("data-render","1")},K=ve(810),Ct=function(e){if(e.currentMode!=="sv"){var t=e[e.currentMode].element,n=e.outline.render(e);n===""&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach(function(a){a.innerHTML=n,(0,He.H)(a,{cdn:e.options.cdn,math:e.options.preview.math})})}},At=function(e,t){var n=(0,k.lG)(e.target,"SPAN");if(n&&(0,k.fb)(n,"vditor-toc")){var a=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(a)if(t.options.height==="auto"){var r=a.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(r+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,r)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=a.offsetTop}},ye=function(e,t,n,a){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if(n.key==="Backspace"&&(0,K.im)(e,t[t.currentMode].element,a).start===0)return e.previousElementSibling.remove(),We(t),!0;if(Gt(t,n,a,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if(n.key==="Delete"&&(0,K.im)(e,t[t.currentMode].element,a).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),We(t),!0;if(tn(t,n,a,e,e.nextElementSibling))return!0}if(n.key==="Backspace"||n.key==="Delete"){var r=(0,k.fb)(a.startContainer,"vditor-toc");if(r)return r.remove(),We(t),!0}},Qe=function(e,t,n,a){n===void 0&&(n=!1);var r=(0,k.F9)(t.startContainer);if(r&&!n&&r.getAttribute("data-type")!=="code-block"){if(Sn(r.innerHTML)&&r.previousElementSibling||ei(r.innerHTML))return;for(var c=(0,K.im)(r,e.ir.element,t).start,g=!0,T=c-1;T>r.textContent.substr(0,c).lastIndexOf(`
`);T--)if(r.textContent.charAt(T)!==" "&&r.textContent.charAt(T)!=="	"){g=!1;break}c===0&&(g=!1);var H=!0;for(T=c-1;T<r.textContent.length;T++)if(r.textContent.charAt(T)!==" "&&r.textContent.charAt(T)!==`
`){H=!1;break}if(g)return void(typeof e.options.input=="function"&&e.options.input(u(e)));if(H&&/^#{1,6} $/.test(r.textContent)&&(H=!1),H&&!(0,k.fb)(t.startContainer,"vditor-ir__marker")){var N=t.startContainer.previousSibling;return N&&N.nodeType!==3&&N.classList.contains("vditor-ir__node--expand")&&N.classList.remove("vditor-ir__node--expand"),void(typeof e.options.input=="function"&&e.options.input(u(e)))}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(xe){xe.classList.remove("vditor-ir__node--expand")}),r||(r=e.ir.element),!r.querySelector("wbr")){var _=(0,k.fb)(t.startContainer,"vditor-ir__preview");_?_.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}r.querySelectorAll("[style]").forEach(function(xe){xe.removeAttribute("style")}),r.getAttribute("data-type")==="link-ref-defs-block"&&(r=e.ir.element);var Z,ee=r.isEqualNode(e.ir.element),ge=(0,k.a1)(r,"data-type","footnotes-block"),z="";if(ee)z=r.innerHTML;else{var he=(0,J.S)(t.startContainer,"BLOCKQUOTE"),de=(0,k.O9)(t.startContainer);if(de&&(r=de),he&&(!de||de&&!he.contains(de))&&(r=he),ge&&(r=ge),z=r.outerHTML,r.tagName==="UL"||r.tagName==="OL"){var re=r.previousElementSibling,ue=r.nextElementSibling;!re||re.tagName!=="UL"&&re.tagName!=="OL"||(z=re.outerHTML+z,re.remove()),!ue||ue.tagName!=="UL"&&ue.tagName!=="OL"||(z+=ue.outerHTML,ue.remove()),z=z.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else r.previousElementSibling&&r.previousElementSibling.textContent.replace(S.g.ZWSP,"")!==""&&a&&a.inputType==="insertParagraph"&&(z=r.previousElementSibling.outerHTML+z,r.previousElementSibling.remove());r.innerText.startsWith("```")||(e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(xe){xe&&!r.isEqualNode(xe)&&(z+=xe.outerHTML,xe.remove())}),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(xe){xe&&!r.isEqualNode(xe)&&(z+=xe.outerHTML,xe.remove())}))}if(V("SpinVditorIRDOM",z,"argument",e.options.debugger),z=e.lute.SpinVditorIRDOM(z),V("SpinVditorIRDOM",z,"result",e.options.debugger),ee)r.innerHTML=z;else if(r.outerHTML=z,ge){var pe=(0,k.a1)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(pe){var te=pe.textContent,ke=te.substring(1,te.indexOf("]:")),Me=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(ke,'"]'));Me&&Me.setAttribute("aria-label",te.substr(ke.length+3).trim().substr(0,24))}}var Se,_e=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");_e.forEach(function(xe,Oe){Oe===0?Z=xe:(Z.insertAdjacentHTML("beforeend",xe.innerHTML),xe.remove())}),_e.length>0&&e.ir.element.insertAdjacentElement("beforeend",_e[0]);var Ae=e.ir.element.querySelectorAll("[data-type='footnotes-block']");Ae.forEach(function(xe,Oe){Oe===0?Se=xe:(Se.insertAdjacentHTML("beforeend",xe.innerHTML),xe.remove())}),Ae.length>0&&e.ir.element.insertAdjacentElement("beforeend",Ae[0]),(0,K.ib)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(xe){rt(xe,e)}),Ct(e),Nt(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},fe=function(e,t){if(e==="")return!1;if(e.indexOf("\u21E7")===-1&&e.indexOf("\u2318")===-1&&e.indexOf("\u2325")===-1)return!((0,h.yl)(t)||t.altKey||t.shiftKey||t.code!==e);if(e==="\u21E7Tab")return!((0,h.yl)(t)||t.altKey||!t.shiftKey||t.code!=="Tab");var n=e.split("");if(e.startsWith("\u2325")){var a=n.length===3?n[2]:n[1];return!((n.length===3?!(0,h.yl)(t):(0,h.yl)(t))||!t.altKey||t.shiftKey||t.code!==(/^[0-9]$/.test(a)?"Digit":"Key")+a)}e==="\u2318Enter"&&(n=["\u2318","Enter"]);var r=n.length>2&&n[0]==="\u21E7",c=r?n[2]:n[1];return!r||!(0,h.vU)()&&/Mac/.test(navigator.platform)||(c==="-"?c="_":c==="="&&(c="+")),!(!(0,h.yl)(t)||t.key.toLowerCase()!==c.toLowerCase()||t.altKey||!(!r&&!t.shiftKey||r&&t.shiftKey))},ce=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(g){g.classList.remove("vditor-ir__node--expand")});var n=(0,k.JQ)(e.startContainer,"vditor-ir__node"),a=!e.collapsed&&(0,k.JQ)(e.endContainer,"vditor-ir__node");if(e.collapsed||n&&n===a){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),(0,K.Hc)(e));var r=function(g){var T=g.startContainer;if(T.nodeType===3&&T.nodeValue.length!==g.startOffset)return!1;for(var H=T.nextSibling;H&&H.textContent==="";)H=H.nextSibling;if(!H){var N=(0,k.fb)(T,"vditor-ir__marker");if(N&&!N.nextSibling){var _=T.parentElement.parentElement.nextSibling;if(_&&_.nodeType!==3&&_.classList.contains("vditor-ir__node"))return _}return!1}return!(!H||H.nodeType===3||!H.classList.contains("vditor-ir__node")||H.getAttribute("data-block"))&&H}(e);if(r)return r.classList.add("vditor-ir__node--expand"),void r.classList.remove("vditor-ir__node--hidden");var c=function(g){var T=g.startContainer,H=T.previousSibling;return!(T.nodeType!==3||g.startOffset!==0||!H||H.nodeType===3||!H.classList.contains("vditor-ir__node")||H.getAttribute("data-block"))&&H}(e);return c?(c.classList.add("vditor-ir__node--expand"),void c.classList.remove("vditor-ir__node--hidden")):void 0}},De=ve(190),Ve=function(e,t){e.querySelectorAll("[data-type=footnotes-link]").forEach(function(n){for(var a=n.parentElement,r=a.nextSibling;r&&r.textContent.startsWith("    ");){var c=r;c.childNodes.forEach(function(g){a.append(g.cloneNode(!0))}),r=r.nextSibling,c.remove()}t&&t(a)})},Ke=function(e,t){var n,a=getSelection().getRangeAt(0).cloneRange(),r=a.startContainer;a.startContainer.nodeType!==3&&a.startContainer.tagName==="DIV"&&(r=a.startContainer.childNodes[a.startOffset-1]);var c=(0,k.a1)(r,"data-block","0");if(c&&t&&(t.inputType==="deleteContentBackward"||t.data===" ")){for(var g=(0,K.im)(c,e.sv.element,a).start,T=!0,H=g-1;H>c.textContent.substr(0,g).lastIndexOf(`
`);H--)if(c.textContent.charAt(H)!==" "&&c.textContent.charAt(H)!=="	"){T=!1;break}if(g===0&&(T=!1),T)return void st(e);if(t.inputType==="deleteContentBackward"){var N=(0,k.a1)(r,"data-type","code-block-open-marker")||(0,k.a1)(r,"data-type","code-block-close-marker");if(N){var _;if(N.getAttribute("data-type")==="code-block-close-marker"&&(_=xn(r,"code-block-open-marker"))||N.getAttribute("data-type")==="code-block-open-marker"&&(_=xn(r,"code-block-close-marker",!1)))return _.textContent=N.textContent,void st(e)}var Z=(0,k.a1)(r,"data-type","math-block-open-marker");if(Z){var ee=Z.nextElementSibling.nextElementSibling;return void(ee&&ee.getAttribute("data-type")==="math-block-close-marker"&&(ee.remove(),st(e)))}c.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(re){re.textContent.length===1&&re.remove()}),c.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(re){re.textContent.length===1&&re.remove()});var ge=(0,k.a1)(r,"data-type","heading-marker");if(ge&&ge.textContent.indexOf("#")===-1)return void st(e)}if((t.data===" "||t.inputType==="deleteContentBackward")&&((0,k.a1)(r,"data-type","padding")||(0,k.a1)(r,"data-type","li-marker")||(0,k.a1)(r,"data-type","task-marker")||(0,k.a1)(r,"data-type","blockquote-marker")))return void st(e)}if(c&&c.textContent.trimRight()==="$$")st(e);else{c||(c=e.sv.element),((n=c.firstElementChild)===null||n===void 0?void 0:n.getAttribute("data-type"))==="link-ref-defs-block"&&(c=e.sv.element),(0,k.a1)(r,"data-type","footnotes-link")&&(c=e.sv.element),c.textContent.indexOf(Lute.Caret)===-1&&a.insertNode(document.createTextNode(Lute.Caret)),c.querySelectorAll("[style]").forEach(function(re){re.removeAttribute("style")}),c.querySelectorAll("font").forEach(function(re){re.outerHTML=re.innerHTML});var z=c.textContent,he=c.isEqualNode(e.sv.element);if(he)z=c.textContent;else{c.previousElementSibling&&(z=c.previousElementSibling.textContent+z,c.previousElementSibling.remove()),c.previousElementSibling&&z.indexOf(`---
`)===0&&(z=c.previousElementSibling.textContent+z,c.previousElementSibling.remove());var de="";e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(re,ue){re&&!c.isEqualNode(re.parentElement)&&(de+=re.parentElement.textContent+`
`,re.parentElement.remove())}),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(re,ue){re&&!c.isEqualNode(re.parentElement)&&(de+=re.parentElement.textContent+`
`,re.parentElement.remove())}),z=de+z}z=vt(z,e),he?c.innerHTML=z:c.outerHTML=z,e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(re){e.sv.element.insertAdjacentElement("beforeend",re.parentElement)}),Ve(e.sv.element,function(re){e.sv.element.insertAdjacentElement("beforeend",re)}),(0,K.ib)(e.sv.element,a),dt(e),st(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},ot=ve(538),ct=function(e){e.options.theme==="dark"?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},Ge=function(e){var t=window.innerWidth<=S.g.MOBILE_WIDTH?10:35;if(e.wysiwyg.element.parentElement.style.display!=="none"){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px ".concat(Math.max(t,n),"px")}e.ir.element.parentElement.style.display!=="none"&&(n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2,e.ir.element.style.padding="10px ".concat(Math.max(t,n),"px")),e.preview.element.style.display!=="block"?e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0))+"px":e.toolbar.element.style.paddingLeft=5+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0)+"px"},Te=function(e){if(e.options.typewriterMode){var t=window.innerHeight;typeof e.options.height=="number"?(t=e.options.height,typeof e.options.minHeight=="number"&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)):t=e.element.clientHeight,e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}};function gt(){window.removeEventListener("resize",I)}var St,yn,qn=function(e){Te(e),gt(),window.addEventListener("resize",I=function(){Ge(e),Te(e)});var t=(0,h.pK)()&&localStorage.getItem(e.options.cache.id);return e.options.cache.enable&&t||(e.options.value?t=e.options.value:e.originalInnerHTML?t=e.lute.HTML2Md(e.originalInnerHTML):e.options.cache.enable||(t="")),t||""},cn=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(e[e.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,K.Gb)(e[e.currentMode].element)){y(e.toolbar.elements,S.g.EDIT_TOOLBARS),A(e.toolbar.elements,S.g.EDIT_TOOLBARS);var t=(0,K.zh)(e),n=t.startContainer;t.startContainer.nodeType===3&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]),(e.currentMode==="sv"?(0,k.a1)(n,"data-type","heading"):(0,J.W)(n))&&b(e.toolbar.elements,["headings"]),(e.currentMode==="sv"?(0,k.a1)(n,"data-type","blockquote"):(0,k.lG)(n,"BLOCKQUOTE"))&&b(e.toolbar.elements,["quote"]),(0,k.a1)(n,"data-type","strong")&&b(e.toolbar.elements,["bold"]),(0,k.a1)(n,"data-type","em")&&b(e.toolbar.elements,["italic"]),(0,k.a1)(n,"data-type","s")&&b(e.toolbar.elements,["strike"]),(0,k.a1)(n,"data-type","a")&&b(e.toolbar.elements,["link"]);var a=(0,k.lG)(n,"LI");a?(a.classList.contains("vditor-task")?b(e.toolbar.elements,["check"]):a.parentElement.tagName==="OL"?b(e.toolbar.elements,["ordered-list"]):a.parentElement.tagName==="UL"&&b(e.toolbar.elements,["list"]),A(e.toolbar.elements,["outdent","indent"])):B(e.toolbar.elements,["outdent","indent"]),(0,k.a1)(n,"data-type","code-block")&&(B(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),b(e.toolbar.elements,["code"])),(0,k.a1)(n,"data-type","code")&&(B(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),b(e.toolbar.elements,["inline-code"])),(0,k.a1)(n,"data-type","table")&&B(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},et=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!e.wysiwyg.composingLock){var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},Bn=function(e){for(var t="",n=e.nextSibling;n;)n.nodeType===3?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},$n=function(e){for(var t="",n=e.previousSibling;n;)t=n.nodeType===3?n.textContent+t:n.outerHTML+t,n=n.previousSibling;return t},Qt=function(e,t){Array.from(e.wysiwyg.element.childNodes).find(function(n){if(n.nodeType===3){var a=document.createElement("p");a.setAttribute("data-block","0"),a.textContent=n.textContent;var r=t.startContainer.nodeType===3?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(a,n),n.remove(),t.setStart(a.firstChild,Math.min(a.firstChild.textContent.length,r)),t.collapse(!0),(0,K.Hc)(t),!0}if(!n.getAttribute("data-block"))return n.tagName==="P"?n.remove():(n.tagName==="DIV"?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>")):n.tagName==="BR"?n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"<wbr></p>"):(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"</p>")),(0,K.ib)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0})},Dt=function(e,t){var n=(0,K.zh)(e),a=(0,k.F9)(n.startContainer);a||(a=n.startContainer.childNodes[n.startOffset]),a||e.wysiwyg.element.children.length!==0||(a=e.wysiwyg.element),a&&!a.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),a.innerHTML.trim()==="<wbr>"&&(a.innerHTML="<wbr><br>"),a.tagName==="BLOCKQUOTE"||a.classList.contains("vditor-reset")?a.innerHTML="<".concat(t,' data-block="0">').concat(a.innerHTML.trim(),"</").concat(t,">"):a.outerHTML="<".concat(t,' data-block="0">').concat(a.innerHTML.trim(),"</").concat(t,">"),(0,K.ib)(e.wysiwyg.element,n),Ct(e))},Un=function(e){var t=getSelection().getRangeAt(0),n=(0,k.F9)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>"),(0,K.ib)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},dn=function(e,t,n){n===void 0&&(n=!0);var a=e.previousElementSibling,r=a.ownerDocument.createRange();a.tagName==="CODE"?(a.style.display="inline-block",n?r.setStart(a.firstChild,1):r.selectNodeContents(a)):(a.style.display="block",a.firstChild.firstChild||a.firstChild.appendChild(document.createTextNode("")),r.selectNodeContents(a.firstChild)),n?r.collapse(!0):r.collapse(!1),(0,K.Hc)(r),e.firstElementChild.classList.contains("language-mindmap")||dt(t)},wt=function(e,t){if(fe("\u21E7\u2318X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');return n&&n.click(),t.preventDefault(),!0}},Pt=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(e.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,K.Gb)(e.wysiwyg.element)){y(e.toolbar.elements,S.g.EDIT_TOOLBARS),A(e.toolbar.elements,S.g.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;n=t.startContainer.nodeType===3?t.startContainer.parentElement:n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var a=(0,k.a1)(n,"data-type","footnotes-block");if(a)return e.wysiwyg.popover.innerHTML="",Tt(a,e),void _t(e,a);var r=(0,k.lG)(n,"LI");r?(r.classList.contains("vditor-task")?b(e.toolbar.elements,["check"]):r.parentElement.tagName==="OL"?b(e.toolbar.elements,["ordered-list"]):r.parentElement.tagName==="UL"&&b(e.toolbar.elements,["list"]),A(e.toolbar.elements,["outdent","indent"])):B(e.toolbar.elements,["outdent","indent"]),(0,k.lG)(n,"BLOCKQUOTE")&&b(e.toolbar.elements,["quote"]),((0,k.lG)(n,"B")||(0,k.lG)(n,"STRONG"))&&b(e.toolbar.elements,["bold"]),((0,k.lG)(n,"I")||(0,k.lG)(n,"EM"))&&b(e.toolbar.elements,["italic"]),((0,k.lG)(n,"STRIKE")||(0,k.lG)(n,"S"))&&b(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(ae){ae.classList.remove("vditor-comment--focus")});var c=(0,k.fb)(n,"vditor-comment");if(c){var g=c.getAttribute("data-cmtids").split(" ");if(g.length>1&&c.nextSibling.isSameNode(c.nextElementSibling)){var T=c.nextElementSibling.getAttribute("data-cmtids").split(" ");g.find(function(ae){if(T.includes(ae))return g=[ae],!0})}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(ae){ae.getAttribute("data-cmtids").indexOf(g[0])>-1&&ae.classList.add("vditor-comment--focus")})}var H=(0,k.lG)(n,"A");H&&b(e.toolbar.elements,["link"]);var N=(0,k.lG)(n,"TABLE"),_=(0,J.W)(n);(0,k.lG)(n,"CODE")?(0,k.lG)(n,"PRE")?(B(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),b(e.toolbar.elements,["code"])):(B(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),b(e.toolbar.elements,["inline-code"])):_?(B(e.toolbar.elements,["bold"]),b(e.toolbar.elements,["headings"])):N&&B(e.toolbar.elements,["table"]);var Z=(0,k.fb)(n,"vditor-toc");if(Z)return e.wysiwyg.popover.innerHTML="",Tt(Z,e),void _t(e,Z);var ee=(0,J.S)(n,"BLOCKQUOTE");if(ee&&(e.wysiwyg.popover.innerHTML="",Ft(t,ee,e),Vt(t,ee,e),Tt(ee,e),_t(e,ee)),r&&(e.wysiwyg.popover.innerHTML="",Ft(t,r,e),Vt(t,r,e),Tt(r,e),_t(e,r)),N){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var ge=function(){var ae=N.rows.length,Pe=N.rows[0].cells.length,it=parseInt(Oe.value,10)||ae,lt=parseInt($.value,10)||Pe;if(it!==ae||Pe!==lt){if(Pe!==lt)for(var Ye=lt-Pe,Et=0;Et<N.rows.length;Et++)if(Ye>0)for(var ln=0;ln<Ye;ln++)Et===0?N.rows[Et].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):N.rows[Et].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var Pn=Pe-1;Pn>=lt;Pn--)N.rows[Et].cells[Pn].remove();if(ae!==it){var Zi=it-ae;if(Zi>0){for(var Xi="<tr>",Rn=0;Rn<lt;Rn++)Xi+="<td> </td>";for(var Ji=0;Ji<Zi;Ji++)N.querySelector("tbody")?N.querySelector("tbody").insertAdjacentHTML("beforeend",Xi):N.querySelector("thead").insertAdjacentHTML("afterend",Xi+"</tr>")}else for(Rn=ae-1;Rn>=it;Rn--)N.rows[Rn].remove(),N.rows.length===1&&N.querySelector("tbody").remove()}typeof e.options.input=="function"&&e.options.input(u(e))}},z=function(ae){Cn(N,ae),ae==="right"?(ue.classList.remove("vditor-icon--current"),pe.classList.remove("vditor-icon--current"),te.classList.add("vditor-icon--current")):ae==="center"?(ue.classList.remove("vditor-icon--current"),te.classList.remove("vditor-icon--current"),pe.classList.add("vditor-icon--current")):(pe.classList.remove("vditor-icon--current"),te.classList.remove("vditor-icon--current"),ue.classList.add("vditor-icon--current")),(0,K.Hc)(t),et(e)},he=(0,k.lG)(n,"TD"),de=(0,k.lG)(n,"TH"),re="left";he?re=he.getAttribute("align")||"left":de&&(re=de.getAttribute("align")||"center");var ue=document.createElement("button");ue.setAttribute("type","button"),ue.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,h.ns)("\u21E7\u2318L")+">"),ue.setAttribute("data-type","left"),ue.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',ue.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(re==="left"?" vditor-icon--current":""),ue.onclick=function(){z("left")};var pe=document.createElement("button");pe.setAttribute("type","button"),pe.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,h.ns)("\u21E7\u2318C")+">"),pe.setAttribute("data-type","center"),pe.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',pe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(re==="center"?" vditor-icon--current":""),pe.onclick=function(){z("center")};var te=document.createElement("button");te.setAttribute("type","button"),te.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,h.ns)("\u21E7\u2318R")+">"),te.setAttribute("data-type","right"),te.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',te.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(re==="right"?" vditor-icon--current":""),te.onclick=function(){z("right")};var ke=document.createElement("button");ke.setAttribute("type","button"),ke.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,h.ns)("\u2318=")+">"),ke.setAttribute("data-type","insertRow"),ke.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',ke.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ke.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&Ln(e,t,Pe)};var Me=document.createElement("button");Me.setAttribute("type","button"),Me.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,h.ns)("\u21E7\u2318F")+">"),Me.setAttribute("data-type","insertRow"),Me.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Me.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Me.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&Mn(e,t,Pe)};var Se=document.createElement("button");Se.setAttribute("type","button"),Se.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,h.ns)("\u21E7\u2318=")+">"),Se.setAttribute("data-type","insertColumn"),Se.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',Se.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Se.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&An(e,N,Pe)};var _e=document.createElement("button");_e.setAttribute("type","button"),_e.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,h.ns)("\u21E7\u2318G")+">"),_e.setAttribute("data-type","insertColumn"),_e.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',_e.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",_e.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&An(e,N,Pe,"beforebegin")};var Ae=document.createElement("button");Ae.setAttribute("type","button"),Ae.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,h.ns)("\u2318-")+">"),Ae.setAttribute("data-type","deleteRow"),Ae.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',Ae.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ae.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&ti(e,t,Pe)};var xe=document.createElement("button");xe.setAttribute("type","button"),xe.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,h.ns)("\u21E7\u2318-")+">"),xe.setAttribute("data-type","deleteColumn"),xe.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',xe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",xe.onclick=function(){var ae=getSelection().getRangeAt(0).startContainer,Pe=(0,k.lG)(ae,"TD")||(0,k.lG)(ae,"TH");Pe&&bi(e,t,N,Pe)},(Ne=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),Ne.className="vditor-tooltipped vditor-tooltipped__n";var Oe=document.createElement("input");Ne.appendChild(Oe),Oe.type="number",Oe.min="1",Oe.className="vditor-input",Oe.style.width="42px",Oe.style.textAlign="center",Oe.setAttribute("placeholder",window.VditorI18n.row),Oe.value=N.rows.length.toString(),Oe.oninput=function(){ge()},Oe.onkeydown=function(ae){if(!ae.isComposing)return ae.key==="Tab"?($.focus(),$.select(),void ae.preventDefault()):void(wt(e,ae)||Ht(ae,t))};var D=document.createElement("span");D.setAttribute("aria-label",window.VditorI18n.column),D.className="vditor-tooltipped vditor-tooltipped__n";var $=document.createElement("input");D.appendChild($),$.type="number",$.min="1",$.className="vditor-input",$.style.width="42px",$.style.textAlign="center",$.setAttribute("placeholder",window.VditorI18n.column),$.value=N.rows[0].cells.length.toString(),$.oninput=function(){ge()},$.onkeydown=function(ae){if(!ae.isComposing)return ae.key==="Tab"?(Oe.focus(),Oe.select(),void ae.preventDefault()):void(wt(e,ae)||Ht(ae,t))},Ft(t,N,e),Vt(t,N,e),Tt(N,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",ue),e.wysiwyg.popover.insertAdjacentElement("beforeend",pe),e.wysiwyg.popover.insertAdjacentElement("beforeend",te),e.wysiwyg.popover.insertAdjacentElement("beforeend",Me),e.wysiwyg.popover.insertAdjacentElement("beforeend",ke),e.wysiwyg.popover.insertAdjacentElement("beforeend",_e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Se),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ae),e.wysiwyg.popover.insertAdjacentElement("beforeend",xe),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",D),_t(e,N)}var q=(0,k.a1)(n,"data-type","link-ref");q&&Fn(e,q,t);var G=(0,k.a1)(n,"data-type","footnotes-ref");if(G){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="",(Ne=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,h.ns)("\u2325Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var Y=document.createElement("input");Ne.appendChild(Y),Y.className="vditor-input",Y.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,h.ns)("\u2325Enter")+">"),Y.style.width="120px",Y.value=G.getAttribute("data-footnotes-label"),Y.oninput=function(){Y.value.trim()!==""&&G.setAttribute("data-footnotes-label",Y.value),typeof e.options.input=="function"&&e.options.input(u(e))},Y.onkeydown=function(ae){ae.isComposing||wt(e,ae)||Ht(ae,t)},Tt(G,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),_t(e,G)}var oe=(0,k.fb)(n,"vditor-wysiwyg__block"),me=!!oe&&oe.getAttribute("data-type").indexOf("block")>-1;if(e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(ae){(!oe||oe&&me&&!oe.contains(ae))&&(ae.previousElementSibling.style.display="none")}),oe&&me){if(e.wysiwyg.popover.innerHTML="",Ft(t,oe,e),Vt(t,oe,e),Tt(oe,e),oe.getAttribute("data-type")==="code-block"){var we=document.createElement("span");we.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,h.ns)("\u2325Enter")+">"),we.className="vditor-tooltipped vditor-tooltipped__n";var Ce=document.createElement("input");we.appendChild(Ce);var je=oe.firstElementChild.firstElementChild;Ce.className="vditor-input",Ce.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,h.ns)("\u2325Enter")+">"),Ce.value=je.className.indexOf("language-")>-1?je.className.split("-")[1].split(" ")[0]:"",Ce.oninput=function(ae){Ce.value.trim()!==""?je.className="language-".concat(Ce.value):(je.className="",e.hint.recentLanguage=""),oe.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(oe.lastElementChild.innerHTML=oe.firstElementChild.innerHTML,rt(oe.lastElementChild,e)),et(e),ae.detail===1&&(t.setStart(je.firstChild,0),t.collapse(!0),(0,K.Hc)(t))},Ce.onkeydown=function(ae){if(!ae.isComposing&&!wt(e,ae)){if(ae.key==="Escape"&&e.hint.element.style.display==="block")return e.hint.element.style.display="none",void ae.preventDefault();e.hint.select(ae,e),Ht(ae,t)}},Ce.onkeyup=function(ae){var Pe,it;if(!ae.isComposing&&ae.key!=="Enter"&&ae.key!=="ArrowUp"&&ae.key!=="Escape"&&ae.key!=="ArrowDown"){var lt=[],Ye=Ce.value.substring(0,Ce.selectionStart);(e.options.preview.hljs.langs||S.g.ALIAS_CODE_LANGUAGES.concat(((it=(Pe=window.hljs)===null||Pe===void 0?void 0:Pe.listLanguages())!==null&&it!==void 0?it:[]).sort())).forEach(function(Et){Et.indexOf(Ye.toLowerCase())>-1&&lt.push({html:Et,value:Et})}),e.hint.genHTML(lt,Ye,e),ae.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",we)}_t(e,oe)}else oe=void 0;if(_){var Ne;e.wysiwyg.popover.innerHTML="",(Ne=document.createElement("span")).setAttribute("aria-label","ID<"+(0,h.ns)("\u2325Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var Le=document.createElement("input");Ne.appendChild(Le),Le.className="vditor-input",Le.setAttribute("placeholder","ID<"+(0,h.ns)("\u2325Enter")+">"),Le.style.width="120px",Le.value=_.getAttribute("data-id")||"",Le.oninput=function(){_.setAttribute("data-id",Le.value),typeof e.options.input=="function"&&e.options.input(u(e))},Le.onkeydown=function(ae){ae.isComposing||wt(e,ae)||Ht(ae,t)},Ft(t,_,e),Vt(t,_,e),Tt(_,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),_t(e,_)}if(H&&bn(e,H,t),!(ee||r||N||oe||H||q||G||_||Z)){var Ze=(0,k.a1)(n,"data-block","0");Ze&&Ze.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",Ft(t,Ze,e),Vt(t,Ze,e),Tt(Ze,e),_t(e,Ze)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(ae){ae.style.display="none"});var ze=(0,k.a1)(t.startContainer,"data-type","backslash");ze&&(ze.querySelector("span").style.display="inline")}},200)},_t=function(e,t){var n=t,a=(0,k.lG)(t,"TABLE");a&&(n=a),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},Fn=function(e,t,n){n===void 0&&(n=getSelection().getRangeAt(0)),e.wysiwyg.popover.innerHTML="";var a=function(){c.value.trim()!==""&&(t.tagName==="IMG"?t.setAttribute("alt",c.value):t.textContent=c.value),T.value.trim()!==""&&t.setAttribute("data-link-label",T.value),typeof e.options.input=="function"&&e.options.input(u(e))},r=document.createElement("span");r.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),r.className="vditor-tooltipped vditor-tooltipped__n";var c=document.createElement("input");r.appendChild(c),c.className="vditor-input",c.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),c.style.width="120px",c.value=t.getAttribute("alt")||t.textContent,c.oninput=function(){a()},c.onkeydown=function(H){wt(e,H)||Ht(H,n)||un(e,t,H,T)};var g=document.createElement("span");g.setAttribute("aria-label",window.VditorI18n.linkRef),g.className="vditor-tooltipped vditor-tooltipped__n";var T=document.createElement("input");g.appendChild(T),T.className="vditor-input",T.setAttribute("placeholder",window.VditorI18n.linkRef),T.value=t.getAttribute("data-link-label"),T.oninput=function(){a()},T.onkeydown=function(H){wt(e,H)||Ht(H,n)||un(e,t,H,c)},Tt(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",r),e.wysiwyg.popover.insertAdjacentElement("beforeend",g),_t(e,t)},Ft=function(e,t,n){var a=t.previousElementSibling;if(a&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","up"),r.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,h.ns)("\u21E7\u2318U")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){e.insertNode(document.createElement("wbr")),a.insertAdjacentElement("beforebegin",t),(0,K.ib)(n.wysiwyg.element,e),et(n),Pt(n),dt(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)}},Vt=function(e,t,n){var a=t.nextElementSibling;if(a&&(t.parentElement.isEqualNode(n.wysiwyg.element)||t.tagName==="LI")){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","down"),r.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,h.ns)("\u21E7\u2318D")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){e.insertNode(document.createElement("wbr")),a.insertAdjacentElement("afterend",t),(0,K.ib)(n.wysiwyg.element,e),et(n),Pt(n),dt(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)}},Tt=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,h.ns)("\u21E7\u2318X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var a=(0,K.zh)(t);a.setStartAfter(e),(0,K.Hc)(a),e.remove(),et(t),Pt(t),["H1","H2","H3","H4","H5","H6"].includes(e.tagName)&&Ct(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},un=function(e,t,n,a){if(!n.isComposing){if(n.key==="Tab")return a.focus(),a.select(),void n.preventDefault();if(!(0,h.yl)(n)&&!n.shiftKey&&n.altKey&&n.key==="Enter"){var r=(0,K.zh)(e);t.insertAdjacentHTML("afterend",S.g.ZWSP),r.setStartAfter(t.nextSibling),r.collapse(!0),(0,K.Hc)(r),n.preventDefault()}}},bn=function(e,t,n){e.wysiwyg.popover.innerHTML="";var a=function(){c.value.trim()!==""&&(t.innerHTML=c.value),t.setAttribute("href",T.value),t.setAttribute("title",N.value),et(e)};t.querySelectorAll("[data-marker]").forEach(function(_){_.removeAttribute("data-marker")});var r=document.createElement("span");r.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),r.className="vditor-tooltipped vditor-tooltipped__n";var c=document.createElement("input");r.appendChild(c),c.className="vditor-input",c.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),c.style.width="120px",c.value=t.innerHTML||"",c.oninput=function(){a()},c.onkeydown=function(_){wt(e,_)||Ht(_,n)||un(e,t,_,T)};var g=document.createElement("span");g.setAttribute("aria-label",window.VditorI18n.link),g.className="vditor-tooltipped vditor-tooltipped__n";var T=document.createElement("input");g.appendChild(T),T.className="vditor-input",T.setAttribute("placeholder",window.VditorI18n.link),T.value=t.getAttribute("href")||"",T.oninput=function(){a()},T.onkeydown=function(_){wt(e,_)||Ht(_,n)||un(e,t,_,N)};var H=document.createElement("span");H.setAttribute("aria-label",window.VditorI18n.tooltipText),H.className="vditor-tooltipped vditor-tooltipped__n";var N=document.createElement("input");H.appendChild(N),N.className="vditor-input",N.setAttribute("placeholder",window.VditorI18n.tooltipText),N.style.width="60px",N.value=t.getAttribute("title")||"",N.oninput=function(){a()},N.onkeydown=function(_){wt(e,_)||Ht(_,n)||un(e,t,_,c)},Tt(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",r),e.wysiwyg.popover.insertAdjacentElement("beforeend",g),e.wysiwyg.popover.insertAdjacentElement("beforeend",H),_t(e,t)},Ht=function(e,t){if(!(0,h.yl)(e)&&!e.shiftKey&&e.key==="Enter"||e.key==="Escape")return t&&(0,K.Hc)(t),e.preventDefault(),e.stopPropagation(),!0},Wt=function(e){e.currentMode==="wysiwyg"?Pt(e):e.currentMode==="ir"&&cn(e)},Vn=function(e,t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var a=e.wysiwyg.element;a.innerHTML=e.lute.Md2VditorDOM(t),a.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(r){rt(r,e),r.previousElementSibling.setAttribute("style","display:none")}),et(e,n)},fi=function(e,t,n){for(var a=e.startContainer.parentElement,r=!1,c="",g="",T=function(z){var he=$n(z.startContainer),de=Bn(z.startContainer),re=z.startContainer.textContent,ue=z.startOffset,pe="",te="";return(re.substr(0,ue)!==""&&re.substr(0,ue)!==S.g.ZWSP||he)&&(pe="".concat(he).concat(re.substr(0,ue))),(re.substr(ue)!==""&&re.substr(ue)!==S.g.ZWSP||de)&&(te="".concat(re.substr(ue)).concat(de)),{afterHTML:te,beforeHTML:pe}}(e),H=T.beforeHTML,N=T.afterHTML;a&&!r;){var _=a.tagName;if(_==="STRIKE"&&(_="S"),_==="I"&&(_="EM"),_==="B"&&(_="STRONG"),_==="S"||_==="STRONG"||_==="EM"){var Z="",ee="",ge="";a.parentElement.getAttribute("data-block")!=="0"&&(ee=$n(a),ge=Bn(a)),(H||ee)&&(H=Z="".concat(ee,"<").concat(_,">").concat(H,"</").concat(_,">")),(n==="bold"&&_==="STRONG"||n==="italic"&&_==="EM"||n==="strikeThrough"&&_==="S")&&(Z+="".concat(c).concat(S.g.ZWSP,"<wbr>").concat(g),r=!0),(N||ge)&&(Z+=N="<".concat(_,">").concat(N,"</").concat(_,">").concat(ge)),a.parentElement.getAttribute("data-block")!=="0"?(a=a.parentElement).innerHTML=Z:(a.outerHTML=Z,a=a.parentElement),c="<".concat(_,">")+c,g="</".concat(_,">")+g}else r=!0}(0,K.ib)(t.wysiwyg.element,e)},at=function(e,t){var n,a=this;this.element=document.createElement("div"),t.className&&(n=this.element.classList).add.apply(n,t.className.split(" "));var r=t.hotkey?" <".concat((0,h.ns)(t.hotkey),">"):"";t.level===2&&(r=t.hotkey?" &lt;".concat((0,h.ns)(t.hotkey),"&gt;"):"");var c=t.tip?t.tip+r:"".concat(window.VditorI18n[t.name]).concat(r),g=t.name==="upload"?"div":"button";if(t.level===2)this.element.innerHTML="<".concat(g,' data-type="').concat(t.name,'">').concat(c,"</").concat(g,">");else{this.element.classList.add("vditor-toolbar__item");var T=document.createElement(g);T.setAttribute("data-type",t.name),T.className="vditor-tooltipped vditor-tooltipped__".concat(t.tipPosition),T.setAttribute("aria-label",c),T.innerHTML=t.icon,this.element.appendChild(T)}t.prefix&&this.element.children[0].addEventListener((0,h.Le)(),function(H){H.preventDefault(),a.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||(e.currentMode==="wysiwyg"?function(N,_,Z){if(!(N.wysiwyg.composingLock&&Z instanceof CustomEvent)){var ee=!0,ge=!0;N.wysiwyg.element.querySelector("wbr")&&N.wysiwyg.element.querySelector("wbr").remove();var z=(0,K.zh)(N),he=_.getAttribute("data-type");if(_.classList.contains("vditor-menu--current"))if(he==="strike"&&(he="strikeThrough"),he==="quote"){var de=(0,k.lG)(z.startContainer,"BLOCKQUOTE");de||(de=z.startContainer.childNodes[z.startOffset]),de&&(ee=!1,_.classList.remove("vditor-menu--current"),z.insertNode(document.createElement("wbr")),de.outerHTML=de.innerHTML.trim()===""?'<p data-block="0">'.concat(de.innerHTML,"</p>"):de.innerHTML,(0,K.ib)(N.wysiwyg.element,z))}else if(he==="inline-code"){var re=(0,k.lG)(z.startContainer,"CODE");re||(re=z.startContainer.childNodes[z.startOffset]),re&&(re.outerHTML=re.innerHTML.replace(S.g.ZWSP,"")+"<wbr>",(0,K.ib)(N.wysiwyg.element,z))}else he==="link"?(z.collapsed&&z.selectNode(z.startContainer.parentElement),document.execCommand("unlink",!1,"")):he==="check"||he==="list"||he==="ordered-list"?(mn(N,z,he),(0,K.ib)(N.wysiwyg.element,z),ee=!1,_.classList.remove("vditor-menu--current")):(ee=!1,_.classList.remove("vditor-menu--current"),z.toString()===""?fi(z,N,he):document.execCommand(he,!1,""));else{N.wysiwyg.element.childNodes.length===0&&(N.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,K.ib)(N.wysiwyg.element,z));var ue=(0,k.F9)(z.startContainer);if(he==="quote"){if(ue||(ue=z.startContainer.childNodes[z.startOffset]),ue){ee=!1,_.classList.add("vditor-menu--current"),z.insertNode(document.createElement("wbr"));var pe=(0,k.lG)(z.startContainer,"LI");pe&&ue.contains(pe)?pe.innerHTML='<blockquote data-block="0">'.concat(pe.innerHTML,"</blockquote>"):ue.outerHTML='<blockquote data-block="0">'.concat(ue.outerHTML,"</blockquote>"),(0,K.ib)(N.wysiwyg.element,z)}}else if(he==="check"||he==="list"||he==="ordered-list")mn(N,z,he,!1),(0,K.ib)(N.wysiwyg.element,z),ee=!1,y(N.toolbar.elements,["check","list","ordered-list"]),_.classList.add("vditor-menu--current");else if(he==="inline-code"){if(z.toString()==="")(te=document.createElement("code")).textContent=S.g.ZWSP,z.insertNode(te),z.setStart(te.firstChild,1),z.collapse(!0),(0,K.Hc)(z);else if(z.startContainer.nodeType===3){var te=document.createElement("code");z.surroundContents(te),z.insertNode(te),(0,K.Hc)(z)}_.classList.add("vditor-menu--current")}else if(he==="code")(te=document.createElement("div")).className="vditor-wysiwyg__block",te.setAttribute("data-type","code-block"),te.setAttribute("data-block","0"),te.setAttribute("data-marker","```"),z.toString()===""?te.innerHTML=`<pre><code><wbr>
</code></pre>`:(te.innerHTML="<pre><code>".concat(z.toString(),"<wbr></code></pre>"),z.deleteContents()),z.insertNode(te),ue&&(ue.outerHTML=N.lute.SpinVditorDOM(ue.outerHTML)),(0,K.ib)(N.wysiwyg.element,z),N.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function($){rt($,N)}),_.classList.add("vditor-menu--disabled");else if(he==="link"){if(z.toString()===""){var ke=document.createElement("a");ke.innerText=S.g.ZWSP,z.insertNode(ke),z.setStart(ke.firstChild,1),z.collapse(!0),bn(N,ke,z);var Me=N.wysiwyg.popover.querySelector("input");Me.value="",Me.focus(),ge=!1}else{(te=document.createElement("a")).setAttribute("href",""),te.innerHTML=z.toString(),z.surroundContents(te),z.insertNode(te),(0,K.Hc)(z),bn(N,te,z);var Se=N.wysiwyg.popover.querySelectorAll("input");Se[0].value=te.innerText,Se[1].focus()}ee=!1,_.classList.add("vditor-menu--current")}else if(he==="table"){var _e='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(z.toString().trim()==="")ue&&ue.innerHTML.trim().replace(S.g.ZWSP,"")===""?ue.outerHTML=_e:document.execCommand("insertHTML",!1,_e),z.selectNode(N.wysiwyg.element.querySelector("wbr").previousSibling),N.wysiwyg.element.querySelector("wbr").remove(),(0,K.Hc)(z);else{_e='<table data-block="0"><thead><tr>';var Ae=z.toString().split(`
`),xe=Ae[0].split(",").length>Ae[0].split("	").length?",":"	";Ae.forEach(function($,q){q===0?($.split(xe).forEach(function(G,Y){_e+="<th>".concat(G,Y===0?"<wbr></th>":"</th>")}),_e+="</tr></thead>"):(_e+=q===1?"<tbody><tr>":"<tr>",$.split(xe).forEach(function(G){_e+="<td>".concat(G,"</td>")}),_e+="</tr>")}),_e+="</tbody></table>",document.execCommand("insertHTML",!1,_e),(0,K.ib)(N.wysiwyg.element,z)}ee=!1,_.classList.add("vditor-menu--disabled")}else if(he==="line"){if(ue){var Oe=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;ue.innerHTML.trim()===""?ue.outerHTML=Oe:ue.insertAdjacentHTML("afterend",Oe),(0,K.ib)(N.wysiwyg.element,z)}}else if(ee=!1,_.classList.add("vditor-menu--current"),he==="strike"&&(he="strikeThrough"),z.toString()!==""||he!=="bold"&&he!=="italic"&&he!=="strikeThrough")document.execCommand(he,!1,"");else{var D="strong";he==="italic"?D="em":he==="strikeThrough"&&(D="s"),(te=document.createElement(D)).textContent=S.g.ZWSP,z.insertNode(te),te.previousSibling&&te.previousSibling.textContent===S.g.ZWSP&&(te.previousSibling.textContent=""),z.setStart(te.firstChild,1),z.collapse(!0),(0,K.Hc)(z)}}ee&&Pt(N),ge&&et(N)}}(e,a.element.children[0],H):e.currentMode==="ir"?Pi(e,a.element.children[0],t.prefix||"",t.suffix||""):zt(e,a.element.children[0],t.prefix||"",t.suffix||""))})},_i=(St=function(e,t){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])},St(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}St(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),Ot=function(e,t,n){var a;if(typeof n!="string"?(M(e,["subToolbar","hint"]),n.preventDefault(),a=u(e)):a=n,e.currentMode!==t||typeof n=="string"){if(e.devtools&&e.devtools.renderEchart(e),e.options.preview.mode==="both"&&t==="sv"?e.preview.element.style.display="block":e.preview.element.style.display="none",A(e.toolbar.elements,S.g.EDIT_TOOLBARS),y(e.toolbar.elements,S.g.EDIT_TOOLBARS),B(e.toolbar.elements,["outdent","indent"]),t==="ir")j(e.toolbar.elements,["both"]),O(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(a),Nt(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Ge(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(c){rt(c,e)}),e.ir.element.querySelectorAll(".vditor-toc").forEach(function(c){(0,He.H)(c,{cdn:e.options.cdn,math:e.options.preview.math})});else if(t==="wysiwyg")j(e.toolbar.elements,["both"]),O(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",Ge(e),Vn(e,a,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(c){(0,He.H)(c,{cdn:e.options.cdn,math:e.options.preview.math})}),e.wysiwyg.popover.style.display="none";else if(t==="sv"){O(e.toolbar.elements,["both"]),j(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",(e.options.preview.mode==="both"||e.options.preview.mode==="editor")&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var r=vt(a,e);r==="<div data-block='0'></div>"&&(r=""),e.sv.element.innerHTML=r,Ve(e.sv.element),st(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Ge(e)}e.undo.resetIcon(e),typeof n!="string"&&(e[e.currentMode].element.focus(),Wt(e)),Ct(e),Te(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(c){c.classList.remove("vditor-menu--current")}),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(e.currentMode,'"]')).classList.add("vditor-menu--current")),e.outline.toggle(e,e.currentMode!=="sv"&&e.options.outline.enable,typeof n!="string")}},Hi=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=document.createElement("div");return c.className="vditor-hint".concat(a.level===2?"":" vditor-panel--arrow"),c.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,h.ns)("\u2325\u23187"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,h.ns)("\u2325\u23188"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,h.ns)("\u2325\u23189"),"></button>"),r.element.appendChild(c),r._bindEvent(n,c,a),r}return _i(t,e),t.prototype._bindEvent=function(n,a,r){var c=this.element.children[0];o(n,a,c,r.level),a.children.item(0).addEventListener((0,h.Le)(),function(g){Ot(n,"wysiwyg",g),g.preventDefault(),g.stopPropagation()}),a.children.item(1).addEventListener((0,h.Le)(),function(g){Ot(n,"ir",g),g.preventDefault(),g.stopPropagation()}),a.children.item(2).addEventListener((0,h.Le)(),function(g){Ot(n,"sv",g),g.preventDefault(),g.stopPropagation()})},t}(at),Yt=function(e,t){return(0,K.Gb)(e,t)?getSelection().toString():""},Wn=function(e,t){t.addEventListener("focus",function(){e.options.focus&&e.options.focus(u(e)),M(e,["subToolbar","hint"])})},hi=function(e,t){t.addEventListener("dblclick",function(n){n.target.tagName==="IMG"&&(e.options.image.preview?e.options.image.preview(n.target):e.options.image.isPreview&&(0,De.E)(n.target,e.options.lang,e.options.theme))})},kt=function(e,t){t.addEventListener("blur",function(n){if(e.currentMode==="ir"){var a=e.ir.element.querySelector(".vditor-ir__node--expand");a&&a.classList.remove("vditor-ir__node--expand")}else e.currentMode!=="wysiwyg"||e.wysiwyg.selectPopover.contains(n.relatedTarget)||e.wysiwyg.hideComment();e[e.currentMode].range=(0,K.zh)(e),e.options.blur&&e.options.blur(u(e))})},zn=function(e,t){t.addEventListener("dragstart",function(n){n.dataTransfer.setData(S.g.DROP_EDITOR,S.g.DROP_EDITOR)}),t.addEventListener("drop",function(n){n.dataTransfer.getData(S.g.DROP_EDITOR)?We(e):(n.dataTransfer.types.includes("Files")||n.dataTransfer.types.includes("text/html"))&&gn(e,n,{pasteCode:function(a){document.execCommand("insertHTML",!1,a)}})})},pn=function(e,t,n){t.addEventListener("copy",function(a){return n(a,e)})},Kn=function(e,t,n){t.addEventListener("cut",function(a){n(a,e),e.options.comment.enable&&e.currentMode==="wysiwyg"&&e.wysiwyg.getComments(e),document.execCommand("delete")})},dt=function(e){if(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),e.options.typewriterMode){var t=e[e.currentMode].element,n=(0,K.Ny)(t).top;e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),(e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},wn=function(e,t){t.addEventListener("keydown",function(n){if(!n.isComposing&&e.options.keydown&&e.options.keydown(n),!(e.options.hint.extend.length>1||e.toolbar.elements.emoji)||!e.hint.select(n,e)){if(e.options.comment.enable&&e.currentMode==="wysiwyg"&&(n.key==="Backspace"||fe("\u2318X",n))&&e.wysiwyg.getComments(e),e.currentMode==="sv"){if(function(r,c){var g,T,H,N,_;if(r.sv.composingLock=c.isComposing,c.isComposing||(c.key.indexOf("Arrow")!==-1||c.key==="Meta"||c.key==="Control"||c.key==="Alt"||c.key==="Shift"||c.key==="CapsLock"||c.key==="Escape"||/^F\d{1,2}$/.test(c.key)||r.undo.recordFirstPosition(r,c),c.key!=="Enter"&&c.key!=="Tab"&&c.key!=="Backspace"&&c.key.indexOf("Arrow")===-1&&!(0,h.yl)(c)&&c.key!=="Escape"))return!1;var Z=(0,K.zh)(r),ee=Z.startContainer;Z.startContainer.nodeType!==3&&Z.startContainer.tagName==="DIV"&&(ee=Z.startContainer.childNodes[Z.startOffset-1]);var ge=(0,k.a1)(ee,"data-type","text"),z=(0,k.a1)(ee,"data-type","blockquote-marker");if(!z&&Z.startOffset===0&&ge&&ge.previousElementSibling&&ge.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(z=ge.previousElementSibling),z&&c.key==="Enter"&&!(0,h.yl)(c)&&!c.altKey&&z.nextElementSibling.textContent.trim()===""&&(0,K.im)(z,r.sv.element,Z).start===z.textContent.length)return((g=z.previousElementSibling)===null||g===void 0?void 0:g.getAttribute("data-type"))==="padding"&&z.previousElementSibling.setAttribute("data-action","enter-remove"),z.remove(),st(r),c.preventDefault(),!0;var he=(0,k.a1)(ee,"data-type","li-marker"),de=(0,k.a1)(ee,"data-type","task-marker"),re=he;if(re||de&&de.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(re=de),re||Z.startOffset!==0||!ge||!ge.previousElementSibling||ge.previousElementSibling.getAttribute("data-type")!=="li-marker"&&ge.previousElementSibling.getAttribute("data-type")!=="task-marker"||(re=ge.previousElementSibling),re){var ue=(0,K.im)(re,r.sv.element,Z).start,pe=re.getAttribute("data-type")==="task-marker",te=re;if(pe&&(te=re.previousElementSibling.previousElementSibling.previousElementSibling),ue===re.textContent.length){if(c.key==="Enter"&&!(0,h.yl)(c)&&!c.altKey&&!c.shiftKey&&re.nextElementSibling.textContent.trim()==="")return((T=te.previousElementSibling)===null||T===void 0?void 0:T.getAttribute("data-type"))==="padding"?(te.previousElementSibling.remove(),Ke(r)):(pe&&(te.remove(),re.previousElementSibling.previousElementSibling.remove(),re.previousElementSibling.remove()),re.nextElementSibling.remove(),re.remove(),st(r)),c.preventDefault(),!0;if(c.key==="Tab")return c.shiftKey?te.previousElementSibling.getAttribute("data-type")==="padding"&&te.previousElementSibling.remove():te.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(te.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(te.textContent)&&(te.textContent=te.textContent.replace(/^\d{1,}/,"1"),Z.selectNodeContents(re.firstChild),Z.collapse(!1)),Ke(r),c.preventDefault(),!0}}if(jt(r,Z,c))return!0;var ke=(0,k.a1)(ee,"data-block","0"),Me=(0,J.S)(ee,"SPAN");if(c.key==="Enter"&&!(0,h.yl)(c)&&!c.altKey&&!c.shiftKey&&ke){var Se=!1,_e=ke.textContent.match(/^\n+/);(0,K.im)(ke,r.sv.element).start<=(_e?_e[0].length:0)&&(Se=!0);var Ae=`
`;if(Me){if(((H=Me.previousElementSibling)===null||H===void 0?void 0:H.getAttribute("data-action"))==="enter-remove")return Me.previousElementSibling.remove(),st(r),c.preventDefault(),!0;Ae+=Ni(Me)}return Z.insertNode(document.createTextNode(Ae)),Z.collapse(!1),ke&&ke.textContent.trim()!==""&&!Se?Ke(r):st(r),c.preventDefault(),!0}if(c.key==="Backspace"&&!(0,h.yl)(c)&&!c.altKey&&!c.shiftKey){if(Me&&((N=Me.previousElementSibling)===null||N===void 0?void 0:N.getAttribute("data-type"))==="newline"&&(0,K.im)(Me,r.sv.element,Z).start===1&&Me.getAttribute("data-type").indexOf("code-block-")===-1)return Z.setStart(Me,0),Z.extractContents(),Me.textContent.trim()!==""?Ke(r):st(r),c.preventDefault(),!0;if(ke&&(0,K.im)(ke,r.sv.element,Z).start===0&&ke.previousElementSibling){Z.extractContents();var xe=ke.previousElementSibling.lastElementChild;return xe.getAttribute("data-type")==="newline"&&(xe.remove(),xe=ke.previousElementSibling.lastElementChild),xe.getAttribute("data-type")!=="newline"&&(xe.insertAdjacentHTML("afterend",ke.innerHTML),ke.remove()),ke.textContent.trim()===""||!((_=ke.previousElementSibling)===null||_===void 0)&&_.querySelector('[data-type="code-block-open-marker"]')?(xe.getAttribute("data-type")!=="newline"&&(Z.selectNodeContents(xe.lastChild),Z.collapse(!1)),st(r)):Ke(r),c.preventDefault(),!0}}return!1}(e,n))return}else if(e.currentMode==="wysiwyg"){if(function(r,c){if(r.wysiwyg.composingLock=c.isComposing,c.isComposing)return!1;c.key.indexOf("Arrow")!==-1||c.key==="Meta"||c.key==="Control"||c.key==="Alt"||c.key==="Shift"||c.key==="CapsLock"||c.key==="Escape"||/^F\d{1,2}$/.test(c.key)||r.undo.recordFirstPosition(r,c);var g=(0,K.zh)(r),T=g.startContainer;if(!Xn(c,r,T)||(qt(g,r,c),ri(g),c.key!=="Enter"&&c.key!=="Tab"&&c.key!=="Backspace"&&c.key.indexOf("Arrow")===-1&&!(0,h.yl)(c)&&c.key!=="Escape"&&c.key!=="Delete"))return!1;var H=(0,k.F9)(T),N=(0,k.lG)(T,"P");if(It(c,r,N,g)||Tn(g,r,N,c)||wi(r,c,g))return!0;var _=(0,k.fb)(T,"vditor-wysiwyg__block");if(_){if(c.key==="Escape"&&_.children.length===2)return r.wysiwyg.popover.style.display="none",_.firstElementChild.style.display="none",r.wysiwyg.element.blur(),c.preventDefault(),!0;if(!(0,h.yl)(c)&&!c.shiftKey&&c.altKey&&c.key==="Enter"&&_.getAttribute("data-type")==="code-block"){var Z=r.wysiwyg.popover.querySelector(".vditor-input");return Z.focus(),Z.select(),c.preventDefault(),!0}if(_.getAttribute("data-block")==="0"&&(ki(r,c,_.firstElementChild,g)||tn(r,c,g,_.firstElementChild,_)||_.getAttribute("data-type")!=="yaml-front-matter"&&Gt(r,c,g,_.firstElementChild,_)))return!0}if(xi(r,g,c,N))return!0;var ee=(0,k.E2)(T,"BLOCKQUOTE");if(ee&&!c.shiftKey&&c.altKey&&c.key==="Enter"){(0,h.yl)(c)?g.setStartBefore(ee):g.setStartAfter(ee),(0,K.Hc)(g);var ge=document.createElement("p");return ge.setAttribute("data-block","0"),ge.innerHTML=`
`,g.insertNode(ge),g.collapse(!0),(0,K.Hc)(g),et(r),dt(r),c.preventDefault(),!0}var z,he=(0,J.W)(T);if(he){if(he.tagName==="H6"&&T.textContent.length===g.startOffset&&!(0,h.yl)(c)&&!c.shiftKey&&!c.altKey&&c.key==="Enter"){var de=document.createElement("p");return de.textContent=`
`,de.setAttribute("data-block","0"),T.parentElement.insertAdjacentElement("afterend",de),g.setStart(de,0),(0,K.Hc)(g),et(r),dt(r),c.preventDefault(),!0}var re;if(fe("\u2318=",c))return(re=parseInt(he.tagName.substr(1),10)-1)>0&&(Dt(r,"h".concat(re)),et(r)),c.preventDefault(),!0;if(fe("\u2318-",c))return(re=parseInt(he.tagName.substr(1),10)+1)<7&&(Dt(r,"h".concat(re)),et(r)),c.preventDefault(),!0;c.key!=="Backspace"||(0,h.yl)(c)||c.shiftKey||c.altKey||he.textContent.length!==1||Un(r)}if(ni(r,g,c))return!0;if(c.altKey&&c.key==="Enter"&&!(0,h.yl)(c)&&!c.shiftKey){var ue=(0,k.lG)(T,"A"),pe=(0,k.a1)(T,"data-type","link-ref"),te=(0,k.a1)(T,"data-type","footnotes-ref");if(ue||pe||te||he&&he.tagName.length===2){var ke=r.wysiwyg.popover.querySelector("input");ke.focus(),ke.select()}}if(wt(r,c))return!0;if(fe("\u21E7\u2318U",c)&&(z=r.wysiwyg.popover.querySelector('[data-type="up"]'))||fe("\u21E7\u2318D",c)&&(z=r.wysiwyg.popover.querySelector('[data-type="down"]')))return z.click(),c.preventDefault(),!0;if(jt(r,g,c))return!0;if(!(0,h.yl)(c)&&c.shiftKey&&!c.altKey&&c.key==="Enter"&&T.parentElement.tagName!=="LI"&&T.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(T.parentElement.tagName)?g.insertNode(document.createTextNode(`
`+S.g.ZWSP)):g.insertNode(document.createTextNode(`
`)),g.collapse(!1),(0,K.Hc)(g),et(r),dt(r),c.preventDefault(),!0;if(c.key==="Backspace"&&!(0,h.yl)(c)&&!c.shiftKey&&!c.altKey&&g.toString()===""){if(ii(r,g,c,N))return!0;if(H){if(H.previousElementSibling&&H.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&H.previousElementSibling.getAttribute("data-block")==="0"&&H.tagName!=="UL"&&H.tagName!=="OL"){var Me=(0,K.im)(H,r.wysiwyg.element,g).start;if(Me===0&&g.startOffset===0||Me===1&&H.innerText.startsWith(S.g.ZWSP))return dn(H.previousElementSibling.lastElementChild,r,!1),H.innerHTML.trim().replace(S.g.ZWSP,"")===""&&(H.remove(),et(r)),c.preventDefault(),!0}var Se=g.startOffset;if(g.toString()===""&&T.nodeType===3&&T.textContent.charAt(Se-2)===`
`&&T.textContent.charAt(Se-1)!==S.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(T.parentElement.tagName))return T.textContent=T.textContent.substring(0,Se-1)+S.g.ZWSP,g.setStart(T,Se),g.collapse(!0),et(r),c.preventDefault(),!0;T.textContent===S.g.ZWSP&&g.startOffset===1&&!T.previousSibling&&function(Ae){for(var xe=Ae.startContainer.nextSibling;xe&&xe.textContent==="";)xe=xe.nextSibling;return!(!xe||xe.nodeType===3||xe.tagName!=="CODE"&&xe.getAttribute("data-type")!=="math-inline"&&xe.getAttribute("data-type")!=="html-entity"&&xe.getAttribute("data-type")!=="html-inline")}(g)&&(T.textContent=""),H.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(Ae){Ae.firstElementChild.style.display="inline",Ae.lastElementChild.style.display="none"}),H.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(Ae){Ae.firstElementChild.style.display="inline",Ae.lastElementChild.style.display="none"})}}if((0,h.vU)()&&g.startOffset===1&&T.textContent.indexOf(S.g.ZWSP)>-1&&T.previousSibling&&T.previousSibling.nodeType!==3&&T.previousSibling.tagName==="CODE"&&(c.key==="Backspace"||c.key==="ArrowLeft"))return g.selectNodeContents(T.previousSibling),g.collapse(!1),c.preventDefault(),!0;if(_n(c,H,g))return c.preventDefault(),!0;if(Zn(g,c.key),c.key==="ArrowDown"){var _e=T.nextSibling;_e&&_e.nodeType!==3&&_e.getAttribute("data-type")==="math-inline"&&g.setStartAfter(_e)}return!(!H||!ye(H,r,c,g)||(c.preventDefault(),0))}(e,n))return}else if(e.currentMode==="ir"&&function(r,c){if(r.ir.composingLock=c.isComposing,c.isComposing)return!1;c.key.indexOf("Arrow")!==-1||c.key==="Meta"||c.key==="Control"||c.key==="Alt"||c.key==="Shift"||c.key==="CapsLock"||c.key==="Escape"||/^F\d{1,2}$/.test(c.key)||r.undo.recordFirstPosition(r,c);var g=(0,K.zh)(r),T=g.startContainer;if(!Xn(c,r,T)||(qt(g,r,c),ri(g),c.key!=="Enter"&&c.key!=="Tab"&&c.key!=="Backspace"&&c.key.indexOf("Arrow")===-1&&!(0,h.yl)(c)&&c.key!=="Escape"&&c.key!=="Delete"))return!1;var H=(0,k.a1)(T,"data-newline","1");if(!(0,h.yl)(c)&&!c.altKey&&!c.shiftKey&&c.key==="Enter"&&H&&g.startOffset<H.textContent.length){var N=H.previousElementSibling;N&&(g.insertNode(document.createTextNode(N.textContent)),g.collapse(!1));var _=H.nextSibling;_&&(g.insertNode(document.createTextNode(_.textContent)),g.collapse(!0))}var Z=(0,k.lG)(T,"P");if(It(c,r,Z,g)||Tn(g,r,Z,c)||xi(r,g,c,Z))return!0;var ee=(0,k.fb)(T,"vditor-ir__marker--pre");if(ee&&ee.tagName==="PRE"){var ge=ee.firstChild;if(ki(r,c,ee,g)||(ge.getAttribute("data-type")==="math-block"||ge.getAttribute("data-type")==="html-block")&&Gt(r,c,g,ge,ee.parentElement)||tn(r,c,g,ge,ee.parentElement))return!0}var z=(0,k.a1)(T,"data-type","code-block-info");if(z){if(c.key==="Enter"||c.key==="Tab")return g.selectNodeContents(z.nextElementSibling.firstChild),g.collapse(!0),c.preventDefault(),M(r,["hint"]),!0;if(c.key==="Backspace"){var he=(0,K.im)(z,r.ir.element).start;he===1&&g.setStart(T,0),he===2&&(r.hint.recentLanguage="")}if(Gt(r,c,g,z,z.parentElement))return M(r,["hint"]),!0}var de=(0,k.lG)(T,"TD")||(0,k.lG)(T,"TH");if(c.key.indexOf("Arrow")>-1&&de){var re=hn(de);if(re&&Gt(r,c,g,de,re))return!0;var ue=yi(de);if(ue&&tn(r,c,g,de,ue))return!0}if(wi(r,c,g)||ni(r,g,c)||jt(r,g,c))return!0;var pe=(0,J.W)(T);if(pe){var te;if(fe("\u2318=",c))return(te=pe.querySelector(".vditor-ir__marker--heading"))&&te.textContent.trim().length>1&&Xt(r,te.textContent.substr(1)),c.preventDefault(),!0;if(fe("\u2318-",c))return(te=pe.querySelector(".vditor-ir__marker--heading"))&&te.textContent.trim().length<6&&Xt(r,te.textContent.trim()+"# "),c.preventDefault(),!0}var ke=(0,k.F9)(T);if(c.key==="Backspace"&&!(0,h.yl)(c)&&!c.shiftKey&&!c.altKey&&g.toString()===""){if(ii(r,g,c,Z))return!0;if(ke&&ke.previousElementSibling&&ke.tagName!=="UL"&&ke.tagName!=="OL"&&(ke.previousElementSibling.getAttribute("data-type")==="code-block"||ke.previousElementSibling.getAttribute("data-type")==="math-block")){var Me=(0,K.im)(ke,r.ir.element,g).start;if(Me===0||Me===1&&ke.innerText.startsWith(S.g.ZWSP))return g.selectNodeContents(ke.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),g.collapse(!1),ce(g,r),ke.textContent.trim().replace(S.g.ZWSP,"")===""&&(ke.remove(),Nt(r)),c.preventDefault(),!0}if(pe){var Se=pe.firstElementChild.textContent.length;(0,K.im)(pe,r.ir.element).start===Se&&Se!==0&&(g.setStart(pe.firstElementChild.firstChild,Se-1),g.collapse(!0),(0,K.Hc)(g))}}return!((c.key!=="ArrowUp"&&c.key!=="ArrowDown"||!ke||(ke.querySelectorAll(".vditor-ir__node").forEach(function(_e){_e.contains(T)||_e.classList.add("vditor-ir__node--hidden")}),!_n(c,ke,g)))&&(Zn(g,c.key),!ke||!ye(ke,r,c,g)||(c.preventDefault(),0)))}(e,n))return;if(e.options.ctrlEnter&&fe("\u2318Enter",n))return e.options.ctrlEnter(u(e)),void n.preventDefault();if(fe("\u2318Z",n)&&!e.toolbar.elements.undo)return e.undo.undo(e),void n.preventDefault();if(fe("\u2318Y",n)&&!e.toolbar.elements.redo)return e.undo.redo(e),void n.preventDefault();if(n.key==="Escape")return e.hint.element.style.display==="block"?e.hint.element.style.display="none":e.options.esc&&!n.isComposing&&e.options.esc(u(e)),void n.preventDefault();if((0,h.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[1-6]$/.test(n.code)){if(e.currentMode==="wysiwyg"){var a=n.code.replace("Digit","H");(0,k.lG)(getSelection().getRangeAt(0).startContainer,a)?Un(e):Dt(e,a),et(e)}else e.currentMode==="sv"?Rt(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" "):e.currentMode==="ir"&&Xt(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" ");return n.preventDefault(),!0}if((0,h.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[7-9]$/.test(n.code))return n.code==="Digit7"?Ot(e,"wysiwyg",n):n.code==="Digit8"?Ot(e,"ir",n):n.code==="Digit9"&&Ot(e,"sv",n),!0;e.options.toolbar.find(function(r){return!r.hotkey||r.toolbar?!!r.toolbar&&!!r.toolbar.find(function(c){return!!c.hotkey&&(fe(c.hotkey,n)?(e.toolbar.elements[c.name].children[0].dispatchEvent(new CustomEvent((0,h.Le)())),n.preventDefault(),!0):void 0)}):fe(r.hotkey,n)?(e.toolbar.elements[r.name].children[0].dispatchEvent(new CustomEvent((0,h.Le)())),n.preventDefault(),!0):void 0})}})},fn=function(e,t){t.addEventListener("selectstart",function(n){t.onmouseup=function(){setTimeout(function(){var a=Yt(e[e.currentMode].element);a.trim()?(e.currentMode==="wysiwyg"&&e.options.comment.enable&&((0,k.a1)(n.target,"data-type","footnotes-block")||(0,k.a1)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.hideComment():e.wysiwyg.showComment()),e.options.select&&e.options.select(a)):(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.wysiwyg.hideComment(),typeof e.options.unSelect=="function"&&e.options.unSelect())})}})},kn=function(e,t){var n=(0,K.zh)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var a=(0,k.a1)(n.startContainer,"data-block","0");a||(a=e.sv.element);var r=e.lute.SpinVditorSVDOM(a.textContent);r="<div data-block='0'>"+r.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",a.isEqualNode(e.sv.element)?a.innerHTML=r:a.outerHTML=r,Ve(e.sv.element),(0,K.ib)(e.sv.element,n),dt(e)},xn=function(e,t,n){n===void 0&&(n=!0);var a=e;for(a.nodeType===3&&(a=a.parentElement);a;){if(a.getAttribute("data-type")===t)return a;a=n?a.previousElementSibling:a.nextElementSibling}return!1},vt=function(e,t){return V("SpinVditorSVDOM",e,"argument",t.options.debugger),e="<div data-block='0'>"+t.lute.SpinVditorSVDOM(e).replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",V("SpinVditorSVDOM",e,"result",t.options.debugger),e},Ni=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,a=t&&t!=="text"&&t!=="table"&&t!=="heading-marker"&&t!=="newline"&&t!=="yaml-front-matter-open-marker"&&t!=="yaml-front-matter-close-marker"&&t!=="code-block-info"&&t!=="code-block-close-marker"&&t!=="code-block-open-marker"?e.textContent:"",r=!1;for(t==="newline"&&(r=!0);n&&!r;){var c=n.getAttribute("data-type");if(c==="li-marker"||c==="blockquote-marker"||c==="task-marker"||c==="padding"){var g=n.textContent;if(c!=="li-marker"||t!=="code-block-open-marker"&&t!=="code-block-info")if(t==="code-block-close-marker"&&n.nextElementSibling.isSameNode(e)){var T=xn(e,"code-block-open-marker");T&&T.previousElementSibling&&(n=T.previousElementSibling,a=g+a)}else a=g+a;else a=g.replace(/\S/g," ")+a}else c==="newline"&&(r=!0);n=n.previousElementSibling}return a},st=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout(function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)},e.options.undoDelay)},Rt=function(e,t){var n=(0,K.zh)(e),a=(0,J.S)(n.startContainer,"SPAN");a&&a.textContent.trim()!==""&&(t=`
`+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},zt=function(e,t,n,a){var r=(0,K.zh)(e),c=t.getAttribute("data-type");e.sv.element.childNodes.length===0&&(e.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,K.ib)(e.sv.element,r));var g=(0,k.F9)(r.startContainer),T=(0,J.S)(r.startContainer,"SPAN");if(g){if(c==="link"){var H=void 0;return H=r.toString()===""?"".concat(n).concat(Lute.Caret).concat(a):"".concat(n).concat(r.toString()).concat(a.replace(")",Lute.Caret+")")),void document.execCommand("insertHTML",!1,H)}if(c==="italic"||c==="bold"||c==="strike"||c==="inline-code"||c==="code"||c==="table"||c==="line")return H=void 0,H=r.toString()===""?"".concat(n).concat(Lute.Caret).concat(c==="code"?"":a):"".concat(n).concat(r.toString()).concat(Lute.Caret).concat(c==="code"?"":a),c==="table"||c==="code"&&T&&T.textContent!==""?H=`

`+H:c==="line"&&(H=`

`.concat(n,`
`).concat(Lute.Caret)),void document.execCommand("insertHTML",!1,H);if((c==="check"||c==="list"||c==="ordered-list"||c==="quote")&&T){var N="* ";c==="check"?N="* [ ] ":c==="ordered-list"?N="1. ":c==="quote"&&(N="> ");var _=xn(T,"newline");return _?_.insertAdjacentText("afterend",N):g.insertAdjacentText("afterbegin",N),void Ke(e)}(0,K.ib)(e.sv.element,r),st(e)}},En=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},mi=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach(function(n){t.setRequestHeader(n,e.options.upload.headers[n])})},Di=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function g(N){try{H(a.next(N))}catch(_){c(_)}}function T(N){try{H(a.throw(N))}catch(_){c(_)}}function H(N){var _;N.done?r(N.value):(_=N.value,_ instanceof n?_:new n(function(Z){Z(_)})).then(g,T)}H((a=a.apply(e,t||[])).next())})},Oi=function(e,t){var n,a,r,c,g={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function T(H){return function(N){return function(_){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,_[0]&&(g=0)),g;)try{if(n=1,a&&(r=2&_[0]?a.return:_[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,_[1])).done)return r;switch(a=0,r&&(_=[2&_[0],r.value]),_[0]){case 0:case 1:r=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,a=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(r=g.trys,!((r=r.length>0&&r[r.length-1])||_[0]!==6&&_[0]!==2)){g=0;continue}if(_[0]===3&&(!r||_[1]>r[0]&&_[1]<r[3])){g.label=_[1];break}if(_[0]===6&&g.label<r[1]){g.label=r[1],r=_;break}if(r&&g.label<r[2]){g.label=r[2],g.ops.push(_);break}r[2]&&g.ops.pop(),g.trys.pop();continue}_=t.call(e,g)}catch(Z){_=[6,Z],a=0}finally{n=r=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([H,N])}}},gi=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},Gn=function(e,t,n){return Di(void 0,void 0,void 0,function(){var a,r,c,g,T,H,N,_,Z,ee,ge,z,he,de;return Oi(this,function(re){switch(re.label){case 0:for(a=[],r=e.options.upload.multiple===!0?t.length:1,z=0;z<r;z++)(c=t[z])instanceof DataTransferItem&&(c=c.getAsFile()),a.push(c);return e.options.upload.handler?[4,e.options.upload.handler(a)]:[3,2];case 1:return g=re.sent(),n&&(n.value=""),typeof g=="string"?(e.tip.show(g),[2]):[2];case 2:return e.options.upload.url&&e.upload?e.options.upload.file?[4,e.options.upload.file(a)]:[3,4]:(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]);case 3:a=re.sent(),re.label=4;case 4:if(e.options.upload.validate&&typeof(g=e.options.upload.validate(a))=="string")return e.tip.show(g),[2];if(T=En(e),e.upload.range=(0,K.zh)(e),H=function(ue,pe){ue.tip.hide();for(var te=[],ke="",Me="",Se=(ue.options.lang,ue.options,function(Oe,D){var $=pe[D],q=!0;$.name||(ke+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),q=!1),$.size>ue.options.upload.max&&(ke+="<li>".concat($.name," ").concat(window.VditorI18n.over," ").concat(ue.options.upload.max/1024/1024,"M</li>"),q=!1);var G=$.name.lastIndexOf("."),Y=$.name.substr(G),oe=ue.options.upload.filename($.name.substr(0,G))+Y;ue.options.upload.accept&&(ue.options.upload.accept.split(",").some(function(me){var we=me.trim();if(we.indexOf(".")===0){if(Y.toLowerCase()===we.toLowerCase())return!0}else if($.type.split("/")[0]===we.split("/")[0])return!0;return!1})||(ke+="<li>".concat($.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),q=!1)),q&&(te.push($),Me+="<li>".concat(oe," ").concat(window.VditorI18n.uploading,' <a class="vditorCancelUpload" href="javascript:void(0)">').concat(window.VditorI18n.cancelUpload,"</a></li>"))}),_e=pe.length,Ae=0;Ae<_e;Ae++)Se(0,Ae);if(ue.tip.show("<ul>".concat(ke).concat(Me,"</ul>")),ue.options.upload.cancel){var xe=ue.tip.element.querySelector(".vditorCancelUpload");xe&&xe.addEventListener("click",function(){ue.options.upload.cancel(te),ue.tip.hide(),ue.upload.isUploading=!1})}return te}(e,a),H.length===0)return n&&(n.value=""),[2];for(N=new FormData,_=e.options.upload.extraData,Z=0,ee=Object.keys(_);Z<ee.length;Z++)ge=ee[Z],N.append(ge,_[ge]);for(z=0,he=H.length;z<he;z++)N.append(e.options.upload.fieldName,H[z]);return de=new XMLHttpRequest,e.upload.xhr=de,de.open("POST",e.options.upload.url),e.options.upload.token&&de.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(de.withCredentials=!0),mi(e,de),e.upload.isUploading=!0,T.setAttribute("contenteditable","false"),de.onreadystatechange=function(){if(de.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,T.setAttribute("contenteditable","true"),de.status>=200&&de.status<300)if(e.options.upload.success)e.options.upload.success(T,de.responseText);else{var ue=de.responseText;e.options.upload.format&&(ue=e.options.upload.format(t,de.responseText)),function(pe,te){En(te).focus();var ke=JSON.parse(pe),Me="";ke.code===1&&(Me="".concat(ke.msg)),ke.data.errFiles&&ke.data.errFiles.length>0&&(Me="<ul><li>".concat(Me,"</li>"),ke.data.errFiles.forEach(function(_e){var Ae=_e.lastIndexOf("."),xe=te.options.upload.filename(_e.substr(0,Ae))+_e.substr(Ae);Me+="<li>".concat(xe," ").concat(window.VditorI18n.uploadError,"</li>")}),Me+="</ul>"),Me?te.tip.show(Me):te.tip.hide();var Se="";Object.keys(ke.data.succMap).forEach(function(_e){var Ae=ke.data.succMap[_e],xe=_e.lastIndexOf("."),Oe=_e.substr(xe),D=te.options.upload.filename(_e.substr(0,xe))+Oe;(Oe=Oe.toLowerCase()).indexOf(".wav")===0||Oe.indexOf(".mp3")===0||Oe.indexOf(".ogg")===0?te.currentMode==="wysiwyg"?Se+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(Ae,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(Ae,`"></audio></pre></div>
`):te.currentMode==="ir"?Se+='<audio controls="controls" src="'.concat(Ae,`"></audio>
`):Se+="[".concat(D,"](").concat(Ae,`)
`):Oe.indexOf(".apng")===0||Oe.indexOf(".bmp")===0||Oe.indexOf(".gif")===0||Oe.indexOf(".ico")===0||Oe.indexOf(".cur")===0||Oe.indexOf(".jpg")===0||Oe.indexOf(".jpeg")===0||Oe.indexOf(".jfif")===0||Oe.indexOf(".pjp")===0||Oe.indexOf(".pjpeg")===0||Oe.indexOf(".png")===0||Oe.indexOf(".svg")===0||Oe.indexOf(".webp")===0?te.currentMode==="wysiwyg"?Se+='<img alt="'.concat(D,'" src="').concat(Ae,`">
`):Se+="![".concat(D,"](").concat(Ae,`)
`):te.currentMode==="wysiwyg"?Se+='<a href="'.concat(Ae,'">').concat(D,`</a>
`):Se+="[".concat(D,"](").concat(Ae,`)
`)}),(0,K.Hc)(te.upload.range),document.execCommand("insertHTML",!1,Se),te.upload.range=getSelection().getRangeAt(0).cloneRange()}(ue,e)}else e.options.upload.error?e.options.upload.error(de.responseText):e.tip.show(de.responseText);n&&(n.value=""),e.upload.element.style.display="none",e.upload.xhr=void 0}},de.upload.onprogress=function(ue){if(ue.lengthComputable){var pe=ue.loaded/ue.total*100;e.upload.element.style.display="block",e.upload.element.style.width=pe+"%"}},de.send(N),[2]}})})},Kt=function(e,t,n){var a,r=(0,k.F9)(t.startContainer);if(r||(r=e.wysiwyg.element),n&&n.inputType!=="formatItalic"&&n.inputType!=="deleteByDrag"&&n.inputType!=="insertFromDrop"&&n.inputType!=="formatBold"&&n.inputType!=="formatRemove"&&n.inputType!=="formatStrikeThrough"&&n.inputType!=="insertUnorderedList"&&n.inputType!=="insertOrderedList"&&n.inputType!=="formatOutdent"&&n.inputType!=="formatIndent"&&n.inputType!==""||!n){var c=function(pe){for(var te=pe.previousSibling;te;){if(te.nodeType!==3&&te.tagName==="A"&&!te.previousSibling&&te.innerHTML.replace(S.g.ZWSP,"")===""&&te.nextSibling)return te;te=te.previousSibling}return!1}(t.startContainer);c&&c.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach(function(pe){pe.remove()}),t.insertNode(document.createElement("wbr")),r.querySelectorAll("[style]").forEach(function(pe){pe.removeAttribute("style")}),r.querySelectorAll(".vditor-comment").forEach(function(pe){pe.textContent.trim()===""&&(pe.classList.remove("vditor-comment","vditor-comment--focus"),pe.removeAttribute("data-cmtids"))}),(a=r.previousElementSibling)===null||a===void 0||a.querySelectorAll(".vditor-comment").forEach(function(pe){pe.textContent.trim()===""&&(pe.classList.remove("vditor-comment","vditor-comment--focus"),pe.removeAttribute("data-cmtids"))});var g="";r.getAttribute("data-type")==="link-ref-defs-block"&&(r=e.wysiwyg.element);var T,H=r.isEqualNode(e.wysiwyg.element),N=(0,k.a1)(r,"data-type","footnotes-block");if(H)g=r.innerHTML;else{var _=(0,k.O9)(t.startContainer);if(_&&!N){var Z=(0,J.S)(t.startContainer,"BLOCKQUOTE");r=Z?(0,k.F9)(t.startContainer)||r:_}if(N&&(r=N),g=r.outerHTML,r.tagName==="UL"||r.tagName==="OL"){var ee=r.previousElementSibling,ge=r.nextElementSibling;!ee||ee.tagName!=="UL"&&ee.tagName!=="OL"||(g=ee.outerHTML+g,ee.remove()),!ge||ge.tagName!=="UL"&&ge.tagName!=="OL"||(g+=ge.outerHTML,ge.remove()),g=g.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}r.innerText.startsWith("```")||(e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(pe){pe&&!r.isEqualNode(pe)&&(g+=pe.outerHTML,pe.remove())}),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(pe){pe&&!r.isEqualNode(pe)&&(g+=pe.outerHTML,pe.remove())}))}if((g=g.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&e.hint.recentLanguage&&(g='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),V("SpinVditorDOM",g,"argument",e.options.debugger),g=e.lute.SpinVditorDOM(g),V("SpinVditorDOM",g,"result",e.options.debugger),H)r.innerHTML=g;else if(r.outerHTML=g,N){var z=(0,k.E2)(e.wysiwyg.element.querySelector("wbr"),"LI");if(z){var he=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(z.getAttribute("data-marker"),'"]'));he&&he.setAttribute("aria-label",z.textContent.trim().substr(0,24))}}var de,re=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");re.forEach(function(pe,te){te===0?T=pe:(T.insertAdjacentHTML("beforeend",pe.innerHTML),pe.remove())}),re.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",re[0]);var ue=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");ue.forEach(function(pe,te){te===0?de=pe:(de.insertAdjacentHTML("beforeend",pe.innerHTML),pe.remove())}),ue.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",ue[0]),(0,K.ib)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(pe){rt(pe,e)}),n&&(n.inputType==="deleteContentBackward"||n.inputType==="deleteContentForward")&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}Ct(e),et(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},ji=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vi=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function g(N){try{H(a.next(N))}catch(_){c(_)}}function T(N){try{H(a.throw(N))}catch(_){c(_)}}function H(N){var _;N.done?r(N.value):(_=N.value,_ instanceof n?_:new n(function(Z){Z(_)})).then(g,T)}H((a=a.apply(e,t||[])).next())})},Ii=function(e,t){var n,a,r,c,g={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function T(H){return function(N){return function(_){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,_[0]&&(g=0)),g;)try{if(n=1,a&&(r=2&_[0]?a.return:_[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,_[1])).done)return r;switch(a=0,r&&(_=[2&_[0],r.value]),_[0]){case 0:case 1:r=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,a=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(r=g.trys,!((r=r.length>0&&r[r.length-1])||_[0]!==6&&_[0]!==2)){g=0;continue}if(_[0]===3&&(!r||_[1]>r[0]&&_[1]<r[3])){g.label=_[1];break}if(_[0]===6&&g.label<r[1]){g.label=r[1],r=_;break}if(r&&g.label<r[2]){g.label=r[2],g.ops.push(_);break}r[2]&&g.ops.pop(),g.trys.pop();continue}_=t.call(e,g)}catch(Z){_=[6,Z],a=0}finally{n=r=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([H,N])}}},Xn=function(e,t,n){if(e.keyCode===229&&e.code===""&&e.key==="Unidentified"&&t.currentMode!=="sv"){var a=(0,k.F9)(n);if(a&&a.textContent.trim()==="")return t[t.currentMode].composingLock=!0,!1}return!0},qt=function(e,t,n){if(!(n.key==="Enter"||n.key==="Tab"||n.key==="Backspace"||n.key.indexOf("Arrow")>-1||(0,h.yl)(n)||n.key==="Escape"||n.shiftKey||n.altKey)){var a=(0,k.lG)(e.startContainer,"P")||(0,k.lG)(e.startContainer,"LI");if(a&&(0,K.im)(a,t[t.currentMode].element,e).start===0){a.nodeValue&&(a.nodeValue=a.nodeValue.replace(/\u2006/g,""));var r=document.createTextNode(S.g.ZWSP);e.insertNode(r),e.setStartAfter(r)}}},Zn=function(e,t){if(t==="ArrowDown"||t==="ArrowUp"){var n=(0,k.a1)(e.startContainer,"data-type","math-inline")||(0,k.a1)(e.startContainer,"data-type","html-entity")||(0,k.a1)(e.startContainer,"data-type","html-inline");n&&(t==="ArrowDown"&&e.setStartAfter(n.parentElement),t==="ArrowUp"&&e.setStartBefore(n.parentElement))}},en=function(e,t){var n=(0,K.zh)(e),a=(0,k.F9)(n.startContainer);a&&(a.insertAdjacentHTML(t,'<p data-block="0">'.concat(S.g.ZWSP,`<wbr>
</p>`)),(0,K.ib)(e[e.currentMode].element,n),Wt(e),We(e))},hn=function(e){var t=(0,k.lG)(e,"TABLE");return!(!t||!t.rows[0].cells[0].isSameNode(e))&&t},yi=function(e){var t=(0,k.lG)(e,"TABLE");return!(!t||!t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e))&&t},Jn=function(e,t,n){n===void 0&&(n=!0);var a=e.previousElementSibling;return a||(a=e.parentElement.previousElementSibling?e.parentElement.previousElementSibling.lastElementChild:e.parentElement.parentElement.tagName==="TBODY"&&e.parentElement.parentElement.previousElementSibling?e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),a&&(t.selectNodeContents(a),n||t.collapse(!1),(0,K.Hc)(t)),a},tn=function(e,t,n,a,r){var c=(0,K.im)(a,e[e.currentMode].element,n);if(t.key==="ArrowDown"&&a.textContent.trimRight().substr(c.start).indexOf(`
`)===-1||t.key==="ArrowRight"&&c.start>=a.textContent.trimRight().length){var g=r.nextElementSibling;return!g||g&&(g.tagName==="TABLE"||g.getAttribute("data-type"))?(r.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(S.g.ZWSP,"<wbr></p>")),(0,K.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(g),n.collapse(!0),(0,K.Hc)(n)),t.preventDefault(),!0}return!1},Gt=function(e,t,n,a,r){var c=(0,K.im)(a,e[e.currentMode].element,n);if(t.key==="ArrowUp"&&a.textContent.substr(0,c.start).indexOf(`
`)===-1||(t.key==="ArrowLeft"||t.key==="Backspace"&&n.toString()==="")&&c.start===0){var g=r.previousElementSibling;return!g||g&&(g.tagName==="TABLE"||g.getAttribute("data-type"))?(r.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(S.g.ZWSP,"<wbr></p>")),(0,K.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(g),n.collapse(!1),(0,K.Hc)(n)),t.preventDefault(),!0}return!1},mn=function(e,t,n,a){a===void 0&&(a=!0);var r=(0,k.lG)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach(function(_){_.remove()}),t.insertNode(document.createElement("wbr")),a&&r){for(var c="",g=0;g<r.parentElement.childElementCount;g++){var T=r.parentElement.children[g].querySelector("input");T&&T.remove(),c+='<p data-block="0">'.concat(r.parentElement.children[g].innerHTML.trimLeft(),"</p>")}r.parentElement.insertAdjacentHTML("beforebegin",c),r.parentElement.remove()}else if(r)if(n==="check")r.parentElement.querySelectorAll("li").forEach(function(_){_.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(_.textContent.indexOf(" ")===0?"":" ")),_.classList.add("vditor-task")});else{r.querySelector("input")&&r.parentElement.querySelectorAll("li").forEach(function(_){_.querySelector("input").remove(),_.classList.remove("vditor-task")});var H=void 0;n==="list"?(H=document.createElement("ul")).setAttribute("data-marker","*"):(H=document.createElement("ol")).setAttribute("data-marker","1."),H.setAttribute("data-block","0"),H.setAttribute("data-tight",r.parentElement.getAttribute("data-tight")),H.innerHTML=r.parentElement.innerHTML,r.parentElement.parentNode.replaceChild(H,r.parentElement)}else{var N=(0,k.a1)(t.startContainer,"data-block","0");N||(e[e.currentMode].element.querySelector("wbr").remove(),(N=e[e.currentMode].element.querySelector("p")).innerHTML="<wbr>"),n==="check"?(N.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(N.innerHTML,"</li></ul>")),N.remove()):n==="list"?(N.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(N.innerHTML,"</li></ul>")),N.remove()):n==="ordered-list"&&(N.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(N.innerHTML,"</li></ol>")),N.remove())}},Qn=function(e,t,n){var a=t.previousElementSibling;if(t&&a){var r=[t];Array.from(n.cloneContents().children).forEach(function(H,N){H.nodeType!==3&&t&&H.textContent.trim()!==""&&t.getAttribute("data-node-id")===H.getAttribute("data-node-id")&&(N!==0&&r.push(t),t=t.nextElementSibling)}),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(H){H.remove()}),n.insertNode(document.createElement("wbr"));var c=a.parentElement,g="";r.forEach(function(H){var N=H.getAttribute("data-marker");N.length!==1&&(N="1".concat(N.slice(-1))),g+='<li data-node-id="'.concat(H.getAttribute("data-node-id"),'" data-marker="').concat(N,'">').concat(H.innerHTML,"</li>"),H.remove()}),a.insertAdjacentHTML("beforeend","<".concat(c.tagName,' data-block="0">').concat(g,"</").concat(c.tagName,">")),e.currentMode==="wysiwyg"?c.outerHTML=e.lute.SpinVditorDOM(c.outerHTML):c.outerHTML=e.lute.SpinVditorIRDOM(c.outerHTML),(0,K.ib)(e[e.currentMode].element,n);var T=(0,k.O9)(n.startContainer);T&&T.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(H){rt(H,e),e.currentMode==="wysiwyg"&&H.previousElementSibling.setAttribute("style","display:none")}),We(e),Wt(e)}else e[e.currentMode].element.focus()},Yn=function(e,t,n,a){var r=(0,k.lG)(t.parentElement,"LI");if(r){e[e.currentMode].element.querySelectorAll("wbr").forEach(function(Z){Z.remove()}),n.insertNode(document.createElement("wbr"));var c=t.parentElement,g=c.cloneNode(),T=[t];Array.from(n.cloneContents().children).forEach(function(Z,ee){Z.nodeType!==3&&t&&Z.textContent.trim()!==""&&t.getAttribute("data-node-id")===Z.getAttribute("data-node-id")&&(ee!==0&&T.push(t),t=t.nextElementSibling)});var H=!1,N="";c.querySelectorAll("li").forEach(function(Z){H&&(N+=Z.outerHTML,Z.nextElementSibling||Z.previousElementSibling?Z.remove():Z.parentElement.remove()),Z.isSameNode(T[T.length-1])&&(H=!0)}),T.reverse().forEach(function(Z){r.insertAdjacentElement("afterend",Z)}),N&&(g.innerHTML=N,T[0].insertAdjacentElement("beforeend",g)),e.currentMode==="wysiwyg"?a.outerHTML=e.lute.SpinVditorDOM(a.outerHTML):a.outerHTML=e.lute.SpinVditorIRDOM(a.outerHTML),(0,K.ib)(e[e.currentMode].element,n);var _=(0,k.O9)(n.startContainer);_&&_.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(Z){rt(Z,e),e.currentMode==="wysiwyg"&&Z.previousElementSibling.setAttribute("style","display:none")}),We(e),Wt(e)}else e[e.currentMode].element.focus()},Cn=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,a=e.rows[0].cells.length,r=e.rows.length,c=0,g=0;g<r;g++)for(var T=0;T<a;T++)if(e.rows[g].cells[T].isSameNode(n)){c=T;break}for(var H=0;H<r;H++)e.rows[H].cells[c].setAttribute("align",t)},Sn=function(e){var t=e.trimRight().split(`
`).pop();return t!==""&&(t.replace(/ |-/g,"")===""||t.replace(/ |_/g,"")===""||t.replace(/ |\*/g,"")==="")&&t.replace(/ /g,"").length>2&&!(t.indexOf("-")>-1&&t.trimLeft().indexOf(" ")===-1&&e.trimRight().split(`
`).length>1)&&t.indexOf("    ")!==0&&t.indexOf("	")!==0},ei=function(e){var t=e.trimRight().split(`
`);return(e=t.pop()).indexOf("    ")!==0&&e.indexOf("	")!==0&&(e=e.trimLeft())!==""&&t.length!==0&&(e.replace(/-/g,"")===""||e.replace(/=/g,"")==="")},We=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),e.currentMode==="wysiwyg"?et(e,t):e.currentMode==="ir"?Nt(e,t):e.currentMode==="sv"&&st(e,t)},Tn=function(e,t,n,a){var r,c=e.startContainer,g=(0,k.lG)(c,"LI");if(g){if(!(0,h.yl)(a)&&!a.altKey&&a.key==="Enter"&&!a.shiftKey&&n&&g.contains(n)&&n.nextElementSibling)return g&&!g.textContent.endsWith(`
`)&&g.insertAdjacentText("beforeend",`
`),e.insertNode(document.createTextNode(`

`)),e.collapse(!1),We(t),a.preventDefault(),!0;if(!((0,h.yl)(a)||a.shiftKey||a.altKey||a.key!=="Backspace"||g.previousElementSibling||e.toString()!==""||(0,K.im)(g,t[t.currentMode].element,e).start!==0))return g.nextElementSibling?(g.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(g.innerHTML,"</p>")),g.remove()):g.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(g.innerHTML,"</p>"),(0,K.ib)(t[t.currentMode].element,e),We(t),a.preventDefault(),!0;if(!(0,h.yl)(a)&&!a.shiftKey&&!a.altKey&&a.key==="Backspace"&&g.textContent.trim().replace(S.g.ZWSP,"")===""&&e.toString()===""&&((r=g.previousElementSibling)===null||r===void 0?void 0:r.tagName)==="LI")return g.previousElementSibling.insertAdjacentText("beforeend",`

`),e.selectNodeContents(g.previousElementSibling),e.collapse(!1),g.remove(),(0,K.ib)(t[t.currentMode].element,e),We(t),a.preventDefault(),!0;if(!(0,h.yl)(a)&&!a.altKey&&a.key==="Tab"){var T=!1;if((e.startOffset===0&&(c.nodeType===3&&!c.previousSibling||c.nodeType!==3&&c.nodeName==="LI")||g.classList.contains("vditor-task")&&e.startOffset===1&&c.previousSibling.nodeType!==3&&c.previousSibling.tagName==="INPUT")&&(T=!0),T||e.toString()!=="")return a.shiftKey?Yn(t,g,e,g.parentElement):Qn(t,g,e),a.preventDefault(),!0}}return!1},jt=function(e,t,n){if(e.options.tab&&n.key==="Tab")return n.shiftKey||(t.toString()===""?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),(0,K.Hc)(t),We(e),n.preventDefault(),!0},It=function(e,t,n,a){if(n){if(!(0,h.yl)(e)&&!e.altKey&&e.key==="Enter"){var r=String.raw(yn||(yn=ji(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),c=r.split("|");if(r.startsWith("|")&&r.endsWith("|")&&c.length>3){var g=c.map(function(){return"---"}).join("|");return g=n.textContent+`
`+g.substring(3,g.length-3)+`
|<wbr>`,n.outerHTML=t.lute.SpinVditorDOM(g),(0,K.ib)(t[t.currentMode].element,a),We(t),dt(t),e.preventDefault(),!0}if(Sn(n.innerHTML)&&n.previousElementSibling){var T="",H=n.innerHTML.trimRight().split(`
`);return H.length>1&&(H.pop(),T='<p data-block="0">'.concat(H.join(`
`),"</p>")),n.insertAdjacentHTML("afterend","".concat(T,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),n.remove(),(0,K.ib)(t[t.currentMode].element,a),We(t),dt(t),e.preventDefault(),!0}if(ei(n.innerHTML))return t.currentMode==="wysiwyg"?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,K.ib)(t[t.currentMode].element,a),We(t),dt(t),e.preventDefault(),!0}if(a.collapsed&&n.previousElementSibling&&e.key==="Backspace"&&!(0,h.yl)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split(`
`).length>1&&(0,K.im)(n,t[t.currentMode].element,a).start===0){var N=(0,k.DX)(n.previousElementSibling);return N.textContent.endsWith(`
`)||(N.textContent=N.textContent+`
`),N.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(n.innerHTML)),n.remove(),(0,K.ib)(t[t.currentMode].element,a),!1}return!1}},Ln=function(e,t,n){for(var a="",r=0;r<n.parentElement.childElementCount;r++)a+='<td align="'.concat(n.parentElement.children[r].getAttribute("align"),'"> </td>');n.tagName==="TH"?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(a,"</tr></tbody>")):n.parentElement.insertAdjacentHTML("afterend","<tr>".concat(a,"</tr>")),We(e)},Mn=function(e,t,n){for(var a="",r=0;r<n.parentElement.childElementCount;r++)n.tagName==="TH"?a+='<th align="'.concat(n.parentElement.children[r].getAttribute("align"),'"> </th>'):a+='<td align="'.concat(n.parentElement.children[r].getAttribute("align"),'"> </td>');if(n.tagName==="TH"){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(a,"</tr></thead>")),t.insertNode(document.createElement("wbr"));var c=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",c),n.parentElement.parentElement.remove(),(0,K.ib)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(a,"</tr>"));We(e)},An=function(e,t,n,a){a===void 0&&(a="afterend");for(var r=0,c=n.previousElementSibling;c;)r++,c=c.previousElementSibling;for(var g=0;g<t.rows.length;g++)g===0?t.rows[g].cells[r].insertAdjacentHTML(a,"<th> </th>"):t.rows[g].cells[r].insertAdjacentHTML(a,"<td> </td>");We(e)},ti=function(e,t,n){if(n.tagName==="TD"){var a=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(a.previousElementSibling.lastElementChild.lastElementChild),a.childElementCount===1?a.remove():n.parentElement.remove(),t.collapse(!1),(0,K.Hc)(t),We(e)}},bi=function(e,t,n,a){for(var r=0,c=a.previousElementSibling;c;)r++,c=c.previousElementSibling;(a.previousElementSibling||a.nextElementSibling)&&(t.selectNodeContents(a.previousElementSibling||a.nextElementSibling),t.collapse(!0));for(var g=0;g<n.rows.length;g++){var T=n.rows[g].cells;if(T.length===1){n.remove(),Wt(e);break}T[r].remove()}(0,K.Hc)(t),We(e)},wi=function(e,t,n){var a=n.startContainer,r=(0,k.lG)(a,"TD")||(0,k.lG)(a,"TH");if(r){if(!(0,h.yl)(t)&&!t.altKey&&t.key==="Enter"){r.lastElementChild&&(!r.lastElementChild||r.lastElementChild.isSameNode(r.lastChild)&&r.lastElementChild.tagName==="BR")||r.insertAdjacentHTML("beforeend","<br>");var c=document.createElement("br");return n.insertNode(c),n.setStartAfter(c),We(e),dt(e),t.preventDefault(),!0}if(t.key==="Tab")return t.shiftKey?(Jn(r,n),t.preventDefault(),!0):((_=r.nextElementSibling)||(_=r.parentElement.nextElementSibling?r.parentElement.nextElementSibling.firstElementChild:r.parentElement.parentElement.tagName==="THEAD"&&r.parentElement.parentElement.nextElementSibling?r.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),_&&(n.selectNodeContents(_),(0,K.Hc)(n)),t.preventDefault(),!0);var g=r.parentElement.parentElement.parentElement;if(t.key==="ArrowUp"){if(t.preventDefault(),r.tagName==="TH")return g.previousElementSibling?(n.selectNodeContents(g.previousElementSibling),n.collapse(!1),(0,K.Hc)(n)):en(e,"beforebegin"),!0;for(var T=0,H=r.parentElement;T<H.cells.length&&!H.cells[T].isSameNode(r);T++);var N=H.previousElementSibling;return N||(N=H.parentElement.previousElementSibling.firstChild),n.selectNodeContents(N.cells[T]),n.collapse(!1),(0,K.Hc)(n),!0}if(t.key==="ArrowDown"){var _;if(t.preventDefault(),!(H=r.parentElement).nextElementSibling&&r.tagName==="TD")return g.nextElementSibling?(n.selectNodeContents(g.nextElementSibling),n.collapse(!0),(0,K.Hc)(n)):en(e,"afterend"),!0;for(T=0;T<H.cells.length&&!H.cells[T].isSameNode(r);T++);return(_=H.nextElementSibling)||(_=H.parentElement.nextElementSibling.firstChild),n.selectNodeContents(_.cells[T]),n.collapse(!0),(0,K.Hc)(n),!0}if(e.currentMode==="wysiwyg"&&!(0,h.yl)(t)&&t.key==="Enter"&&!t.shiftKey&&t.altKey){var Z=e.wysiwyg.popover.querySelector(".vditor-input");return Z.focus(),Z.select(),t.preventDefault(),!0}if(!(0,h.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Backspace"&&n.startOffset===0&&n.toString()==="")return!Jn(r,n,!1)&&g&&(g.textContent.trim()===""?(g.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,K.ib)(e[e.currentMode].element,n)):(n.setStartBefore(g),n.collapse(!0)),We(e)),t.preventDefault(),!0;if(fe("\u21E7\u2318F",t))return Mn(e,n,r),t.preventDefault(),!0;if(fe("\u2318=",t))return Ln(e,n,r),t.preventDefault(),!0;if(fe("\u21E7\u2318G",t))return An(e,g,r,"beforebegin"),t.preventDefault(),!0;if(fe("\u21E7\u2318=",t))return An(e,g,r),t.preventDefault(),!0;if(fe("\u2318-",t))return ti(e,n,r),t.preventDefault(),!0;if(fe("\u21E7\u2318-",t))return bi(e,n,g,r),t.preventDefault(),!0;if(fe("\u21E7\u2318L",t)){if(e.currentMode==="ir")return Cn(g,"left"),We(e),t.preventDefault(),!0;if(ee=e.wysiwyg.popover.querySelector('[data-type="left"]'))return ee.click(),t.preventDefault(),!0}if(fe("\u21E7\u2318C",t)){if(e.currentMode==="ir")return Cn(g,"center"),We(e),t.preventDefault(),!0;if(ee=e.wysiwyg.popover.querySelector('[data-type="center"]'))return ee.click(),t.preventDefault(),!0}if(fe("\u21E7\u2318R",t)){if(e.currentMode==="ir")return Cn(g,"right"),We(e),t.preventDefault(),!0;var ee;if(ee=e.wysiwyg.popover.querySelector('[data-type="right"]'))return ee.click(),t.preventDefault(),!0}}return!1},ki=function(e,t,n,a){if(n.tagName==="PRE"&&fe("\u2318A",t))return a.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&t.key==="Tab"&&!t.shiftKey&&a.toString()==="")return a.insertNode(document.createTextNode(e.options.tab)),a.collapse(!1),We(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,h.yl)(t)&&!t.shiftKey&&!t.altKey){var r=(0,K.im)(n,e[e.currentMode].element,a);if((r.start===0||r.start===1&&n.innerText===`
`)&&a.toString()==="")return n.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(n.firstElementChild.innerHTML,"</p>"),(0,K.ib)(e[e.currentMode].element,a),We(e),t.preventDefault(),!0}return!(0,h.yl)(t)&&!t.altKey&&t.key==="Enter"&&(n.firstElementChild.textContent.endsWith(`
`)||n.firstElementChild.insertAdjacentText("beforeend",`
`),a.extractContents(),a.insertNode(document.createTextNode(`
`)),a.collapse(!1),(0,K.Hc)(a),(0,h.vU)()||(e.currentMode==="wysiwyg"?Kt(e,a):Qe(e,a)),dt(e),t.preventDefault(),!0)},xi=function(e,t,n,a){var r=t.startContainer,c=(0,k.lG)(r,"BLOCKQUOTE");if(c&&t.toString()===""){if(n.key==="Backspace"&&!(0,h.yl)(n)&&!n.shiftKey&&!n.altKey&&(0,K.im)(c,e[e.currentMode].element,t).start===0)return t.insertNode(document.createElement("wbr")),c.outerHTML=c.innerHTML,(0,K.ib)(e[e.currentMode].element,t),We(e),n.preventDefault(),!0;if(a&&n.key==="Enter"&&!(0,h.yl)(n)&&!n.shiftKey&&!n.altKey&&a.parentElement.tagName==="BLOCKQUOTE"){var g=!1;if(a.innerHTML.replace(S.g.ZWSP,"")===`
`||a.innerHTML.replace(S.g.ZWSP,"")===""?(g=!0,a.remove()):a.innerHTML.endsWith(`

`)&&(0,K.im)(a,e[e.currentMode].element,t).start===a.textContent.length-1&&(a.innerHTML=a.innerHTML.substr(0,a.innerHTML.length-2),g=!0),g)return c.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(S.g.ZWSP,`<wbr>
</p>`)),(0,K.ib)(e[e.currentMode].element,t),We(e),n.preventDefault(),!0}var T=(0,k.F9)(r);if(e.currentMode==="wysiwyg"&&T&&fe("\u21E7\u2318;",n))return t.insertNode(document.createElement("wbr")),T.outerHTML='<blockquote data-block="0">'.concat(T.outerHTML,"</blockquote>"),(0,K.ib)(e.wysiwyg.element,t),et(e),n.preventDefault(),!0;if(tn(e,n,t,c,c)||Gt(e,n,t,c,c))return!0}return!1},ni=function(e,t,n){var a=t.startContainer,r=(0,k.lG)(a,"LI");if(r&&r.classList.contains("vditor-task")){if(fe("\u21E7\u2318J",n)){var c=r.firstElementChild;return c.checked?c.removeAttribute("checked"):c.setAttribute("checked","checked"),We(e),n.preventDefault(),!0}if(n.key==="Backspace"&&!(0,h.yl)(n)&&!n.shiftKey&&!n.altKey&&t.toString()===""&&t.startOffset===1&&(a.nodeType===3&&a.previousSibling&&a.previousSibling.tagName==="INPUT"||a.nodeType!==3)){var g=r.previousElementSibling;return r.querySelector("input").remove(),g?((0,k.DX)(g).parentElement.insertAdjacentHTML("beforeend","<wbr>"+r.innerHTML.trim()),r.remove()):(r.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(r.innerHTML.trim()||`
`,"</p>")),r.nextElementSibling?r.remove():r.parentElement.remove()),(0,K.ib)(e[e.currentMode].element,t),We(e),n.preventDefault(),!0}if(n.key==="Enter"&&!(0,h.yl)(n)&&!n.shiftKey&&!n.altKey){if(r.textContent.trim()==="")if((0,k.fb)(r.parentElement,"vditor-task")){var T=(0,k.O9)(a);T&&Yn(e,r,t,T)}else if(r.nextElementSibling){var H="",N="",_=!1;Array.from(r.parentElement.children).forEach(function(z){r.isSameNode(z)?_=!0:_?H+=z.outerHTML:N+=z.outerHTML});var Z=r.parentElement.tagName,ee=r.parentElement.tagName==="OL"?"":' data-marker="'.concat(r.parentElement.getAttribute("data-marker"),'"'),ge="";N&&(ge=r.parentElement.tagName==="UL"?"":' start="1"',N="<".concat(Z,' data-tight="true"').concat(ee,' data-block="0">').concat(N,"</").concat(Z,">")),r.parentElement.outerHTML="".concat(N,`<p data-block="0"><wbr>
</p><`).concat(Z,`
 data-tight="true"`).concat(ee,' data-block="0"').concat(ge,">").concat(H,"</").concat(Z,">")}else r.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),r.parentElement.querySelectorAll("li").length===1?r.parentElement.remove():r.remove();else a.nodeType!==3&&t.startOffset===0&&a.firstChild.tagName==="INPUT"?t.setStart(a.childNodes[1],1):(t.setEndAfter(r.lastChild),r.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(r.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(t.extractContents()));return(0,K.ib)(e[e.currentMode].element,t),We(e),dt(e),n.preventDefault(),!0}}return!1},ii=function(e,t,n,a){if(t.startContainer.nodeType!==3){var r=t.startContainer.children[t.startOffset];if(r&&r.tagName==="HR")return t.selectNodeContents(r.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(a){var c=a.previousElementSibling;if(c&&(0,K.im)(a,e[e.currentMode].element,t).start===0&&((0,h.vU)()&&c.tagName==="HR"||c.tagName==="TABLE")){if(c.tagName==="TABLE"){var g=c.lastElementChild.lastElementChild.lastElementChild;g.innerHTML=g.innerHTML.trimLeft()+"<wbr>"+a.textContent.trim(),a.remove()}else c.remove();return(0,K.ib)(e[e.currentMode].element,t),We(e),n.preventDefault(),!0}}return!1},ri=function(e){(0,h.vU)()&&e.startContainer.nodeType!==3&&e.startContainer.tagName==="HR"&&e.setStartBefore(e.startContainer)},_n=function(e,t,n){var a,r;if(!(0,h.vU)())return!1;if(e.key==="ArrowUp"&&t&&((a=t.previousElementSibling)===null||a===void 0?void 0:a.tagName)==="TABLE"){var c=t.previousElementSibling;return n.selectNodeContents(c.rows[c.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return!(e.key!=="ArrowDown"||!t||((r=t.nextElementSibling)===null||r===void 0?void 0:r.tagName)!=="TABLE")&&(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0)},gn=function(e,t,n){return vi(void 0,void 0,void 0,function(){var a,r,c,g,T,H,N,_,Z,ee,ge,z,he,de,re,ue;return Ii(this,function(pe){switch(pe.label){case 0:return e[e.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(a=t.clipboardData.getData("text/html"),r=t.clipboardData.getData("text/plain"),c=t.clipboardData.files):(a=t.dataTransfer.getData("text/html"),r=t.dataTransfer.getData("text/plain"),t.dataTransfer.types.includes("Files")&&(c=t.dataTransfer.items)),g={},T=function(te,ke){if(!ke)return["",Lute.WalkContinue];if(e.options.upload.renderLinkDest)return e.options.upload.renderLinkDest(e,te,ke);var Me=te.TokensStr();if(te.__internal_object__.Parent.Type===34&&Me&&Me.indexOf("file://")===-1&&e.options.upload.linkToImgUrl){var Se=new XMLHttpRequest;Se.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&Se.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(Se.withCredentials=!0),mi(e,Se),Se.setRequestHeader("Content-Type","application/json; charset=utf-8"),Se.onreadystatechange=function(){if(Se.readyState===XMLHttpRequest.DONE){if(Se.status===200){var _e=Se.responseText;e.options.upload.linkToImgFormat&&(_e=e.options.upload.linkToImgFormat(Se.responseText));var Ae=JSON.parse(_e);if(Ae.code!==0)return void e.tip.show(Ae.msg);var xe=Ae.data.originalURL;if(e.currentMode==="sv")e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(D){D.textContent===xe&&(D.textContent=Ae.data.url)});else{var Oe=e[e.currentMode].element.querySelector('img[src="'.concat(xe,'"]'));Oe.src=Ae.data.url,e.currentMode==="ir"&&(Oe.previousElementSibling.previousElementSibling.innerHTML=Ae.data.url)}We(e)}else e.tip.show(Se.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(Se.responseText)}},Se.send(JSON.stringify({url:Me}))}return e.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(Me),"</span>"),Lute.WalkContinue]:e.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(Me),"</span>"),Lute.WalkContinue]},a.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'.concat(r,'">').concat(r,"</a>")&&a.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'.concat(r,'">').concat(r,"</a><!--EndFragment-->")||(a=""),(H=new DOMParser().parseFromString(a,"text/html")).body&&(a=H.body.innerHTML),a=Lute.Sanitize(a),e.wysiwyg.getComments(e),N=e[e.currentMode].element.scrollHeight,_=function(te,ke,Me){Me===void 0&&(Me="sv");var Se=document.createElement("div");Se.innerHTML=te;var _e=!1;Se.childElementCount===1&&Se.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(_e=!0);var Ae=Se.querySelectorAll("pre");if(Se.childElementCount===1&&Ae.length===1&&Ae[0].className!=="vditor-wysiwyg"&&Ae[0].className!=="vditor-sv"&&(_e=!0),te.indexOf(`
<p class="p1">`)===0&&(_e=!0),Se.childElementCount===1&&Se.firstElementChild.tagName==="TABLE"&&Se.querySelector(".line-number")&&Se.querySelector(".line-content")&&(_e=!0),_e){var xe=ke||te;return/\n/.test(xe)||Ae.length===1?Me==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(xe.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+xe.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":Me==="wysiwyg"?"<code>".concat(xe.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(xe,"`")}return!1}(a,r,e.currentMode),(Z=e.currentMode==="sv"?(0,k.a1)(t.target,"data-type","code-block"):(0,k.lG)(t.target,"CODE"))?(e.currentMode==="sv"?document.execCommand("insertHTML",!1,r.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(ee=(0,K.im)(t.target,e[e.currentMode].element),Z.parentElement.tagName!=="PRE"&&(r+=S.g.ZWSP),Z.textContent=Z.textContent.substring(0,ee.start)+r+Z.textContent.substring(ee.end),(0,K.$j)(ee.start+r.length,ee.start+r.length,Z.parentElement),!((ue=Z.parentElement)===null||ue===void 0)&&ue.nextElementSibling.classList.contains("vditor-".concat(e.currentMode,"__preview"))&&(Z.parentElement.nextElementSibling.innerHTML=Z.outerHTML,rt(Z.parentElement.nextElementSibling,e))),[3,8]):[3,1]);case 1:return _?(n.pasteCode(_),[3,8]):[3,2];case 2:return a.trim()===""?[3,3]:((ge=document.createElement("div")).innerHTML=a,ge.querySelectorAll("[style]").forEach(function(te){te.removeAttribute("style")}),ge.querySelectorAll(".vditor-copy").forEach(function(te){te.remove()}),e.currentMode==="ir"?(g.HTML2VditorIRDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),(0,K.oC)(e.lute.HTML2VditorIRDOM(ge.innerHTML),e)):e.currentMode==="wysiwyg"?(g.HTML2VditorDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),(0,K.oC)(e.lute.HTML2VditorDOM(ge.innerHTML),e)):(g.Md2VditorSVDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),kn(e,e.lute.HTML2Md(ge.innerHTML).trimRight())),e.outline.render(e),[3,8]);case 3:return c.length>0?e.options.upload.url||e.options.upload.handler?[4,Gn(e,c)]:[3,5]:[3,7];case 4:return pe.sent(),[3,6];case 5:z=new FileReader,"clipboardData"in t?(c=t.clipboardData.files,he=c[0]):t.dataTransfer.types.includes("Files")&&(c=t.dataTransfer.items,he=c[0].getAsFile()),he&&he.type.startsWith("image")&&(z.readAsDataURL(he),z.onload=function(){var te="";e.currentMode==="wysiwyg"?te+='<img alt="'.concat(he.name,'" src="').concat(z.result.toString(),`">
`):te+="![".concat(he.name,"](").concat(z.result.toString(),`)
`),document.execCommand("insertHTML",!1,te)}),pe.label=6;case 6:return[3,8];case 7:r.trim()!==""&&c.length===0&&((re=(0,K.zh)(e)).toString()!==""&&e.lute.IsValidLinkDest(r)&&(r="[".concat(re.toString(),"](").concat(r,")")),e.currentMode==="ir"?(g.Md2VditorIRDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),(0,K.oC)(e.lute.Md2VditorIRDOM(r),e)):e.currentMode==="wysiwyg"?(g.Md2VditorDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),(0,K.oC)(e.lute.Md2VditorDOM(r),e)):(g.Md2VditorSVDOM={renderLinkDest:T},e.lute.SetJSRenderers({renderers:g}),kn(e,r)),e.outline.render(e)),pe.label=8;case 8:return e.currentMode!=="sv"&&((de=(0,k.F9)((0,K.zh)(e).startContainer))&&(re=(0,K.zh)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(te){te.remove()}),re.insertNode(document.createElement("wbr")),e.currentMode==="wysiwyg"?de.outerHTML=e.lute.SpinVditorDOM(de.outerHTML):de.outerHTML=e.lute.SpinVditorIRDOM(de.outerHTML),(0,K.ib)(e[e.currentMode].element,re)),e[e.currentMode].element.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(te){rt(te,e)})),e.wysiwyg.triggerRemoveComment(e),We(e),e[e.currentMode].element.scrollHeight-N>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&dt(e),[2]}})})},oi=function(e){var t,n;e.hint.render(e);var a=(0,K.zh)(e).startContainer,r=(0,k.a1)(a,"data-type","code-block-info");if(r)if(r.textContent.replace(S.g.ZWSP,"")===""&&e.hint.recentLanguage)r.textContent=S.g.ZWSP+e.hint.recentLanguage,(0,K.zh)(e).selectNodeContents(r);else{var c=[],g=r.textContent.substring(0,(0,K.im)(r,e.ir.element).start).replace(S.g.ZWSP,"");(e.options.preview.hljs.langs||S.g.ALIAS_CODE_LANGUAGES.concat(((n=(t=window.hljs)===null||t===void 0?void 0:t.listLanguages())!==null&&n!==void 0?n:[]).sort())).forEach(function(T){T.indexOf(g.toLowerCase())>-1&&c.push({html:T,value:T})}),e.hint.genHTML(c,g,e)}},Nt=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&oi(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout(function(){if(!e.ir.composingLock){var n=u(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,h.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},Xt=function(e,t){var n=(0,K.zh)(e),a=(0,k.F9)(n.startContainer)||n.startContainer;if(a){var r=a.querySelector(".vditor-ir__marker--heading");r?r.innerHTML=t:(a.insertAdjacentText("afterbegin",t),n.selectNodeContents(a),n.collapse(!1)),Qe(e,n.cloneRange()),cn(e)}},Hn=function(e,t,n){var a=(0,k.a1)(e.startContainer,"data-type",n);if(a){a.firstElementChild.remove(),a.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var r=document.createElement("div");r.innerHTML=t.lute.SpinVditorIRDOM(a.outerHTML),a.outerHTML=r.firstElementChild.innerHTML.trim()}},Pi=function(e,t,n,a){var r=(0,K.zh)(e),c=t.getAttribute("data-type"),g=r.startContainer;g.nodeType===3&&(g=g.parentElement);var T=!0;if(t.classList.contains("vditor-menu--current"))if(c==="quote"){var H=(0,k.lG)(g,"BLOCKQUOTE");H&&(r.insertNode(document.createElement("wbr")),H.outerHTML=H.innerHTML.trim()===""?'<p data-block="0">'.concat(H.innerHTML,"</p>"):H.innerHTML)}else if(c==="link"){var N=(0,k.a1)(r.startContainer,"data-type","a");if(N){var _=(0,k.fb)(r.startContainer,"vditor-ir__link");_?(r.insertNode(document.createElement("wbr")),N.outerHTML=_.innerHTML):N.outerHTML=N.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else c==="italic"?Hn(r,e,"em"):c==="bold"?Hn(r,e,"strong"):c==="strike"?Hn(r,e,"s"):c==="inline-code"?Hn(r,e,"code"):c!=="check"&&c!=="list"&&c!=="ordered-list"||(mn(e,r,c),T=!1,t.classList.remove("vditor-menu--current"));else{e.ir.element.childNodes.length===0&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,K.ib)(e.ir.element,r));var Z=(0,k.F9)(r.startContainer);if(c==="line"){if(Z){var ee=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Z.innerHTML.trim()===""?Z.outerHTML=ee:Z.insertAdjacentHTML("afterend",ee)}}else if(c==="quote")Z&&(r.insertNode(document.createElement("wbr")),Z.outerHTML='<blockquote data-block="0">'.concat(Z.outerHTML,"</blockquote>"),T=!1,t.classList.add("vditor-menu--current"));else if(c==="link"){var ge=void 0;ge=r.toString()===""?"".concat(n,"<wbr>").concat(a):"".concat(n).concat(r.toString()).concat(a.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,ge),T=!1,t.classList.add("vditor-menu--current")}else if(c==="italic"||c==="bold"||c==="strike"||c==="inline-code"||c==="code"||c==="table"){ge=void 0,r.toString()===""?ge="".concat(n,"<wbr>").concat(a):(ge=c==="code"?"".concat(n,`
`).concat(r.toString(),"<wbr>").concat(a):c==="table"?"".concat(n).concat(r.toString(),"<wbr>").concat(a):"".concat(n).concat(r.toString()).concat(a,"<wbr>"),r.deleteContents()),c!=="table"&&c!=="code"||(ge=`
`+ge+`

`);var z=document.createElement("span");z.innerHTML=ge,r.insertNode(z),Qe(e,r),c==="table"&&(r.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,K.Hc)(r))}else c!=="check"&&c!=="list"&&c!=="ordered-list"||(mn(e,r,c,!1),T=!1,y(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}(0,K.ib)(e.ir.element,r),Nt(e),T&&cn(e)},Ei=function(e,t,n,a){return new(n||(n=Promise))(function(r,c){function g(N){try{H(a.next(N))}catch(_){c(_)}}function T(N){try{H(a.throw(N))}catch(_){c(_)}}function H(N){var _;N.done?r(N.value):(_=N.value,_ instanceof n?_:new n(function(Z){Z(_)})).then(g,T)}H((a=a.apply(e,t||[])).next())})},ai=function(e,t){var n,a,r,c,g={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function T(H){return function(N){return function(_){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,_[0]&&(g=0)),g;)try{if(n=1,a&&(r=2&_[0]?a.return:_[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,_[1])).done)return r;switch(a=0,r&&(_=[2&_[0],r.value]),_[0]){case 0:case 1:r=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,a=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(r=g.trys,!((r=r.length>0&&r[r.length-1])||_[0]!==6&&_[0]!==2)){g=0;continue}if(_[0]===3&&(!r||_[1]>r[0]&&_[1]<r[3])){g.label=_[1];break}if(_[0]===6&&g.label<r[1]){g.label=r[1],r=_;break}if(r&&g.label<r[2]){g.label=r[2],g.ops.push(_);break}r[2]&&g.ops.pop(),g.trys.pop();continue}_=t.call(e,g)}catch(Z){_=[6,Z],a=0}finally{n=r=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([H,N])}}},nn=function(){function e(t){var n=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(a,r){n.element.style.display="none";var c=decodeURIComponent(a.getAttribute("data-value")),g=window.getSelection().getRangeAt(0);if(r.currentMode==="ir"){var T=(0,k.a1)(g.startContainer,"data-type","code-block-info");if(T)return T.textContent=S.g.ZWSP+c.trimRight(),g.selectNodeContents(T),g.collapse(!1),Nt(r),T.parentElement.querySelectorAll("code").forEach(function(Z){Z.className="language-"+c.trimRight()}),rt(T.parentElement.querySelector(".vditor-ir__preview"),r),void(n.recentLanguage=c.trimRight())}if(r.currentMode==="wysiwyg"&&g.startContainer.nodeType!==3){var H=g.startContainer,N=void 0;if((N=H.classList.contains("vditor-input")?H:H.firstElementChild)&&N.classList.contains("vditor-input"))return N.value=c.trimRight(),g.selectNodeContents(N),g.collapse(!1),N.dispatchEvent(new CustomEvent("input",{detail:1})),void(n.recentLanguage=c.trimRight())}if(g.setStart(g.startContainer,n.lastIndex),g.deleteContents(),r.options.hint.parse?r.currentMode==="sv"?(0,K.oC)(r.lute.SpinVditorSVDOM(c),r):r.currentMode==="wysiwyg"?(0,K.oC)(r.lute.SpinVditorDOM(c),r):(0,K.oC)(r.lute.SpinVditorIRDOM(c),r):(0,K.oC)(c,r),n.splitChar===":"&&c.indexOf(":")>-1&&r.currentMode!=="sv"&&g.insertNode(document.createTextNode(" ")),g.collapse(!1),(0,K.Hc)(g),r.currentMode==="wysiwyg")(_=(0,k.fb)(g.startContainer,"vditor-wysiwyg__block"))&&_.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(_.lastElementChild.innerHTML=_.firstElementChild.innerHTML,rt(_.lastElementChild,r));else if(r.currentMode==="ir"){var _;(_=(0,k.fb)(g.startContainer,"vditor-ir__marker--pre"))&&_.nextElementSibling.classList.contains("vditor-ir__preview")&&(_.nextElementSibling.innerHTML=_.innerHTML,rt(_.nextElementSibling,r))}We(r)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",t.push({key:":"})}return e.prototype.render=function(t){var n=this;if(window.getSelection().focusNode){var a,r=getSelection().getRangeAt(0);a=r.startContainer.textContent.substring(0,r.startOffset)||"";var c=this.getKey(a,t.options.hint.extend);if(c===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var g=c===""?t.options.hint.emoji:t.lute.GetEmojis(),T=[];Object.keys(g).forEach(function(H){H.indexOf(c.toLowerCase())===0&&(g[H].indexOf(".")>-1?T.push({html:'<img src="'.concat(g[H],'" title=":').concat(H,':"/> :').concat(H,":"),value:":".concat(H,":")}):T.push({html:'<span class="vditor-hint__emoji">'.concat(g[H],"</span>").concat(H),value:g[H]}))}),this.genHTML(T,c,t)}else t.options.hint.extend.forEach(function(H){H.key===n.splitChar&&(clearTimeout(n.timeId),n.timeId=window.setTimeout(function(){return Ei(n,void 0,void 0,function(){var N;return ai(this,function(_){switch(_.label){case 0:return N=this.genHTML,[4,H.hint(c)];case 1:return N.apply(this,[_.sent(),c,t]),[2]}})})},t.options.hint.delay))})}},e.prototype.genHTML=function(t,n,a){var r=this;if(t.length!==0){var c=a[a.currentMode].element,g=(0,K.Ny)(c),T=g.left+(a.options.outline.position==="left"?a.outline.element.offsetWidth:0),H=g.top,N="";t.forEach(function(Z,ee){if(!(ee>7)){var ge=Z.html;if(n!==""){var z=ge.lastIndexOf(">")+1,he=ge.substr(z),de=he.toLowerCase().indexOf(n.toLowerCase());de>-1&&(he=he.substring(0,de)+"<b>"+he.substring(de,de+n.length)+"</b>"+he.substring(de+n.length),ge=ge.substr(0,z)+he)}N+='<button type="button" data-value="'.concat(encodeURIComponent(Z.value),` "
`).concat(ee===0?"class='vditor-hint--current'":"","> ").concat(ge,"</button>")}}),this.element.innerHTML=N;var _=parseInt(document.defaultView.getComputedStyle(c,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(H+(_||22),"px"),this.element.style.left="".concat(T,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(Z){Z.addEventListener("click",function(ee){r.fillEmoji(Z,a),ee.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(H-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},e.prototype.select=function(t,n){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var a=this.element.querySelector(".vditor-hint--current");if(t.key==="ArrowDown")return t.preventDefault(),t.stopPropagation(),a.removeAttribute("class"),a.nextElementSibling?a.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(t.key==="ArrowUp"){if(t.preventDefault(),t.stopPropagation(),a.removeAttribute("class"),a.previousElementSibling)a.previousElementSibling.className="vditor-hint--current";else{var r=this.element.children.length;this.element.children[r-1].className="vditor-hint--current"}return!0}return!((0,h.yl)(t)||t.shiftKey||t.altKey||t.key!=="Enter"||t.isComposing)&&(t.preventDefault(),t.stopPropagation(),this.fillEmoji(a,n),!0)},e.prototype.getKey=function(t,n){var a,r=this;if(this.lastIndex=-1,this.splitChar="",n.forEach(function(H){var N=t.lastIndexOf(H.key);r.lastIndex<N&&(r.splitChar=H.key,r.lastIndex=N)}),this.lastIndex===-1)return a;var c=t.split(this.splitChar),g=c[c.length-1];if(c.length>1&&g.trim()===g)if(c.length===2&&c[0]===""&&c[1].length<32)a=c[1];else{var T=c[c.length-2].slice(-1);(0,s.X)(T)===" "&&g.length<32&&(a=g)}return a},e}(),rn=function(){function e(t){this.composingLock=!1;var n=document.createElement("div");n.className="vditor-ir",n.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=n.firstElementChild,this.bindEvent(t),Wn(t,this.element),hi(t,this.element),kt(t,this.element),wn(t,this.element),fn(t,this.element),zn(t,this.element),pn(t,this.element,this.copy),Kn(t,this.element,this.copy)}return e.prototype.copy=function(t,n){var a=getSelection().getRangeAt(0);if(a.toString()!==""){t.stopPropagation(),t.preventDefault();var r=document.createElement("div");r.appendChild(a.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorIRDOM2Md(r.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(a){gn(t,a,{pasteCode:function(r){document.execCommand("insertHTML",!1,r)}})}),this.element.addEventListener("scroll",function(){M(t,["hint"])}),this.element.addEventListener("compositionstart",function(a){n.composingLock=!0}),this.element.addEventListener("compositionend",function(a){(0,h.vU)()||Qe(t,getSelection().getRangeAt(0).cloneRange()),n.composingLock=!1}),this.element.addEventListener("input",function(a){if(a.inputType!=="deleteByDrag"&&a.inputType!=="insertFromDrop")return n.preventInput?(n.preventInput=!1,void Nt(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(n.composingLock||a.data==="\u2018"||a.data==="\u201C"||a.data==="\u300A"||Qe(t,getSelection().getRangeAt(0).cloneRange(),!1,a))}),this.element.addEventListener("click",function(a){if(a.target.tagName==="INPUT")return a.target.checked?a.target.setAttribute("checked","checked"):a.target.removeAttribute("checked"),n.preventInput=!0,void Nt(t);var r=(0,K.zh)(t),c=(0,k.fb)(a.target,"vditor-ir__preview");if(c||(c=(0,k.fb)(r.startContainer,"vditor-ir__preview")),c&&(c.previousElementSibling.firstElementChild?r.selectNodeContents(c.previousElementSibling.firstElementChild):r.selectNodeContents(c.previousElementSibling),r.collapse(!0),(0,K.Hc)(r),dt(t)),a.target.tagName==="IMG"){var g=a.target.parentElement.querySelector(".vditor-ir__marker--link");g&&(r.selectNode(g),(0,K.Hc)(r))}var T=(0,k.a1)(a.target,"data-type","a");if(!T||T.classList.contains("vditor-ir__node--expand")){if(a.target.isEqualNode(n.element)&&n.element.lastElementChild&&r.collapsed){var H=n.element.lastElementChild.getBoundingClientRect();a.y>H.top+H.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(S.g.ZWSP,"")===""?(r.selectNodeContents(n.element.lastElementChild),r.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(S.g.ZWSP,"<wbr></p>")),(0,K.ib)(n.element,r)))}r.toString()===""?ce(r,t):setTimeout(function(){ce((0,K.zh)(t),t)}),At(a,t),cn(t)}else t.options.link.click?t.options.link.click(T.querySelector(":scope > .vditor-ir__marker--link")):t.options.link.isOpen&&window.open(T.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(a){if(!a.isComposing&&!(0,h.yl)(a))if(a.key==="Enter"&&dt(t),cn(t),a.key!=="Backspace"&&a.key!=="Delete"||t.ir.element.innerHTML===""||t.ir.element.childNodes.length!==1||!t.ir.element.firstElementChild||t.ir.element.firstElementChild.tagName!=="P"||t.ir.element.firstElementChild.childElementCount!==0||t.ir.element.textContent!==""&&t.ir.element.textContent!==`
`){var r=(0,K.zh)(t);a.key==="Backspace"?((0,h.vU)()&&r.startContainer.textContent===`
`&&r.startOffset===1&&(r.startContainer.textContent="",ce(r,t)),n.element.querySelectorAll(".language-math").forEach(function(g){var T=g.querySelector("br");T&&T.remove()})):a.key.indexOf("Arrow")>-1?(a.key!=="ArrowLeft"&&a.key!=="ArrowRight"||oi(t),ce(r,t)):a.keyCode===229&&a.code===""&&a.key==="Unidentified"&&ce(r,t);var c=(0,k.fb)(r.startContainer,"vditor-ir__preview");if(c){if(a.key==="ArrowUp"||a.key==="ArrowLeft")return c.previousElementSibling.firstElementChild?r.selectNodeContents(c.previousElementSibling.firstElementChild):r.selectNodeContents(c.previousElementSibling),r.collapse(!1),a.preventDefault(),!0;if(c.tagName==="SPAN"&&(a.key==="ArrowDown"||a.key==="ArrowRight"))return c.parentElement.getAttribute("data-type")==="html-entity"?(c.parentElement.insertAdjacentText("afterend",S.g.ZWSP),r.setStart(c.parentElement.nextSibling,1)):r.selectNodeContents(c.parentElement.lastElementChild),r.collapse(!1),a.preventDefault(),!0}}else t.ir.element.innerHTML=""})},e}(),Ci=function(e){return e.currentMode==="sv"?e.lute.Md2HTML(u(e)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML):void 0},si=ve(214),li=ve(436),Ri=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(t,`</div>
<div class="vditor-outline__content"></div>`)}return e.prototype.render=function(t){return t.preview.element.style.display==="block"?(0,li.k)(t.preview.previewElement,this.element.lastElementChild,t):(0,li.k)(t[t.currentMode].element,this.element.lastElementChild,t)},e.prototype.toggle=function(t,n,a){var r;n===void 0&&(n=!0),a===void 0&&(a=!0);var c=(r=t.toolbar.elements.outline)===null||r===void 0?void 0:r.firstElementChild;if(n&&window.innerWidth>=S.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(t),c?.classList.add("vditor-menu--current")):(this.element.style.display="none",c?.classList.remove("vditor-menu--current")),a&&getSelection().rangeCount>0){var g=getSelection().getRangeAt(0);t[t.currentMode].element.contains(g.startContainer)&&(0,K.Hc)(g)}Ge(t)},e}(),on=ve(280),Nn=function(){function e(t){var n=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",t.options.classes.preview&&this.previewElement.classList.add(t.options.classes.preview),this.previewElement.style.maxWidth=t.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(H){if(H.target.tagName!=="TEXTAREA"){var N=document.createElement("div");N.className="vditor-reset",N.appendChild(getSelection().getRangeAt(0).cloneContents()),n.copyToX(t,N,"default"),H.preventDefault()}}),this.previewElement.addEventListener("click",function(H){var N=(0,k.lG)(H.target,"SPAN");if(N&&(0,k.fb)(N,"vditor-toc")){var _=n.previewElement.querySelector("#"+N.getAttribute("data-target-id"));_&&(n.element.scrollTop=_.offsetTop)}else{if(H.target.tagName==="A")return t.options.link.click?t.options.link.click(H.target):t.options.link.isOpen&&window.open(H.target.getAttribute("href")),void H.preventDefault();H.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(H.target):t.options.image.isPreview&&(0,De.E)(H.target,t.options.lang,t.options.theme))}}),this.element.appendChild(this.previewElement);var a=t.options.preview.actions;if(a.length!==0){var r=document.createElement("div");r.className="vditor-preview__action";for(var c=[],g=0;g<a.length;g++){var T=a[g];if(typeof T!="object")switch(T){case"desktop":c.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":c.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":c.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":c.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u516C\u4F17\u53F7"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":c.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u77E5\u4E4E"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else c.push('<button type="button" data-type="'.concat(T.key,'" class="').concat(T.className,'"').concat(T.tooltip?' aria-label="'.concat(T.tooltip,'"'):"",'">').concat(T.text,"</button>"))}r.innerHTML=c.join(""),r.addEventListener((0,h.Le)(),function(H){var N=(0,J.S)(H.target,"BUTTON");if(N){var _=N.getAttribute("data-type"),Z=a.find(function(ee){return ee?.key===_});Z?Z.click(_):_!=="mp-wechat"&&_!=="zhihu"?(n.previewElement.style.width=_==="desktop"?"auto":_==="tablet"?"780px":"360px",n.previewElement.scrollWidth>n.previewElement.parentElement.clientWidth&&(n.previewElement.style.width="auto"),n.render(t),r.querySelectorAll("button").forEach(function(ee){ee.classList.remove("vditor-preview__action--current")}),N.classList.add("vditor-preview__action--current")):n.copyToX(t,n.previewElement.cloneNode(!0),_)}}),this.element.insertBefore(r,this.previewElement)}}return e.prototype.render=function(t,n){var a=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(n)this.previewElement.innerHTML=n;else if(u(t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var r=new Date().getTime(),c=u(t);this.mdTimeoutId=window.setTimeout(function(){if(t.options.preview.url){var g=new XMLHttpRequest;g.open("POST",t.options.preview.url),g.setRequestHeader("Content-Type","application/json;charset=UTF-8"),g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE)if(g.status===200){var H=JSON.parse(g.responseText);if(H.code!==0)return void t.tip.show(H.msg);t.options.preview.transform&&(H.data=t.options.preview.transform(H.data)),a.previewElement.innerHTML=H.data,a.afterRender(t,r)}else{var N=t.lute.Md2HTML(c);t.options.preview.transform&&(N=t.options.preview.transform(N)),a.previewElement.innerHTML=N,a.afterRender(t,r)}},g.send(JSON.stringify({markdownText:c}))}else{var T=t.lute.Md2HTML(c);t.options.preview.transform&&(T=t.options.preview.transform(T)),a.previewElement.innerHTML=T,a.afterRender(t,r)}},t.options.preview.delay)}else this.previewElement.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&t.tip.hide()},e.prototype.afterRender=function(t,n){t.options.preview.parse&&t.options.preview.parse(this.element);var a=new Date().getTime()-n;new Date().getTime()-n>2600?(t.tip.show(window.VditorI18n.performanceTip.replace("${x}",a.toString())),t.preview.element.setAttribute("data-type","renderPerformance")):t.preview.element.getAttribute("data-type")==="renderPerformance"&&(t.tip.hide(),t.preview.element.removeAttribute("data-type"));var r=t.preview.element.querySelector(".vditor-comment--focus");r&&r.classList.remove("vditor-comment--focus"),(0,le.O)(t.preview.previewElement,t.options.preview.hljs),(0,Ee.s)(t.options.preview.hljs,t.preview.previewElement,t.options.cdn),(0,Re.i)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,Je.K)(t.preview.previewElement,t.options.cdn),(0,ft.J)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,be.P)(t.preview.previewElement,t.options.cdn),(0,$e.v)(t.preview.previewElement,t.options.cdn),(0,W.p)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,Ue.P)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,ht.B)(t.preview.previewElement,t.options.cdn),(0,Q.Q)(t.preview.previewElement,t.options.cdn),t.options.preview.render.media.enable&&(0,on.Y)(t.preview.previewElement),t.options.customRenders.forEach(function(T){T.render(t.preview.previewElement,t)});var c=t.preview.element,g=t.outline.render(t);g===""&&(g="[ToC]"),c.querySelectorAll('[data-type="toc-block"]').forEach(function(T){T.innerHTML=g,(0,He.H)(T,{cdn:t.options.cdn,math:t.options.preview.math})}),(0,He.H)(t.preview.previewElement,{cdn:t.options.cdn,math:t.options.preview.math})},e.prototype.copyToX=function(t,n,a){a===void 0&&(a="mp-wechat"),a!=="zhihu"?n.querySelectorAll(".katex-html .base").forEach(function(c){c.style.display="initial"}):n.querySelectorAll(".language-math").forEach(function(c){c.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(c.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),n.style.backgroundColor="#fff",n.querySelectorAll("code").forEach(function(c){c.style.backgroundImage="none"}),this.element.append(n);var r=n.ownerDocument.createRange();r.selectNode(n),(0,K.Hc)(r),document.execCommand("copy"),n.remove(),t.tip.show(["zhihu","mp-wechat"].includes(a)?"\u5DF2\u590D\u5236\uFF0C\u53EF\u5230".concat(a==="zhihu"?"\u77E5\u4E4E":"\u5FAE\u4FE1\u516C\u4F17\u53F7\u5E73\u53F0","\u8FDB\u884C\u7C98\u8D34"):"\u5DF2\u590D\u5236\u5230\u526A\u5207\u677F")},e}(),qi=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(t.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(t)}return e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("mousedown",function(a){var r=document,c=a.clientY,g=t.element.offsetHeight,T=63+t.element.querySelector(".vditor-toolbar").clientHeight;r.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.element.classList.add("vditor-resize--selected"),r.onmousemove=function(H){t.options.resize.position==="top"?t.element.style.height=Math.max(T,g+(c-H.clientY))+"px":t.element.style.height=Math.max(T,g+(H.clientY-c))+"px",t.options.typewriterMode&&(t.sv.element.style.paddingBottom=t.sv.element.parentElement.offsetHeight/2+"px")},r.onmouseup=function(){t.options.resize.after&&t.options.resize.after(t.element.offsetHeight-g),window.captureEvents&&window.captureEvents(),r.onmousemove=null,r.onmouseup=null,r.ondragstart=null,r.onselectstart=null,r.onselect=null,n.element.classList.remove("vditor-resize--selected")}})},e}(),Bi=function(){function e(t){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",t.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(t),Wn(t,this.element),kt(t,this.element),wn(t,this.element),fn(t,this.element),zn(t,this.element),pn(t,this.element,this.copy),Kn(t,this.element,this.copy)}return e.prototype.copy=function(t,n){t.stopPropagation(),t.preventDefault(),t.clipboardData.setData("text/plain",Yt(n[n.currentMode].element))},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(a){gn(t,a,{pasteCode:function(r){document.execCommand("insertHTML",!1,r)}})}),this.element.addEventListener("scroll",function(){if(t.preview.element.style.display==="block"){var a=n.element.scrollTop,r=n.element.clientHeight,c=n.element.scrollHeight-parseFloat(n.element.style.paddingBottom||"0"),g=t.preview.element;g.scrollTop=a/r>.5?(a+r)*g.scrollHeight/c-r:a*g.scrollHeight/c}}),this.element.addEventListener("compositionstart",function(a){n.composingLock=!0}),this.element.addEventListener("compositionend",function(a){(0,h.vU)()||Ke(t,a),n.composingLock=!1}),this.element.addEventListener("input",function(a){if(a.inputType!=="deleteByDrag"&&a.inputType!=="insertFromDrop"&&!n.composingLock&&a.data!=="\u2018"&&a.data!=="\u201C"&&a.data!=="\u300A")return n.preventInput?(n.preventInput=!1,void st(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void Ke(t,a)}),this.element.addEventListener("keyup",function(a){a.isComposing||(0,h.yl)(a)||(a.key!=="Backspace"&&a.key!=="Delete"||t.sv.element.innerHTML===""||t.sv.element.childNodes.length!==1||!t.sv.element.firstElementChild||t.sv.element.firstElementChild.tagName!=="DIV"||t.sv.element.firstElementChild.childElementCount!==2||t.sv.element.firstElementChild.textContent!==""&&t.sv.element.textContent!==`
`?a.key==="Enter"&&dt(t):t.sv.element.innerHTML="")})},e}(),Si=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(t,n){var a=this;n===void 0&&(n=6e3),this.element.className="vditor-tip vditor-tip--show",n===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){a.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,"</div>"),setTimeout(function(){a.hide()},n)),this.element.removeAttribute("style"),setTimeout(function(){a.element.getBoundingClientRect().top<46&&(a.element.style.position="fixed",a.element.style.top="46px")},150)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e}(),an=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),b(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",y(t.toolbar.elements,["both"])}t.devtools&&t.devtools.renderEchart(t)}},vn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ti=function(e){function t(n,a){var r=e.call(this,n,a)||this;return n.options.preview.mode==="both"&&r.element.children[0].classList.add("vditor-menu--current"),r.element.children[0].addEventListener((0,h.Le)(),function(c){r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||(c.preventDefault(),n.currentMode==="sv"&&(n.options.preview.mode==="both"?an("editor",n):an("both",n)))}),r}return vn(t,e),t}(at),$i=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},ci=ve(580),Ui=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Fi=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=r.element.children[0],g=document.createElement("div");g.className="vditor-hint".concat(a.level===2?"":" vditor-panel--arrow");var T="";return S.g.CODE_THEME.forEach(function(H){T+="<button>".concat(H,"</button>")}),g.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(T,"</div>"),g.addEventListener((0,h.Le)(),function(H){H.target.tagName==="BUTTON"&&(M(n,["subToolbar"]),n.options.preview.hljs.style=H.target.textContent,(0,ci.Y)(H.target.textContent,n.options.cdn),H.preventDefault(),H.stopPropagation())}),r.element.appendChild(g),o(n,g,c,a.level),r}return Ui(t,e),t}(at),xt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Dn=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=r.element.children[0],g=document.createElement("div");g.className="vditor-hint".concat(a.level===2?"":" vditor-panel--arrow");var T="";return Object.keys(n.options.preview.theme.list).forEach(function(H){T+='<button data-type="'.concat(H,'">').concat(n.options.preview.theme.list[H],"</button>")}),g.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(T,"</div>"),g.addEventListener((0,h.Le)(),function(H){H.target.tagName==="BUTTON"&&(M(n,["subToolbar"]),n.options.preview.theme.current=H.target.getAttribute("data-type"),(0,ot.Z)(n.options.preview.theme.current,n.options.preview.theme.path),H.preventDefault(),H.stopPropagation())}),r.element.appendChild(g),o(n,g,c,a.level),r}return xt(t,e),t}(at),Li=function(){function e(t){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(t,"")}return e.prototype.render=function(t,n){var a=n.endsWith(`
`)?n.length-1:n.length;if(t.options.counter.type==="text"&&t[t.currentMode]){var r=t[t.currentMode].element.cloneNode(!0);r.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(c){c.remove()}),a=r.textContent.length}typeof t.options.counter.max=="number"?(a>t.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(a,"/").concat(t.options.counter.max)):this.element.innerHTML="".concat(a),this.element.setAttribute("aria-label",t.options.counter.type),t.options.counter.after&&t.options.counter.after(a,{enable:t.options.counter.enable,max:t.options.counter.max,type:t.options.counter.type})},e}(),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),l=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].innerHTML=a.icon,r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),c.currentTarget.classList.contains(S.g.CLASS_MENU_DISABLED)||a.click(c,n)}),r}return i(t,e),t}(at),d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.firstElementChild.addEventListener((0,h.Le)(),function(c){var g=r.element.firstElementChild;g.classList.contains(S.g.CLASS_MENU_DISABLED)||(c.preventDefault(),g.classList.contains("vditor-menu--current")?(g.classList.remove("vditor-menu--current"),n.devtools.element.style.display="none",Ge(n)):(g.classList.add("vditor-menu--current"),n.devtools.element.style.display="block",Ge(n),n.devtools.renderEchart(n)))}),r}return d(t,e),t}(at),m=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),L=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=document.createElement("div");c.className="vditor-panel vditor-panel--arrow";var g="";return Object.keys(n.options.hint.emoji).forEach(function(T){var H=n.options.hint.emoji[T];H.indexOf(".")>-1?g+='<button data-value=":'.concat(T,': " data-key=":').concat(T,`:"><img
data-value=":`).concat(T,': " data-key=":').concat(T,':" class="vditor-emojis__icon" src="').concat(H,'"/></button>'):g+='<button data-value="'.concat(H,` "
 data-key="`).concat(T,'"><span class="vditor-emojis__icon">').concat(H,"</span></button>")}),c.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(n.options.height==="auto"?"auto":n.options.height-80,'px">').concat(g,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(n.options.hint.emojiTail||"",`</span>
</div>`),r.element.appendChild(c),o(n,c,r.element.firstElementChild,a.level),r.bindEvent(n),r}return x(t,e),t.prototype.bindEvent=function(n){var a=this;this.element.lastElementChild.addEventListener((0,h.Le)(),function(r){var c=(0,J.S)(r.target,"BUTTON");if(c){r.preventDefault();var g=c.getAttribute("data-value"),T=(0,K.zh)(n),H=g;if(n.currentMode==="wysiwyg"?H=n.lute.SpinVditorDOM(g):n.currentMode==="ir"&&(H=n.lute.SpinVditorIRDOM(g)),g.indexOf(":")>-1&&n.currentMode!=="sv"){var N=document.createElement("div");N.innerHTML=H,H=N.firstElementChild.firstElementChild.outerHTML+" ",(0,K.oC)(H,n)}else T.extractContents(),T.insertNode(document.createTextNode(g)),(0,k.F9)(T.startContainer)||Qt(n,T);T.collapse(!1),(0,K.Hc)(T),a.element.lastElementChild.style.display="none",We(n)}}),this.element.lastElementChild.addEventListener("mouseover",function(r){var c=(0,J.S)(r.target,"BUTTON");c&&(a.element.querySelector(".vditor-emojis__tip").innerHTML=c.getAttribute("data-key"))})},t}(at),R=function(e,t,n){var a=document.createElement("a");"download"in a?(a.download=n,a.style.display="none",a.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(a),a.click(),a.remove()):e.tip.show(window.VditorI18n.downloadTip,0)},F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),X=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=r.element.children[0],g=document.createElement("div");return g.className="vditor-hint".concat(a.level===2?"":" vditor-panel--arrow"),g.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,g.addEventListener((0,h.Le)(),function(T){var H=T.target;if(H.tagName==="BUTTON"){switch(H.getAttribute("data-type")){case"markdown":(function(N){var _=u(N);R(N,_,_.substr(0,10)+".md")})(n);break;case"pdf":(function(N){N.tip.show(window.VditorI18n.generate,3800);var _=document.querySelector("#vditorExportIframe");_.contentDocument.open(),_.contentDocument.write('<link rel="stylesheet" href="'.concat(N.options.cdn,`/dist/index.css"/>
<script src="`).concat(N.options.cdn,`/dist/method.min.js"></script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(N.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(N.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(N.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
</script>`)),_.contentDocument.close(),setTimeout(function(){_.contentWindow.postMessage(u(N),"*")},200)})(n);break;case"html":(function(N){var _=Ci(N),Z='<html><head><link rel="stylesheet" type="text/css" href="'.concat(N.options.cdn,`/dist/index.css"/>
<script src="`).concat(N.options.cdn,"/dist/js/i18n/").concat(N.options.lang,`.js"></script>
<script src="`).concat(N.options.cdn,`/dist/method.min.js"></script></head>
<body><div class="vditor-reset" id="preview">`).concat(_,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(N.options.preview.theme.current,"', '").concat(N.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(N.options.preview.hljs),", previewElement, '").concat(N.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(N.options.cdn,`',
        math: `).concat(JSON.stringify(N.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(N.options.cdn,"', '").concat(N.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(N.options.cdn,"', '").concat(N.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(N.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(N.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(N.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(N.options.cdn,"', '").concat(N.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(N.options.cdn,"', '").concat(N.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(N.options.cdn,`');
    `).concat(N.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
</script>
<script src="`).concat(N.options.cdn,"/dist/js/icons/").concat(N.options.icon,'.js"></script></body></html>');R(N,Z,_.substr(0,10)+".html")})(n)}M(n,["subToolbar"]),T.preventDefault(),T.stopPropagation()}}),r.element.appendChild(g),o(n,g,c,a.level),r}return F(t,e),t}(at),U=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),ie=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r._bindEvent(n,a),r}return U(t,e),t.prototype._bindEvent=function(n,a){this.element.children[0].addEventListener((0,h.Le)(),function(r){r.preventDefault(),n.element.className.includes("vditor--fullscreen")?(a.level||(this.innerHTML=a.icon),n.element.style.zIndex="",document.body.style.overflow="",n.element.classList.remove("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(c){var g=n.toolbar.elements[c].firstChild;g&&(g.className=g.className.replace("__s","__n"),n.options.toolbar.forEach(function(T){typeof T!="string"&&T.tipPosition&&T.name===g.dataset.type&&(g.className="vditor-tooltipped vditor-tooltipped__".concat(T.tipPosition))}))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__s","__n"))):(a.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),n.element.style.zIndex=n.options.fullscreen.index.toString(),document.body.style.overflow="hidden",n.element.classList.add("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(c){var g=n.toolbar.elements[c].firstChild;g&&(g.className=g.className.replace("__n","__s"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__n","__s"))),n.devtools&&n.devtools.renderEchart(n),a.click&&a.click(r,n),Ge(n),Te(n)})},t}(at),ne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),se=function(e){function t(n,a){var r=e.call(this,n,a)||this,c=document.createElement("div");return c.className="vditor-hint vditor-panel--arrow",c.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,h.ns)("&lt;\u2325\u23181>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,h.ns)("\u2325\u23182"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,h.ns)("\u2325\u23183"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,h.ns)("\u2325\u23184"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,h.ns)("\u2325\u23185"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,h.ns)("\u2325\u23186"),"></button>"),r.element.appendChild(c),r._bindEvent(n,c),r}return ne(t,e),t.prototype._bindEvent=function(n,a){var r=this.element.children[0];r.addEventListener((0,h.Le)(),function(g){g.preventDefault(),clearTimeout(n.wysiwyg.afterRenderTimeoutId),clearTimeout(n.ir.processTimeoutId),clearTimeout(n.sv.processTimeoutId),r.classList.contains(S.g.CLASS_MENU_DISABLED)||(r.blur(),r.classList.contains("vditor-menu--current")?(n.currentMode==="wysiwyg"?(Un(n),et(n)):n.currentMode==="ir"&&Xt(n,""),r.classList.remove("vditor-menu--current")):(M(n,["subToolbar"]),a.style.display="block"))});for(var c=0;c<6;c++)a.children.item(c).addEventListener((0,h.Le)(),function(g){g.preventDefault(),n.currentMode==="wysiwyg"?(Dt(n,g.target.getAttribute("data-tag")),et(n),r.classList.add("vditor-menu--current")):n.currentMode==="ir"?(Xt(n,g.target.getAttribute("data-value")),r.classList.add("vditor-menu--current")):Rt(n,g.target.getAttribute("data-value")),a.style.display="none"})},t}(at),Ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Be=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),n.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown \u4F7F\u7528\u6307\u5357</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">\u8BED\u6CD5\u901F\u67E5\u624B\u518C</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">\u57FA\u7840\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">\u6269\u5C55\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">\u952E\u76D8\u5FEB\u6377\u952E</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor \u652F\u6301</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">\u5B98\u65B9\u8BA8\u8BBA\u533A</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">\u5F00\u53D1\u624B\u518C</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">\u6F14\u793A\u5730\u5740</a></li>
    </ul>
</div></div>`,0)}),r}return Ie(t,e),t}(at),Xe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),yt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){if(c.preventDefault(),!r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var g=(0,K.zh)(n),T=(0,k.lG)(g.startContainer,"LI");T&&Qn(n,T,g)}}),r}return Xe(t,e),t}(at),bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),tt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),n.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>\u4E0B\u4E00\u4EE3\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u4E3A\u672A\u6765\u800C\u6784\u5EFA</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor \u662F\u4E00\u6B3E\u6D4F\u89C8\u5668\u7AEF\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u652F\u6301\u6240\u89C1\u5373\u6240\u5F97\u3001\u5373\u65F6\u6E32\u67D3\uFF08\u7C7B\u4F3C Typora\uFF09\u548C\u5206\u5C4F\u9884\u89C8\u6A21\u5F0F\u3002
        \u5B83\u4F7F\u7528 TypeScript \u5B9E\u73B0\uFF0C\u652F\u6301\u539F\u751F JavaScript \u4EE5\u53CA Vue\u3001React\u3001Angular \u548C Svelte \u7B49\u6846\u67B6\u3002
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        \u9879\u76EE\u5730\u5740\uFF1A<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        \u5F00\u6E90\u534F\u8BAE\uFF1AMIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        \u7EC4\u4EF6\u7248\u672C\uFF1AVditor v`.concat(S.H," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        \u8D5E\u52A9\u6350\u8D60\uFF1A<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),r}return bt(t,e),t}(at),qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),nt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||n.currentMode==="sv"||en(n,"afterend")}),r}return qe(t,e),t}(at),Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),ut=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||n.currentMode==="sv"||en(n,"beforebegin")}),r}return Fe(t,e),t}(at),Bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),On=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r.element.children[0].addEventListener((0,h.Le)(),function(c){if(c.preventDefault(),!r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)&&n.currentMode!=="sv"){var g=(0,K.zh)(n),T=(0,k.lG)(g.startContainer,"LI");T&&Yn(n,T,g,T.parentElement)}}),r}return Bt(t,e),t}(at),Lt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return n.options.outline&&r.element.firstElementChild.classList.add("vditor-menu--current"),r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),n.toolbar.elements.outline.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||(n.options.outline.enable=!r.element.firstElementChild.classList.contains("vditor-menu--current"),n.outline.toggle(n,n.options.outline.enable))}),r}return Lt(t,e),t}(at),$t=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r._bindEvent(n),r}return $t(t,e),t.prototype._bindEvent=function(n){var a=this;this.element.children[0].addEventListener((0,h.Le)(),function(r){r.preventDefault();var c=a.element.firstElementChild;if(!c.classList.contains(S.g.CLASS_MENU_DISABLED)){var g=S.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);c.classList.contains("vditor-menu--current")?(c.classList.remove("vditor-menu--current"),n.currentMode==="sv"?(n.sv.element.style.display="block",n.options.preview.mode==="both"?n.preview.element.style.display="block":n.preview.element.style.display="none"):(n[n.currentMode].element.parentElement.style.display="block",n.preview.element.style.display="none"),A(n.toolbar.elements,g),n.outline.render(n)):(B(n.toolbar.elements,g),n.preview.element.style.display="block",n.currentMode==="sv"?n.sv.element.style.display="none":n[n.currentMode].element.parentElement.style.display="none",n.preview.render(n),c.classList.add("vditor-menu--current"),M(n,["subToolbar","hint","popover"]),setTimeout(function(){n.outline.render(n)},n.options.preview.delay+10)),Ge(n)}})},t}(at),Ut=function(){function e(t){var n;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext<"u")n=new AudioContext;else{if(!webkitAudioContext)return;n=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=n.sampleRate;var a=n.createGain();n.createMediaStreamSource(t).connect(a),this.recorder=n.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,a.connect(this.recorder),this.recorder.connect(n.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(t,n){this.leftChannel.push(new Float32Array(t)),this.rightChannel.push(new Float32Array(n)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var t=this.mergeBuffers(this.leftChannel),n=this.mergeBuffers(this.rightChannel),a=new Float32Array(t.length),r=0;r<t.length;++r)a[r]=.5*(t[r]+n[r]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(a=this.downSampleBuffer(a,this.SAMPLE_RATE));var c=44+2*a.length,g=new ArrayBuffer(c),T=new DataView(g);this.writeUTFBytes(T,0,"RIFF"),T.setUint32(4,c,!0),this.writeUTFBytes(T,8,"WAVE"),this.writeUTFBytes(T,12,"fmt "),T.setUint32(16,16,!0),T.setUint16(20,1,!0),T.setUint16(22,1,!0),T.setUint32(24,this.SAMPLE_RATE,!0),T.setUint32(28,2*this.SAMPLE_RATE,!0),T.setUint16(32,2,!0),T.setUint16(34,16,!0);var H=2*a.length;this.writeUTFBytes(T,36,"data"),T.setUint32(40,H,!0);for(var N=a.length,_=44,Z=0;Z<N;Z++)T.setInt16(_,32767*a[Z],!0),_+=2;return new Blob([T],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(t,n){if(n===this.DEFAULT_SAMPLE_RATE||n>this.DEFAULT_SAMPLE_RATE)return t;for(var a=this.DEFAULT_SAMPLE_RATE/n,r=Math.round(t.length/a),c=new Float32Array(r),g=0,T=0;g<c.length;){for(var H=Math.round((g+1)*a),N=0,_=0,Z=T;Z<H&&Z<t.length;Z++)N+=t[Z],_++;c[g]=N/_,g++,T=H}return c},e.prototype.mergeBuffers=function(t){for(var n=new Float32Array(this.recordingLength),a=0,r=t.length,c=0;c<r;++c){var g=t[c];n.set(g,a),a+=g.length}return n},e.prototype.writeUTFBytes=function(t,n,a){for(var r=a.length,c=0;c<r;c++)t.setUint8(n+c,a.charCodeAt(c))},e}(),mt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),sn=function(e){function t(n,a){var r=e.call(this,n,a)||this;return r._bindEvent(n),r}return mt(t,e),t.prototype._bindEvent=function(n){var a,r=this;this.element.children[0].addEventListener((0,h.Le)(),function(c){if(c.preventDefault(),!r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)){var g=n[n.currentMode].element;if(a)if(a.isRecording){a.stopRecording(),n.tip.hide();var T=new File([a.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});Gn(n,[T]),r.element.children[0].classList.remove("vditor-menu--current")}else n.tip.show(window.VditorI18n.recording),g.setAttribute("contenteditable","false"),a.startRecordingNewWavFile(),r.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(H){(a=new Ut(H)).recorder.onaudioprocess=function(N){if(a.isRecording){var _=N.inputBuffer.getChannelData(0),Z=N.inputBuffer.getChannelData(1);a.cloneChannelData(_,Z)}},a.startRecordingNewWavFile(),n.tip.show(window.VditorI18n.recording),g.setAttribute("contenteditable","false"),r.element.children[0].classList.add("vditor-menu--current")}).catch(function(){n.tip.show(window.VditorI18n["record-tip"])})}})},t}(at),di=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),pt=function(e){function t(n,a){var r=e.call(this,n,a)||this;return B({redo:r.element},["redo"]),r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||n.undo.redo(n)}),r}return di(t,e),t}(at),Jt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mi=function(e){function t(n,a){var r=e.call(this,n,a)||this;return B({undo:r.element},["undo"]),r.element.children[0].addEventListener((0,h.Le)(),function(c){c.preventDefault(),r.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED)||n.undo.undo(n)}),r}return Jt(t,e),t}(at),Vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ai=function(e){function t(n,a){var r=e.call(this,n,a)||this,c='<input type="file"';return n.options.upload.multiple&&(c+=' multiple="multiple"'),n.options.upload.accept&&(c+=' accept="'.concat(n.options.upload.accept,'"')),r.element.children[0].innerHTML="".concat(a.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(c,">"),r._bindEvent(n),r}return Vi(t,e),t.prototype._bindEvent=function(n){var a=this;this.element.children[0].addEventListener((0,h.Le)(),function(r){if(a.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED))return r.stopPropagation(),void r.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(r){if(a.element.firstElementChild.classList.contains(S.g.CLASS_MENU_DISABLED))return r.stopPropagation(),void r.preventDefault();r.target.files.length!==0&&Gn(n,r.target.files,r.target)})},t}(at),ui=function(){function e(t){var n=this,a=t.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",a.toolbar.forEach(function(r,c){var g=n.genItem(t,r,c);if(n.element.appendChild(g),r.toolbar){var T=document.createElement("div");T.className="vditor-hint vditor-panel--arrow",T.addEventListener((0,h.Le)(),function(H){T.style.display="none"}),r.toolbar.forEach(function(H,N){H.level=2,T.appendChild(n.genItem(t,H,c+N))}),g.appendChild(T),o(t,T,g.children[0])}}),t.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),t.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),t.options.counter.enable&&(t.counter=new Li(t),this.element.appendChild(t.counter.element))}return e.prototype.updateConfig=function(t,n){t.options.toolbarConfig=Object.assign({hide:!1,pin:!1},n),t.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),t.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},e.prototype.genItem=function(t,n,a){var r;switch(n.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":r=new at(t,n);break;case"emoji":r=new L(t,n);break;case"headings":r=new se(t,n);break;case"|":r=new m;break;case"br":r=new $i;break;case"undo":r=new Mi(t,n);break;case"redo":r=new pt(t,n);break;case"help":r=new Be(t,n);break;case"both":r=new Ti(t,n);break;case"preview":r=new Zt(t,n);break;case"fullscreen":r=new ie(t,n);break;case"upload":r=new Ai(t,n);break;case"record":r=new sn(t,n);break;case"info":r=new tt(t,n);break;case"edit-mode":r=new Hi(t,n);break;case"devtools":r=new f(t,n);break;case"outdent":r=new On(t,n);break;case"indent":r=new yt(t,n);break;case"outline":r=new Mt(t,n);break;case"insert-after":r=new nt(t,n);break;case"insert-before":r=new ut(t,n);break;case"code-theme":r=new Fi(t,n);break;case"content-theme":r=new Dn(t,n);break;case"export":r=new X(t,n);break;default:r=new l(t,n)}if(r){var c=n.name;return c!=="br"&&c!=="|"||(c+=a),this.elements[c]=r.element,r.element}},e}(),jn=ve(173),Wi=function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new jn}return e.prototype.clearStack=function(t){this.resetStack(),this.resetIcon(t)},e.prototype.resetIcon=function(t){t.toolbar&&(this[t.currentMode].undoStack.length>1?A(t.toolbar.elements,["undo"]):B(t.toolbar.elements,["undo"]),this[t.currentMode].redoStack.length!==0?A(t.toolbar.elements,["redo"]):B(t.toolbar.elements,["redo"]))},e.prototype.undo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[t.currentMode].undoStack.length<2)){var n=this[t.currentMode].undoStack.pop();n&&(this[t.currentMode].redoStack.push(n),this.renderDiff(n,t),this[t.currentMode].hasUndo=!0,M(t,["hint"]))}},e.prototype.redo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"){var n=this[t.currentMode].redoStack.pop();n&&(this[t.currentMode].undoStack.push(n),this.renderDiff(n,t,!0))}},e.prototype.recordFirstPosition=function(t,n){if(getSelection().rangeCount!==0&&!(this[t.currentMode].undoStack.length!==1||this[t.currentMode].undoStack[0].length===0||this[t.currentMode].redoStack.length>0||(0,h.vU)()&&n.key==="Backspace"||(0,h.G6)())){var a=this.addCaret(t);a.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[t.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[t.currentMode].undoStack[0][0].diffs[0][1]=a,this[t.currentMode].lastText=a)}},e.prototype.addToUndoStack=function(t){var n=this.addCaret(t,!0),a=this.dmp.diff_main(n,this[t.currentMode].lastText,!0),r=this.dmp.patch_make(n,this[t.currentMode].lastText,a);r.length===0&&this[t.currentMode].undoStack.length>0||(this[t.currentMode].lastText=n,this[t.currentMode].undoStack.push(r),this[t.currentMode].undoStack.length>this.stackSize&&this[t.currentMode].undoStack.shift(),this[t.currentMode].hasUndo&&(this[t.currentMode].redoStack=[],this[t.currentMode].hasUndo=!1,B(t.toolbar.elements,["redo"])),this[t.currentMode].undoStack.length>1&&A(t.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(t,n,a){var r;if(a===void 0&&(a=!1),a){var c=this.dmp.patch_deepCopy(t).reverse();c.forEach(function(T){T.diffs.forEach(function(H){H[0]=-H[0]})}),r=this.dmp.patch_apply(c,this[n.currentMode].lastText)[0]}else r=this.dmp.patch_apply(t,this[n.currentMode].lastText)[0];if(this[n.currentMode].lastText=r,n[n.currentMode].element.innerHTML=r,n.currentMode!=="sv"&&(n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview")).forEach(function(T){T.parentElement.querySelector(".language-echarts")&&(n.currentMode==="ir"?T.parentElement.outerHTML=n.lute.SpinVditorIRDOM(T.parentElement.outerHTML):T.parentElement.outerHTML=n.lute.SpinVditorDOM(T.parentElement.outerHTML))}),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(T){rt(T,n)})),n[n.currentMode].element.querySelector("wbr"))(0,K.ib)(n[n.currentMode].element,n[n.currentMode].element.ownerDocument.createRange()),dt(n);else{var g=getSelection().getRangeAt(0);g.setEndBefore(n[n.currentMode].element),g.collapse(!1)}Ct(n),We(n,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),Wt(n),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(T){rt(T,n)}),this[n.currentMode].undoStack.length>1?A(n.toolbar.elements,["undo"]):B(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?A(n.toolbar.elements,["redo"]):B(n.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(t,n){var a;if(n===void 0&&(n=!1),getSelection().rangeCount!==0&&!t[t.currentMode].element.querySelector("wbr")){var r=getSelection().getRangeAt(0);if(t[t.currentMode].element.contains(r.startContainer)){a=r.cloneRange();var c=document.createElement("span");c.className="vditor-wbr",r.insertNode(c)}}var g=t[t.currentMode].element.cloneNode(!0);g.querySelectorAll(".vditor-".concat(t.currentMode,"__preview[data-render='1']")).forEach(function(H){H.firstElementChild&&(H.firstElementChild.classList.contains("language-echarts")||H.firstElementChild.classList.contains("language-plantuml")||H.firstElementChild.classList.contains("language-mindmap")?(H.firstElementChild.removeAttribute("_echarts_instance_"),H.firstElementChild.removeAttribute("data-processed"),H.firstElementChild.innerHTML=H.previousElementSibling.firstElementChild.innerHTML,H.setAttribute("data-render","2")):H.firstElementChild.classList.contains("language-math")&&(H.setAttribute("data-render","2"),H.firstElementChild.textContent=H.firstElementChild.getAttribute("data-math"),H.firstElementChild.removeAttribute("data-math")))});var T=g.innerHTML;return t[t.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(H){H.remove()}),n&&a&&(0,K.Hc)(a),T.replace('<span class="vditor-wbr"></span>',"<wbr>")},e}(),zi=ve(673),Ki=function(){function e(t){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:S.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"\u{1F44D}","-1":"\u{1F44E}",confused:"\u{1F615}",eyes:"\u{1F440}\uFE0F",heart:"\u2764\uFE0F",rocket:"\u{1F680}\uFE0F",smile:"\u{1F604}",tada:"\u{1F389}\uFE0F"},emojiPath:"".concat(S.g.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:S.g.HLJS_OPTIONS,markdown:S.g.MARKDOWN_OPTIONS,math:S.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:S.g.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(n){return n.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=t}return e.prototype.merge=function(){var t,n,a,r,c,g,T,H,N;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((n=(t=this.options.preview)===null||t===void 0?void 0:t.theme)===null||n===void 0)&&n.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((c=(r=(a=this.options.preview)===null||a===void 0?void 0:a.render)===null||r===void 0?void 0:r.media)===null||c===void 0)&&c.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((g=this.options.hint)===null||g===void 0)&&g.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((H=(T=this.options.preview)===null||T===void 0?void 0:T.theme)===null||H===void 0)&&H.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((N=this.options.hint)===null||N===void 0)&&N.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var _=(0,zi.T)(this.defaultOptions,this.options);if(_.cache.enable&&!_.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return _},e.prototype.mergeToolbar=function(t){var n=this,a=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"\u2318E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"\u2318H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"\u2318B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"\u2318I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"\u2318D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"\u2318K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"\u2318L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"\u2318O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"\u2318J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"\u21E7\u2318I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"\u21E7\u2318O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"\u2318;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"\u21E7\u2318H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"\u2318U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"\u2318G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"\u21E7\u2318B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"\u21E7\u2318E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"\u2318M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"\u2318Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"\u2318Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"\u2318'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"\u2318P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],r=[];return t.forEach(function(c){var g=c;a.forEach(function(T){typeof c=="string"&&T.name===c&&(g=T),typeof c=="object"&&T.name===c.name&&(g=Object.assign({},T,c))}),c.toolbar&&(g.toolbar=n.mergeToolbar(c.toolbar)),r.push(g)}),r},e}(),Gi=function(){function e(t){var n=this;this.composingLock=!1,this.commentIds=[];var a=document.createElement("div");a.className="vditor-wysiwyg",a.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=a.firstElementChild,this.popover=a.firstElementChild.nextElementSibling,this.selectPopover=a.lastElementChild,this.bindEvent(t),Wn(t,this.element),hi(t,this.element),kt(t,this.element),wn(t,this.element),fn(t,this.element),zn(t,this.element),pn(t,this.element,this.copy),Kn(t,this.element,this.copy),t.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var r,c,g=Lute.NewNodeID(),T=getSelection().getRangeAt(0),H=T.cloneRange(),N=T.extractContents(),_=!1,Z=!1;N.childNodes.forEach(function(z,he){var de=!1;if(z.nodeType===3?de=!0:z.classList.contains("vditor-comment")?z.classList.contains("vditor-comment")&&z.setAttribute("data-cmtids",z.getAttribute("data-cmtids")+" "+g):de=!0,de)if(z.nodeType!==3&&z.getAttribute("data-block")==="0"&&he===0&&H.startOffset>0)z.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(g,'">').concat(z.innerHTML,"</span>"),r=z;else if(z.nodeType!==3&&z.getAttribute("data-block")==="0"&&he===N.childNodes.length-1&&H.endOffset<H.endContainer.textContent.length)z.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(g,'">').concat(z.innerHTML,"</span>"),c=z;else if(z.nodeType!==3&&z.getAttribute("data-block")==="0")he===0?_=!0:he===N.childNodes.length-1&&(Z=!0),z.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(g,'">').concat(z.innerHTML,"</span>");else{var re=document.createElement("span");re.classList.add("vditor-comment"),re.setAttribute("data-cmtids",g),z.parentNode.insertBefore(re,z),re.appendChild(z)}});var ee=(0,k.F9)(H.startContainer);ee&&(r?(ee.insertAdjacentHTML("beforeend",r.innerHTML),r.remove()):ee.textContent.trim().replace(S.g.ZWSP,"")===""&&_&&ee.remove());var ge=(0,k.F9)(H.endContainer);ge&&(c?(ge.insertAdjacentHTML("afterbegin",c.innerHTML),c.remove()):ge.textContent.trim().replace(S.g.ZWSP,"")===""&&Z&&ge.remove()),T.insertNode(N),t.options.comment.add(g,T.toString(),n.getComments(t,!0)),et(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),n.hideComment()})}return e.prototype.getComments=function(t,n){var a=this;if(n===void 0&&(n=!1),t.currentMode!=="wysiwyg"||!t.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(c){a.commentIds=a.commentIds.concat(c.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var r=[];return n?(this.commentIds.forEach(function(c){r.push({id:c,top:a.element.querySelector('.vditor-comment[data-cmtids="'.concat(c,'"]')).offsetTop})}),r):void 0},e.prototype.triggerRemoveComment=function(t){var n,a,r;if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.commentIds.length>0){var c=JSON.parse(JSON.stringify(this.commentIds));this.getComments(t);var g=(n=c,a=this.commentIds,r=new Set(a),n.filter(function(T){return!r.has(T)}));g.length>0&&t.options.comment.remove(g)}},e.prototype.showComment=function(){var t=(0,K.Ny)(this.element);this.selectPopover.setAttribute("style","left:".concat(t.left,"px;display:block;top:").concat(Math.max(-8,t.top-21),"px"))},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},e.prototype.copy=function(t,n){var a=getSelection().getRangeAt(0);if(a.toString()!==""){t.stopPropagation(),t.preventDefault();var r=(0,k.lG)(a.startContainer,"CODE"),c=(0,k.lG)(a.endContainer,"CODE");if(r&&c&&c.isSameNode(r)){var g="";return g=r.parentElement.tagName==="PRE"?a.toString():"`"+a.toString()+"`",t.clipboardData.setData("text/plain",g),void t.clipboardData.setData("text/html","")}var T=(0,k.lG)(a.startContainer,"A"),H=(0,k.lG)(a.endContainer,"A");if(T&&H&&H.isSameNode(T)){var N=T.getAttribute("title")||"";return N&&(N=' "'.concat(N,'"')),t.clipboardData.setData("text/plain","[".concat(a.toString(),"](").concat(T.getAttribute("href")).concat(N,")")),void t.clipboardData.setData("text/html","")}var _=document.createElement("div");_.appendChild(a.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorDOM2Md(_.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(M(t,["hint"]),n.popover.style.display==="block"&&n.selectPopover.style.display==="block"){var a=parseInt(n.popover.getAttribute("data-top"),10);if(t.options.height==="auto"){if(t.options.toolbarConfig.pin){var r=Math.max(a,window.scrollY-t.element.offsetTop-8)+"px";n.popover.style.display==="block"&&(n.popover.style.top=r),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=r)}}else if(t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0){var c=Math.max(window.scrollY-t.element.offsetTop-8,Math.min(a-t.wysiwyg.element.scrollTop,n.element.clientHeight-21))+"px";n.popover.style.display==="block"&&(n.popover.style.top=c),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=c)}}}),this.element.addEventListener("scroll",function(){if(M(t,["hint"]),t.options.comment&&t.options.comment.enable&&t.options.comment.scroll&&t.options.comment.scroll(t.wysiwyg.element.scrollTop),n.popover.style.display==="block"){var a=parseInt(n.popover.getAttribute("data-top"),10)-t.wysiwyg.element.scrollTop,r=-8;t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0&&(r=window.scrollY-t.element.offsetTop+r);var c=Math.max(r,Math.min(a,n.element.clientHeight-21))+"px";n.popover.style.top=c,n.selectPopover.style.top=c}}),this.element.addEventListener("paste",function(a){gn(t,a,{pasteCode:function(r){var c=(0,K.zh)(t),g=document.createElement("template");g.innerHTML=r,c.insertNode(g.content.cloneNode(!0));var T=(0,k.a1)(c.startContainer,"data-block","0");T?T.outerHTML=t.lute.SpinVditorDOM(T.outerHTML):t.wysiwyg.element.innerHTML=t.lute.SpinVditorDOM(t.wysiwyg.element.innerHTML),(0,K.ib)(t.wysiwyg.element,c)}})}),this.element.addEventListener("compositionstart",function(){n.composingLock=!0}),this.element.addEventListener("compositionend",function(a){var r=(0,J.W)(getSelection().getRangeAt(0).startContainer);r&&r.textContent===""?Ct(t):((0,h.vU)()||Kt(t,getSelection().getRangeAt(0).cloneRange(),a),n.composingLock=!1)}),this.element.addEventListener("input",function(a){if(a.inputType!=="deleteByDrag"&&a.inputType!=="insertFromDrop"){if(n.preventInput)return n.preventInput=!1,void et(t);if(n.composingLock||a.data==="\u2018"||a.data==="\u201C"||a.data==="\u300A")et(t);else{var r=getSelection().getRangeAt(0),c=(0,k.F9)(r.startContainer);if(c||(Qt(t,r),c=(0,k.F9)(r.startContainer)),c){for(var g=(0,K.im)(c,t.wysiwyg.element,r).start,T=!0,H=g-1;H>c.textContent.substr(0,g).lastIndexOf(`
`);H--)if(c.textContent.charAt(H)!==" "&&c.textContent.charAt(H)!=="	"){T=!1;break}g===0&&(T=!1);var N=!0;for(H=g-1;H<c.textContent.length;H++)if(c.textContent.charAt(H)!==" "&&c.textContent.charAt(H)!==`
`){N=!1;break}N&&/^#{1,6} $/.test(c.textContent)&&(N=!1);var _=(0,J.W)(getSelection().getRangeAt(0).startContainer);_&&_.textContent===""&&(Ct(t),_.remove()),T&&c.getAttribute("data-type")!=="code-block"||N||ei(c.innerHTML)||Sn(c.innerHTML)&&c.previousElementSibling?typeof t.options.input=="function"&&t.options.input(u(t)):(a.inputType==="insertParagraph"&&n.element.innerHTML==="<p><br></p><p><br></p>"&&c.previousElementSibling.remove(),Kt(t,r,a))}}}}),this.element.addEventListener("click",function(a){if(a.target.tagName==="INPUT"){var r=a.target;return r.checked?r.setAttribute("checked","checked"):r.removeAttribute("checked"),n.preventInput=!0,getSelection().rangeCount>0&&(0,K.Hc)(getSelection().getRangeAt(0)),void et(t)}if(a.target.tagName!=="IMG"||a.target.parentElement.classList.contains("vditor-wysiwyg__preview")){var c=(0,k.lG)(a.target,"A");if(c)return t.options.link.click?t.options.link.click(c):t.options.link.isOpen&&window.open(c.getAttribute("href")),void a.preventDefault();var g=(0,K.zh)(t);if(a.target.isEqualNode(n.element)&&n.element.lastElementChild&&g.collapsed){var T=n.element.lastElementChild.getBoundingClientRect();a.y>T.top+T.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(S.g.ZWSP,"")===""?(g.selectNodeContents(n.element.lastElementChild),g.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(S.g.ZWSP,"<wbr></p>")),(0,K.ib)(n.element,g)))}Pt(t);var H=(0,k.fb)(a.target,"vditor-wysiwyg__preview");H||(H=(0,k.fb)((0,K.zh)(t).startContainer,"vditor-wysiwyg__preview")),H&&dn(H,t),At(a,t)}else a.target.getAttribute("data-type")==="link-ref"?Fn(t,a.target):function(N,_){var Z=N.target;_.wysiwyg.popover.innerHTML="";var ee=function(){Z.setAttribute("src",z.value),Z.setAttribute("alt",de.value),Z.setAttribute("title",ue.value),typeof _.options.input=="function"&&_.options.input(u(_))},ge=document.createElement("span");ge.setAttribute("aria-label",window.VditorI18n.imageURL),ge.className="vditor-tooltipped vditor-tooltipped__n";var z=document.createElement("input");ge.appendChild(z),z.className="vditor-input",z.setAttribute("placeholder",window.VditorI18n.imageURL),z.value=Z.getAttribute("src")||"",z.oninput=function(){ee()},z.onkeydown=function(pe){wt(_,pe)};var he=document.createElement("span");he.setAttribute("aria-label",window.VditorI18n.alternateText),he.className="vditor-tooltipped vditor-tooltipped__n";var de=document.createElement("input");he.appendChild(de),de.className="vditor-input",de.setAttribute("placeholder",window.VditorI18n.alternateText),de.style.width="52px",de.value=Z.getAttribute("alt")||"",de.oninput=function(){ee()},de.onkeydown=function(pe){wt(_,pe)};var re=document.createElement("span");re.setAttribute("aria-label",window.VditorI18n.title),re.className="vditor-tooltipped vditor-tooltipped__n";var ue=document.createElement("input");re.appendChild(ue),ue.className="vditor-input",ue.setAttribute("placeholder",window.VditorI18n.title),ue.value=Z.getAttribute("title")||"",ue.oninput=function(){ee()},ue.onkeydown=function(pe){wt(_,pe)},Tt(Z,_),_.wysiwyg.popover.insertAdjacentElement("beforeend",ge),_.wysiwyg.popover.insertAdjacentElement("beforeend",he),_.wysiwyg.popover.insertAdjacentElement("beforeend",re),_t(_,Z)}(a,t)}),this.element.addEventListener("keyup",function(a){if(!a.isComposing&&!(0,h.yl)(a)){a.key==="Enter"&&dt(t),a.key!=="Backspace"&&a.key!=="Delete"||t.wysiwyg.element.innerHTML===""||t.wysiwyg.element.childNodes.length!==1||!t.wysiwyg.element.firstElementChild||t.wysiwyg.element.firstElementChild.tagName!=="P"||t.wysiwyg.element.firstElementChild.childElementCount!==0||t.wysiwyg.element.textContent!==""&&t.wysiwyg.element.textContent!==`
`||(t.wysiwyg.element.innerHTML="");var r=(0,K.zh)(t);if(a.key==="Backspace"&&(0,h.vU)()&&r.startContainer.textContent===`
`&&r.startOffset===1&&(r.startContainer.textContent=""),Qt(t,r),Pt(t),a.key==="ArrowDown"||a.key==="ArrowRight"||a.key==="Backspace"||a.key==="ArrowLeft"||a.key==="ArrowUp"){a.key!=="ArrowLeft"&&a.key!=="ArrowRight"||t.hint.render(t);var c=(0,k.fb)(r.startContainer,"vditor-wysiwyg__preview");if(!c&&r.startContainer.nodeType!==3&&r.startOffset>0&&(T=r.startContainer).classList.contains("vditor-wysiwyg__block")&&(c=T.lastElementChild),c)if(c.previousElementSibling.style.display!=="none"){var g=c.previousElementSibling;if(g.tagName==="PRE"&&(g=g.firstElementChild),a.key==="ArrowDown"||a.key==="ArrowRight"){var T,H=function(_){for(var Z=_;Z&&!Z.nextSibling;)Z=Z.parentElement;return Z.nextSibling}(T=c.parentElement);if(H&&H.nodeType!==3){var N=H.querySelector(".vditor-wysiwyg__preview");if(N)return void dn(N,t)}if(H.nodeType===3){for(;H.textContent.length===0&&H.nextSibling;)H=H.nextSibling;r.setStart(H,1)}else r.setStart(H.firstChild,0)}else r.selectNodeContents(g),r.collapse(!1)}else a.key==="ArrowDown"||a.key==="ArrowRight"?dn(c,t):dn(c,t,!1)}}})},e}(),In=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}();const pi=function(e){function t(n,a){var r=e.call(this)||this;if(r.isDestroyed=!1,r.version=S.H,typeof n=="string"){if(a?a.cache?a.cache.id||(a.cache.id="vditor".concat(n)):a.cache={id:"vditor".concat(n)}:a={cache:{id:"vditor".concat(n)}},!document.getElementById(n))return r.showErrorTip("Failed to get element by id: ".concat(n)),r;n=document.getElementById(n)}var c=new Ki(a).merge();if(c.i18n)window.VditorI18n=c.i18n,r.init(n,c);else{if(!["de_DE","en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(c.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var g="vditorI18nScript",T=g+c.lang;document.querySelectorAll('head script[id^="'.concat(g,'"]')).forEach(function(H){H.id!==T&&document.head.removeChild(H)}),(0,p.G)("".concat(c.cdn,"/dist/js/i18n/").concat(c.lang,".js"),T).then(function(){r.init(n,c)}).catch(function(H){r.showErrorTip("GET ".concat(c.cdn,"/dist/js/i18n/").concat(c.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}return r}return In(t,e),t.prototype.showErrorTip=function(n){var a=new Si;document.body.appendChild(a.element),a.show(n,0)},t.prototype.updateToolbarConfig=function(n){this.vditor.toolbar.updateConfig(this.vditor,n)},t.prototype.setTheme=function(n,a,r,c){this.vditor.options.theme=n,ct(this.vditor),a&&(this.vditor.options.preview.theme.current=a,(0,ot.Z)(a,c||this.vditor.options.preview.theme.path)),r&&(this.vditor.options.preview.hljs.style=r,(0,ci.Y)(r,this.vditor.options.cdn))},t.prototype.getValue=function(){return u(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},t.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){M(this.vditor,["subToolbar","hint","popover"]),B(this.vditor.toolbar.elements,S.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){A(this.vditor.toolbar.elements,S.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?Yt(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?Yt(this.vditor.sv.element):this.vditor.currentMode==="ir"?Yt(this.vditor.ir.element):void 0},t.prototype.renderPreview=function(n){this.vditor.preview.render(this.vditor,n)},t.prototype.getCursorPosition=function(){return(0,K.Ny)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,h.pK)()&&localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(n){return this.vditor.lute.HTML2Md(n)},t.prototype.exportJSON=function(n){return this.vditor.lute.RenderJSON(n)},t.prototype.getHTML=function(){return Ci(this.vditor)},t.prototype.tip=function(n,a){this.vditor.tip.show(n,a)},t.prototype.setPreviewMode=function(n){an(n,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(n){document.execCommand("insertHTML",!1,n)},t.prototype.insertValue=function(n,a){a===void 0&&(a=!0);var r=(0,K.zh)(this.vditor);r.collapse(!0);var c=document.createElement("template");c.innerHTML=n,r.insertNode(c.content.cloneNode(!0)),r.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,a&&Ke(this.vditor)):this.vditor.currentMode==="wysiwyg"?a&&Kt(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,a&&Qe(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.insertMD=function(n){this.vditor.currentMode==="ir"?(0,K.oC)(this.vditor.lute.Md2VditorIRDOM(n),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,K.oC)(this.vditor.lute.Md2VditorDOM(n),this.vditor):kn(this.vditor,n),this.vditor.outline.render(this.vditor),We(this.vditor)},t.prototype.setValue=function(n,a){var r=this;a===void 0&&(a=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(n),"</div>"),st(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?Vn(this.vditor,n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(n),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(c){rt(c,r.vditor)}),Nt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),n||(M(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),a&&this.clearStack()},t.prototype.insertEmptyBlock=function(n){en(this.vditor,n)},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var n=document.getElementById("vditorIconScript");n&&n.remove(),this.clearCache(),gt(),this.vditor.wysiwyg.unbindListener(),this.vditor.options.after=void 0,this.isDestroyed=!0},t.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var a=function(r){r.classList.remove("vditor-comment--hover"),n.forEach(function(c){r.getAttribute("data-cmtids").indexOf(c)>-1&&r.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(r){a(r)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(r){a(r)})}},t.prototype.unHlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var a=function(r){n.forEach(function(c){r.getAttribute("data-cmtids").indexOf(c)>-1&&r.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(r){a(r)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(r){a(r)})}},t.prototype.removeCommentIds=function(n){var a=this;if(this.vditor.currentMode==="wysiwyg"){var r=function(c,g){var T=c.getAttribute("data-cmtids").split(" ");T.find(function(H,N){if(H===g)return T.splice(N,1),!0}),T.length===0?(c.outerHTML=c.innerHTML,(0,K.zh)(a.vditor).collapse(!0)):c.setAttribute("data-cmtids",T.join(" "))};n.forEach(function(c){a.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(g){r(g,c)}),a.vditor.preview.element.style.display!=="none"&&a.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(g){r(g,c)})}),et(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t.prototype.init=function(n,a){var r=this;this.isDestroyed||(this.vditor={currentMode:a.mode,element:n,hint:new nn(a.hint.extend),lute:void 0,options:a,originalInnerHTML:n.innerHTML,outline:new Ri(window.VditorI18n.outline),tip:new Si},this.vditor.sv=new Bi(this.vditor),this.vditor.undo=new Wi,this.vditor.wysiwyg=new Gi(this.vditor),this.vditor.ir=new rn(this.vditor),this.vditor.toolbar=new ui(this.vditor),a.resize.enable&&(this.vditor.resize=new qi(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new v),(a.upload.url||a.upload.handler)&&(this.vditor.upload=new gi),(0,p.G)(a._lutePath||"".concat(a.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){r.vditor.lute=(0,si.X)({autoSpace:r.vditor.options.preview.markdown.autoSpace,gfmAutoLink:r.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:r.vditor.options.preview.markdown.codeBlockPreview,emojiSite:r.vditor.options.hint.emojiPath,emojis:r.vditor.options.hint.emoji,fixTermTypo:r.vditor.options.preview.markdown.fixTermTypo,footnotes:r.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:r.vditor.options.preview.math.inlineDigit,linkBase:r.vditor.options.preview.markdown.linkBase,linkPrefix:r.vditor.options.preview.markdown.linkPrefix,listStyle:r.vditor.options.preview.markdown.listStyle,mark:r.vditor.options.preview.markdown.mark,mathBlockPreview:r.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:r.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:r.vditor.options.preview.markdown.sanitize,toc:r.vditor.options.preview.markdown.toc}),r.vditor.preview=new Nn(r.vditor),function(c){c.element.innerHTML="",c.element.classList.add("vditor"),c.options.rtl&&c.element.setAttribute("dir","rtl"),ct(c),(0,ot.Z)(c.options.preview.theme.current,c.options.preview.theme.path),typeof c.options.height=="number"?c.element.style.height=c.options.height+"px":c.element.style.height=c.options.height,typeof c.options.minHeight=="number"&&(c.element.style.minHeight=c.options.minHeight+"px"),typeof c.options.width=="number"?c.element.style.width=c.options.width+"px":c.element.style.width=c.options.width,c.element.appendChild(c.toolbar.element);var g=document.createElement("div");if(g.className="vditor-content",c.options.outline.position==="left"&&g.appendChild(c.outline.element),g.appendChild(c.wysiwyg.element.parentElement),g.appendChild(c.sv.element),g.appendChild(c.ir.element.parentElement),g.appendChild(c.preview.element),c.toolbar.elements.devtools&&g.appendChild(c.devtools.element),c.options.outline.position==="right"&&(c.outline.element.classList.add("vditor-outline--right"),g.appendChild(c.outline.element)),c.upload&&g.appendChild(c.upload.element),c.options.resize.enable&&g.appendChild(c.resize.element),g.appendChild(c.hint.element),g.appendChild(c.tip.element),c.element.appendChild(g),g.addEventListener("click",function(){M(c,["subToolbar"])}),c.toolbar.elements.export&&c.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),Ot(c,c.options.mode,qn(c)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var T=!1,H=function(N){T||(T=!0,requestAnimationFrame(function(){T=!1;var _=c.toolbar.element;_.style.transform="none",_.getBoundingClientRect().top<0&&(_.style.transform="translate(0, ".concat(-_.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",H),window.visualViewport.addEventListener("resize",H)}}(r.vditor),a.after&&a.after(),a.icon&&(0,p.J)("".concat(a.cdn,"/dist/js/icons/").concat(a.icon,".js"),"vditorIconScript")}))},t}(E.default)})(),P=P.default})()});
